(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var Sl={exports:{}},Yo={},Tl={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc;function Rh(){if(Yc)return ae;Yc=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function M(A,L,le){this.props=A,this.context=L,this.refs=k,this.updater=le||C}M.prototype.isReactComponent={},M.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=M.prototype;function q(A,L,le){this.props=A,this.context=L,this.refs=k,this.updater=le||C}var H=q.prototype=new F;H.constructor=q,N(H,M.prototype),H.isPureReactComponent=!0;var J=Array.isArray,b=Object.prototype.hasOwnProperty,j={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function de(A,L,le){var ue,pe={},me=null,Se=null;if(L!=null)for(ue in L.ref!==void 0&&(Se=L.ref),L.key!==void 0&&(me=""+L.key),L)b.call(L,ue)&&!X.hasOwnProperty(ue)&&(pe[ue]=L[ue]);var ve=arguments.length-2;if(ve===1)pe.children=le;else if(1<ve){for(var Ae=Array(ve),lt=0;lt<ve;lt++)Ae[lt]=arguments[lt+2];pe.children=Ae}if(A&&A.defaultProps)for(ue in ve=A.defaultProps,ve)pe[ue]===void 0&&(pe[ue]=ve[ue]);return{$$typeof:n,type:A,key:me,ref:Se,props:pe,_owner:j.current}}function Z(A,L){return{$$typeof:n,type:A.type,key:L,ref:A.ref,props:A.props,_owner:A._owner}}function se(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function Ee(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(le){return L[le]})}var Ue=/\/+/g;function ce(A,L){return typeof A=="object"&&A!==null&&A.key!=null?Ee(""+A.key):L.toString(36)}function Me(A,L,le,ue,pe){var me=typeof A;(me==="undefined"||me==="boolean")&&(A=null);var Se=!1;if(A===null)Se=!0;else switch(me){case"string":case"number":Se=!0;break;case"object":switch(A.$$typeof){case n:case e:Se=!0}}if(Se)return Se=A,pe=pe(Se),A=ue===""?"."+ce(Se,0):ue,J(pe)?(le="",A!=null&&(le=A.replace(Ue,"$&/")+"/"),Me(pe,L,le,"",function(lt){return lt})):pe!=null&&(se(pe)&&(pe=Z(pe,le+(!pe.key||Se&&Se.key===pe.key?"":(""+pe.key).replace(Ue,"$&/")+"/")+A)),L.push(pe)),1;if(Se=0,ue=ue===""?".":ue+":",J(A))for(var ve=0;ve<A.length;ve++){me=A[ve];var Ae=ue+ce(me,ve);Se+=Me(me,L,le,Ae,pe)}else if(Ae=E(A),typeof Ae=="function")for(A=Ae.call(A),ve=0;!(me=A.next()).done;)me=me.value,Ae=ue+ce(me,ve++),Se+=Me(me,L,le,Ae,pe);else if(me==="object")throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Se}function st(A,L,le){if(A==null)return A;var ue=[],pe=0;return Me(A,ue,"","",function(me){return L.call(le,me,pe++)}),ue}function we(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(le){(A._status===0||A._status===-1)&&(A._status=1,A._result=le)},function(le){(A._status===0||A._status===-1)&&(A._status=2,A._result=le)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var _e={current:null},z={transition:null},ne={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:z,ReactCurrentOwner:j};function W(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:st,forEach:function(A,L,le){st(A,function(){L.apply(this,arguments)},le)},count:function(A){var L=0;return st(A,function(){L++}),L},toArray:function(A){return st(A,function(L){return L})||[]},only:function(A){if(!se(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ae.Component=M,ae.Fragment=r,ae.Profiler=a,ae.PureComponent=q,ae.StrictMode=i,ae.Suspense=g,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ae.act=W,ae.cloneElement=function(A,L,le){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ue=N({},A.props),pe=A.key,me=A.ref,Se=A._owner;if(L!=null){if(L.ref!==void 0&&(me=L.ref,Se=j.current),L.key!==void 0&&(pe=""+L.key),A.type&&A.type.defaultProps)var ve=A.type.defaultProps;for(Ae in L)b.call(L,Ae)&&!X.hasOwnProperty(Ae)&&(ue[Ae]=L[Ae]===void 0&&ve!==void 0?ve[Ae]:L[Ae])}var Ae=arguments.length-2;if(Ae===1)ue.children=le;else if(1<Ae){ve=Array(Ae);for(var lt=0;lt<Ae;lt++)ve[lt]=arguments[lt+2];ue.children=ve}return{$$typeof:n,type:A.type,key:pe,ref:me,props:ue,_owner:Se}},ae.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},ae.createElement=de,ae.createFactory=function(A){var L=de.bind(null,A);return L.type=A,L},ae.createRef=function(){return{current:null}},ae.forwardRef=function(A){return{$$typeof:m,render:A}},ae.isValidElement=se,ae.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:we}},ae.memo=function(A,L){return{$$typeof:h,type:A,compare:L===void 0?null:L}},ae.startTransition=function(A){var L=z.transition;z.transition={};try{A()}finally{z.transition=L}},ae.unstable_act=W,ae.useCallback=function(A,L){return _e.current.useCallback(A,L)},ae.useContext=function(A){return _e.current.useContext(A)},ae.useDebugValue=function(){},ae.useDeferredValue=function(A){return _e.current.useDeferredValue(A)},ae.useEffect=function(A,L){return _e.current.useEffect(A,L)},ae.useId=function(){return _e.current.useId()},ae.useImperativeHandle=function(A,L,le){return _e.current.useImperativeHandle(A,L,le)},ae.useInsertionEffect=function(A,L){return _e.current.useInsertionEffect(A,L)},ae.useLayoutEffect=function(A,L){return _e.current.useLayoutEffect(A,L)},ae.useMemo=function(A,L){return _e.current.useMemo(A,L)},ae.useReducer=function(A,L,le){return _e.current.useReducer(A,L,le)},ae.useRef=function(A){return _e.current.useRef(A)},ae.useState=function(A){return _e.current.useState(A)},ae.useSyncExternalStore=function(A,L,le){return _e.current.useSyncExternalStore(A,L,le)},ae.useTransition=function(){return _e.current.useTransition()},ae.version="18.3.1",ae}var Qc;function Jl(){return Qc||(Qc=1,Tl.exports=Rh()),Tl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc;function Ph(){if(Xc)return Yo;Xc=1;var n=Jl(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,g,h){var y,_={},E=null,C=null;h!==void 0&&(E=""+h),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(C=g.ref);for(y in g)i.call(g,y)&&!c.hasOwnProperty(y)&&(_[y]=g[y]);if(m&&m.defaultProps)for(y in g=m.defaultProps,g)_[y]===void 0&&(_[y]=g[y]);return{$$typeof:e,type:m,key:E,ref:C,props:_,_owner:a.current}}return Yo.Fragment=r,Yo.jsx=f,Yo.jsxs=f,Yo}var Zc;function Nh(){return Zc||(Zc=1,Sl.exports=Ph()),Sl.exports}var ie=Nh(),An=Jl(),li={},Cl={exports:{}},it={},Il={exports:{}},wl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc;function Mh(){return bc||(bc=1,(function(n){function e(z,ne){var W=z.length;z.push(ne);e:for(;0<W;){var A=W-1>>>1,L=z[A];if(0<a(L,ne))z[A]=ne,z[W]=L,W=A;else break e}}function r(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var ne=z[0],W=z.pop();if(W!==ne){z[0]=W;e:for(var A=0,L=z.length,le=L>>>1;A<le;){var ue=2*(A+1)-1,pe=z[ue],me=ue+1,Se=z[me];if(0>a(pe,W))me<L&&0>a(Se,pe)?(z[A]=Se,z[me]=W,A=me):(z[A]=pe,z[ue]=W,A=ue);else if(me<L&&0>a(Se,W))z[A]=Se,z[me]=W,A=me;else break e}}return ne}function a(z,ne){var W=z.sortIndex-ne.sortIndex;return W!==0?W:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var g=[],h=[],y=1,_=null,E=3,C=!1,N=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(z){for(var ne=r(h);ne!==null;){if(ne.callback===null)i(h);else if(ne.startTime<=z)i(h),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=r(h)}}function J(z){if(k=!1,H(z),!N)if(r(g)!==null)N=!0,we(b);else{var ne=r(h);ne!==null&&_e(J,ne.startTime-z)}}function b(z,ne){N=!1,k&&(k=!1,F(de),de=-1),C=!0;var W=E;try{for(H(ne),_=r(g);_!==null&&(!(_.expirationTime>ne)||z&&!Ee());){var A=_.callback;if(typeof A=="function"){_.callback=null,E=_.priorityLevel;var L=A(_.expirationTime<=ne);ne=n.unstable_now(),typeof L=="function"?_.callback=L:_===r(g)&&i(g),H(ne)}else i(g);_=r(g)}if(_!==null)var le=!0;else{var ue=r(h);ue!==null&&_e(J,ue.startTime-ne),le=!1}return le}finally{_=null,E=W,C=!1}}var j=!1,X=null,de=-1,Z=5,se=-1;function Ee(){return!(n.unstable_now()-se<Z)}function Ue(){if(X!==null){var z=n.unstable_now();se=z;var ne=!0;try{ne=X(!0,z)}finally{ne?ce():(j=!1,X=null)}}else j=!1}var ce;if(typeof q=="function")ce=function(){q(Ue)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,st=Me.port2;Me.port1.onmessage=Ue,ce=function(){st.postMessage(null)}}else ce=function(){M(Ue,0)};function we(z){X=z,j||(j=!0,ce())}function _e(z,ne){de=M(function(){z(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){N||C||(N=!0,we(b))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return r(g)},n.unstable_next=function(z){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var W=E;E=ne;try{return z()}finally{E=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=E;E=z;try{return ne()}finally{E=W}},n.unstable_scheduleCallback=function(z,ne,W){var A=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?A+W:A):W=A,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,z={id:y++,callback:ne,priorityLevel:z,startTime:W,expirationTime:L,sortIndex:-1},W>A?(z.sortIndex=W,e(h,z),r(g)===null&&z===r(h)&&(k?(F(de),de=-1):k=!0,_e(J,W-A))):(z.sortIndex=L,e(g,z),N||C||(N=!0,we(b))),z},n.unstable_shouldYield=Ee,n.unstable_wrapCallback=function(z){var ne=E;return function(){var W=E;E=ne;try{return z.apply(this,arguments)}finally{E=W}}}})(wl)),wl}var jc;function xh(){return jc||(jc=1,Il.exports=Mh()),Il.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function kh(){if(ed)return it;ed=1;var n=Jl(),e=xh();function r(t){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(t,o){f(t,o),f(t+"Capture",o)}function f(t,o){for(a[t]=o,t=0;t<o.length;t++)i.add(o[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function E(t){return g.call(_,t)?!0:g.call(y,t)?!1:h.test(t)?_[t]=!0:(y[t]=!0,!1)}function C(t,o,s,d){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,o,s,d){if(o===null||typeof o>"u"||C(t,o,s,d))return!0;if(d)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(t,o,s,d,p,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=s,this.propertyName=t,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){M[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var o=t[0];M[o]=new k(o,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){M[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){M[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){M[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){M[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){M[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){M[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){M[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var o=t.replace(F,q);M[o]=new k(o,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var o=t.replace(F,q);M[o]=new k(o,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var o=t.replace(F,q);M[o]=new k(o,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){M[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),M.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){M[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function H(t,o,s,d){var p=M.hasOwnProperty(o)?M[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,s,p,d)&&(s=null),d||p===null?E(o)&&(s===null?t.removeAttribute(o):t.setAttribute(o,""+s)):p.mustUseProperty?t[p.propertyName]=s===null?p.type===3?!1:"":s:(o=p.attributeName,d=p.attributeNamespace,s===null?t.removeAttribute(o):(p=p.type,s=p===3||p===4&&s===!0?"":""+s,d?t.setAttributeNS(d,o,s):t.setAttribute(o,s))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),de=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),z=Symbol.iterator;function ne(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,A;function L(t){if(A===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);A=o&&o[1]||""}return`
`+A+t}var le=!1;function ue(t,o){if(!t||le)return"";le=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(x){var d=x}Reflect.construct(t,[],o)}else{try{o.call()}catch(x){d=x}t.call(o.prototype)}else{try{throw Error()}catch(x){d=x}t()}}catch(x){if(x&&d&&typeof x.stack=="string"){for(var p=x.stack.split(`
`),v=d.stack.split(`
`),S=p.length-1,T=v.length-1;1<=S&&0<=T&&p[S]!==v[T];)T--;for(;1<=S&&0<=T;S--,T--)if(p[S]!==v[T]){if(S!==1||T!==1)do if(S--,T--,0>T||p[S]!==v[T]){var I=`
`+p[S].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=S&&0<=T);break}}}finally{le=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?L(t):""}function pe(t){switch(t.tag){case 5:return L(t.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function me(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case j:return"Portal";case Z:return"Profiler";case de:return"StrictMode";case ce:return"Suspense";case Me:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ee:return(t.displayName||"Context")+".Consumer";case se:return(t._context.displayName||"Context")+".Provider";case Ue:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case st:return o=t.displayName||null,o!==null?o:me(t.type)||"Memo";case we:o=t._payload,t=t._init;try{return me(t(o))}catch{}}return null}function Se(t){var o=t.type;switch(t.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=o.render,t=t.displayName||t.name||"",o.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===de?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ae(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function lt(t){var o=Ae(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),d=""+t[o];if(!t.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,v=s.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return p.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(t,o,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function Zo(t){t._valueTracker||(t._valueTracker=lt(t))}function ea(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var s=o.getValue(),d="";return t&&(d=Ae(t)?t.checked?"true":"false":t.value),t=d,t!==s?(o.setValue(t),!0):!1}function bo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pi(t,o){var s=o.checked;return W({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function ta(t,o){var s=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;s=ve(o.value!=null?o.value:s),t._wrapperState={initialChecked:d,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function na(t,o){o=o.checked,o!=null&&H(t,"checked",o,!1)}function Ni(t,o){na(t,o);var s=ve(o.value),d=o.type;if(s!=null)d==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(d==="submit"||d==="reset"){t.removeAttribute("value");return}o.hasOwnProperty("value")?Mi(t,o.type,s):o.hasOwnProperty("defaultValue")&&Mi(t,o.type,ve(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(t.defaultChecked=!!o.defaultChecked)}function oa(t,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+t._wrapperState.initialValue,s||o===t.value||(t.value=o),t.defaultValue=o}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Mi(t,o,s){(o!=="number"||bo(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var ao=Array.isArray;function Nn(t,o,s,d){if(t=t.options,o){o={};for(var p=0;p<s.length;p++)o["$"+s[p]]=!0;for(s=0;s<t.length;s++)p=o.hasOwnProperty("$"+t[s].value),t[s].selected!==p&&(t[s].selected=p),p&&d&&(t[s].defaultSelected=!0)}else{for(s=""+ve(s),o=null,p=0;p<t.length;p++){if(t[p].value===s){t[p].selected=!0,d&&(t[p].defaultSelected=!0);return}o!==null||t[p].disabled||(o=t[p])}o!==null&&(o.selected=!0)}}function xi(t,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},o,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ra(t,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(r(92));if(ao(s)){if(1<s.length)throw Error(r(93));s=s[0]}o=s}o==null&&(o=""),s=o}t._wrapperState={initialValue:ve(s)}}function ia(t,o){var s=ve(o.value),d=ve(o.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),o.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),d!=null&&(t.defaultValue=""+d)}function sa(t){var o=t.textContent;o===t._wrapperState.initialValue&&o!==""&&o!==null&&(t.value=o)}function la(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ki(t,o){return t==null||t==="http://www.w3.org/1999/xhtml"?la(o):t==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jo,aa=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,d,p){MSApp.execUnsafeLocalFunction(function(){return t(o,s,d,p)})}:t})(function(t,o){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=o;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;o.firstChild;)t.appendChild(o.firstChild)}});function uo(t,o){if(o){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=o;return}}t.textContent=o}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xp=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(t){xp.forEach(function(o){o=o+t.charAt(0).toUpperCase()+t.substring(1),co[o]=co[t]})});function ua(t,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||co.hasOwnProperty(t)&&co[t]?(""+o).trim():o+"px"}function ca(t,o){t=t.style;for(var s in o)if(o.hasOwnProperty(s)){var d=s.indexOf("--")===0,p=ua(s,o[s],d);s==="float"&&(s="cssFloat"),d?t.setProperty(s,p):t[s]=p}}var kp=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Di(t,o){if(o){if(kp[t]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Li(t,o){if(t.indexOf("-")===-1)return typeof o.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Fi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vi=null,Mn=null,xn=null;function da(t){if(t=Do(t)){if(typeof Vi!="function")throw Error(r(280));var o=t.stateNode;o&&(o=Tr(o),Vi(t.stateNode,t.type,o))}}function fa(t){Mn?xn?xn.push(t):xn=[t]:Mn=t}function pa(){if(Mn){var t=Mn,o=xn;if(xn=Mn=null,da(t),o)for(t=0;t<o.length;t++)da(o[t])}}function ma(t,o){return t(o)}function ha(){}var Gi=!1;function ga(t,o,s){if(Gi)return t(o,s);Gi=!0;try{return ma(t,o,s)}finally{Gi=!1,(Mn!==null||xn!==null)&&(ha(),pa())}}function fo(t,o){var s=t.stateNode;if(s===null)return null;var d=Tr(s);if(d===null)return null;s=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,o,typeof s));return s}var Hi=!1;if(m)try{var po={};Object.defineProperty(po,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Hi=!1}function Dp(t,o,s,d,p,v,S,T,I){var x=Array.prototype.slice.call(arguments,3);try{o.apply(s,x)}catch(U){this.onError(U)}}var mo=!1,er=null,tr=!1,Bi=null,Lp={onError:function(t){mo=!0,er=t}};function Up(t,o,s,d,p,v,S,T,I){mo=!1,er=null,Dp.apply(Lp,arguments)}function Fp(t,o,s,d,p,v,S,T,I){if(Up.apply(this,arguments),mo){if(mo){var x=er;mo=!1,er=null}else throw Error(r(198));tr||(tr=!0,Bi=x)}}function pn(t){var o=t,s=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(s=o.return),t=o.return;while(t)}return o.tag===3?s:null}function va(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function ya(t){if(pn(t)!==t)throw Error(r(188))}function Vp(t){var o=t.alternate;if(!o){if(o=pn(t),o===null)throw Error(r(188));return o!==t?null:t}for(var s=t,d=o;;){var p=s.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){s=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===s)return ya(p),t;if(v===d)return ya(p),o;v=v.sibling}throw Error(r(188))}if(s.return!==d.return)s=p,d=v;else{for(var S=!1,T=p.child;T;){if(T===s){S=!0,s=p,d=v;break}if(T===d){S=!0,d=p,s=v;break}T=T.sibling}if(!S){for(T=v.child;T;){if(T===s){S=!0,s=v,d=p;break}if(T===d){S=!0,d=v,s=p;break}T=T.sibling}if(!S)throw Error(r(189))}}if(s.alternate!==d)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:o}function Ea(t){return t=Vp(t),t!==null?_a(t):null}function _a(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var o=_a(t);if(o!==null)return o;t=t.sibling}return null}var Sa=e.unstable_scheduleCallback,Ta=e.unstable_cancelCallback,Gp=e.unstable_shouldYield,Hp=e.unstable_requestPaint,ke=e.unstable_now,Bp=e.unstable_getCurrentPriorityLevel,qi=e.unstable_ImmediatePriority,Ca=e.unstable_UserBlockingPriority,nr=e.unstable_NormalPriority,qp=e.unstable_LowPriority,Ia=e.unstable_IdlePriority,or=null,Mt=null;function zp(t){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(or,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Op,Jp=Math.log,$p=Math.LN2;function Op(t){return t>>>=0,t===0?32:31-(Jp(t)/$p|0)|0}var rr=64,ir=4194304;function ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sr(t,o){var s=t.pendingLanes;if(s===0)return 0;var d=0,p=t.suspendedLanes,v=t.pingedLanes,S=s&268435455;if(S!==0){var T=S&~p;T!==0?d=ho(T):(v&=S,v!==0&&(d=ho(v)))}else S=s&~p,S!==0?d=ho(S):v!==0&&(d=ho(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&p)===0&&(p=d&-d,v=o&-o,p>=v||p===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=s&16),o=t.entangledLanes,o!==0)for(t=t.entanglements,o&=d;0<o;)s=31-_t(o),p=1<<s,d|=t[s],o&=~p;return d}function Wp(t,o){switch(t){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kp(t,o){for(var s=t.suspendedLanes,d=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes;0<v;){var S=31-_t(v),T=1<<S,I=p[S];I===-1?((T&s)===0||(T&d)!==0)&&(p[S]=Wp(T,o)):I<=o&&(t.expiredLanes|=T),v&=~T}}function zi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wa(){var t=rr;return rr<<=1,(rr&4194240)===0&&(rr=64),t}function Ji(t){for(var o=[],s=0;31>s;s++)o.push(t);return o}function go(t,o,s){t.pendingLanes|=o,o!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,o=31-_t(o),t[o]=s}function Yp(t,o){var s=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;var d=t.eventTimes;for(t=t.expirationTimes;0<s;){var p=31-_t(s),v=1<<p;o[p]=0,d[p]=-1,t[p]=-1,s&=~v}}function $i(t,o){var s=t.entangledLanes|=o;for(t=t.entanglements;s;){var d=31-_t(s),p=1<<d;p&o|t[d]&o&&(t[d]|=o),s&=~p}}var ye=0;function Aa(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ra,Oi,Pa,Na,Ma,Wi=!1,lr=[],Wt=null,Kt=null,Yt=null,vo=new Map,yo=new Map,Qt=[],Qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xa(t,o){switch(t){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":vo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(o.pointerId)}}function Eo(t,o,s,d,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:o,domEventName:s,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},o!==null&&(o=Do(o),o!==null&&Oi(o)),t):(t.eventSystemFlags|=d,o=t.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),t)}function Xp(t,o,s,d,p){switch(o){case"focusin":return Wt=Eo(Wt,t,o,s,d,p),!0;case"dragenter":return Kt=Eo(Kt,t,o,s,d,p),!0;case"mouseover":return Yt=Eo(Yt,t,o,s,d,p),!0;case"pointerover":var v=p.pointerId;return vo.set(v,Eo(vo.get(v)||null,t,o,s,d,p)),!0;case"gotpointercapture":return v=p.pointerId,yo.set(v,Eo(yo.get(v)||null,t,o,s,d,p)),!0}return!1}function ka(t){var o=mn(t.target);if(o!==null){var s=pn(o);if(s!==null){if(o=s.tag,o===13){if(o=va(s),o!==null){t.blockedOn=o,Ma(t.priority,function(){Pa(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ar(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var s=Yi(t.domEventName,t.eventSystemFlags,o[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var d=new s.constructor(s.type,s);Ui=d,s.target.dispatchEvent(d),Ui=null}else return o=Do(s),o!==null&&Oi(o),t.blockedOn=s,!1;o.shift()}return!0}function Da(t,o,s){ar(t)&&s.delete(o)}function Zp(){Wi=!1,Wt!==null&&ar(Wt)&&(Wt=null),Kt!==null&&ar(Kt)&&(Kt=null),Yt!==null&&ar(Yt)&&(Yt=null),vo.forEach(Da),yo.forEach(Da)}function _o(t,o){t.blockedOn===o&&(t.blockedOn=null,Wi||(Wi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zp)))}function So(t){function o(p){return _o(p,t)}if(0<lr.length){_o(lr[0],t);for(var s=1;s<lr.length;s++){var d=lr[s];d.blockedOn===t&&(d.blockedOn=null)}}for(Wt!==null&&_o(Wt,t),Kt!==null&&_o(Kt,t),Yt!==null&&_o(Yt,t),vo.forEach(o),yo.forEach(o),s=0;s<Qt.length;s++)d=Qt[s],d.blockedOn===t&&(d.blockedOn=null);for(;0<Qt.length&&(s=Qt[0],s.blockedOn===null);)ka(s),s.blockedOn===null&&Qt.shift()}var kn=J.ReactCurrentBatchConfig,ur=!0;function bp(t,o,s,d){var p=ye,v=kn.transition;kn.transition=null;try{ye=1,Ki(t,o,s,d)}finally{ye=p,kn.transition=v}}function jp(t,o,s,d){var p=ye,v=kn.transition;kn.transition=null;try{ye=4,Ki(t,o,s,d)}finally{ye=p,kn.transition=v}}function Ki(t,o,s,d){if(ur){var p=Yi(t,o,s,d);if(p===null)ds(t,o,d,cr,s),xa(t,d);else if(Xp(p,t,o,s,d))d.stopPropagation();else if(xa(t,d),o&4&&-1<Qp.indexOf(t)){for(;p!==null;){var v=Do(p);if(v!==null&&Ra(v),v=Yi(t,o,s,d),v===null&&ds(t,o,d,cr,s),v===p)break;p=v}p!==null&&d.stopPropagation()}else ds(t,o,d,null,s)}}var cr=null;function Yi(t,o,s,d){if(cr=null,t=Fi(d),t=mn(t),t!==null)if(o=pn(t),o===null)t=null;else if(s=o.tag,s===13){if(t=va(o),t!==null)return t;t=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null);return cr=t,null}function La(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bp()){case qi:return 1;case Ca:return 4;case nr:case qp:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var Xt=null,Qi=null,dr=null;function Ua(){if(dr)return dr;var t,o=Qi,s=o.length,d,p="value"in Xt?Xt.value:Xt.textContent,v=p.length;for(t=0;t<s&&o[t]===p[t];t++);var S=s-t;for(d=1;d<=S&&o[s-d]===p[v-d];d++);return dr=p.slice(t,1<d?1-d:void 0)}function fr(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function pr(){return!0}function Fa(){return!1}function at(t){function o(s,d,p,v,S){this._reactName=s,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?pr:Fa,this.isPropagationStopped=Fa,this}return W(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),o}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=at(Dn),To=W({},Dn,{view:0,detail:0}),em=at(To),Zi,bi,Co,mr=W({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Co&&(Co&&t.type==="mousemove"?(Zi=t.screenX-Co.screenX,bi=t.screenY-Co.screenY):bi=Zi=0,Co=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:bi}}),Va=at(mr),tm=W({},mr,{dataTransfer:0}),nm=at(tm),om=W({},To,{relatedTarget:0}),ji=at(om),rm=W({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),im=at(rm),sm=W({},Dn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lm=at(sm),am=W({},Dn,{data:0}),Ga=at(am),um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=dm[t])?!!o[t]:!1}function es(){return fm}var pm=W({},To,{key:function(t){if(t.key){var o=um[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=fr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(t){return t.type==="keypress"?fr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mm=at(pm),hm=W({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=at(hm),gm=W({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),vm=at(gm),ym=W({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Em=at(ym),_m=W({},mr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sm=at(_m),Tm=[9,13,27,32],ts=m&&"CompositionEvent"in window,Io=null;m&&"documentMode"in document&&(Io=document.documentMode);var Cm=m&&"TextEvent"in window&&!Io,Ba=m&&(!ts||Io&&8<Io&&11>=Io),qa=" ",za=!1;function Ja(t,o){switch(t){case"keyup":return Tm.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ln=!1;function Im(t,o){switch(t){case"compositionend":return $a(o);case"keypress":return o.which!==32?null:(za=!0,qa);case"textInput":return t=o.data,t===qa&&za?null:t;default:return null}}function wm(t,o){if(Ln)return t==="compositionend"||!ts&&Ja(t,o)?(t=Ua(),dr=Qi=Xt=null,Ln=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ba&&o.locale!=="ko"?null:o.data;default:return null}}var Am={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!Am[t.type]:o==="textarea"}function Wa(t,o,s,d){fa(d),o=Er(o,"onChange"),0<o.length&&(s=new Xi("onChange","change",null,s,d),t.push({event:s,listeners:o}))}var wo=null,Ao=null;function Rm(t){cu(t,0)}function hr(t){var o=Hn(t);if(ea(o))return t}function Pm(t,o){if(t==="change")return o}var Ka=!1;if(m){var ns;if(m){var os="oninput"in document;if(!os){var Ya=document.createElement("div");Ya.setAttribute("oninput","return;"),os=typeof Ya.oninput=="function"}ns=os}else ns=!1;Ka=ns&&(!document.documentMode||9<document.documentMode)}function Qa(){wo&&(wo.detachEvent("onpropertychange",Xa),Ao=wo=null)}function Xa(t){if(t.propertyName==="value"&&hr(Ao)){var o=[];Wa(o,Ao,t,Fi(t)),ga(Rm,o)}}function Nm(t,o,s){t==="focusin"?(Qa(),wo=o,Ao=s,wo.attachEvent("onpropertychange",Xa)):t==="focusout"&&Qa()}function Mm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hr(Ao)}function xm(t,o){if(t==="click")return hr(o)}function km(t,o){if(t==="input"||t==="change")return hr(o)}function Dm(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var St=typeof Object.is=="function"?Object.is:Dm;function Ro(t,o){if(St(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var s=Object.keys(t),d=Object.keys(o);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var p=s[d];if(!g.call(o,p)||!St(t[p],o[p]))return!1}return!0}function Za(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ba(t,o){var s=Za(t);t=0;for(var d;s;){if(s.nodeType===3){if(d=t+s.textContent.length,t<=o&&d>=o)return{node:s,offset:o-t};t=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Za(s)}}function ja(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?ja(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function eu(){for(var t=window,o=bo();o instanceof t.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)t=o.contentWindow;else break;o=bo(t.document)}return o}function rs(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}function Lm(t){var o=eu(),s=t.focusedElem,d=t.selectionRange;if(o!==s&&s&&s.ownerDocument&&ja(s.ownerDocument.documentElement,s)){if(d!==null&&rs(s)){if(o=d.start,t=d.end,t===void 0&&(t=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(t,s.value.length);else if(t=(o=s.ownerDocument||document)&&o.defaultView||window,t.getSelection){t=t.getSelection();var p=s.textContent.length,v=Math.min(d.start,p);d=d.end===void 0?v:Math.min(d.end,p),!t.extend&&v>d&&(p=d,d=v,v=p),p=ba(s,v);var S=ba(s,d);p&&S&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==S.node||t.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),t.removeAllRanges(),v>d?(t.addRange(o),t.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),t.addRange(o)))}}for(o=[],t=s;t=t.parentNode;)t.nodeType===1&&o.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)t=o[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Um=m&&"documentMode"in document&&11>=document.documentMode,Un=null,is=null,Po=null,ss=!1;function tu(t,o,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ss||Un==null||Un!==bo(d)||(d=Un,"selectionStart"in d&&rs(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Po&&Ro(Po,d)||(Po=d,d=Er(is,"onSelect"),0<d.length&&(o=new Xi("onSelect","select",null,o,s),t.push({event:o,listeners:d}),o.target=Un)))}function gr(t,o){var s={};return s[t.toLowerCase()]=o.toLowerCase(),s["Webkit"+t]="webkit"+o,s["Moz"+t]="moz"+o,s}var Fn={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionend:gr("Transition","TransitionEnd")},ls={},nu={};m&&(nu=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function vr(t){if(ls[t])return ls[t];if(!Fn[t])return t;var o=Fn[t],s;for(s in o)if(o.hasOwnProperty(s)&&s in nu)return ls[t]=o[s];return t}var ou=vr("animationend"),ru=vr("animationiteration"),iu=vr("animationstart"),su=vr("transitionend"),lu=new Map,au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(t,o){lu.set(t,o),c(o,[t])}for(var as=0;as<au.length;as++){var us=au[as],Fm=us.toLowerCase(),Vm=us[0].toUpperCase()+us.slice(1);Zt(Fm,"on"+Vm)}Zt(ou,"onAnimationEnd"),Zt(ru,"onAnimationIteration"),Zt(iu,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(su,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function uu(t,o,s){var d=t.type||"unknown-event";t.currentTarget=s,Fp(d,o,void 0,t),t.currentTarget=null}function cu(t,o){o=(o&4)!==0;for(var s=0;s<t.length;s++){var d=t[s],p=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var T=d[S],I=T.instance,x=T.currentTarget;if(T=T.listener,I!==v&&p.isPropagationStopped())break e;uu(p,T,x),v=I}else for(S=0;S<d.length;S++){if(T=d[S],I=T.instance,x=T.currentTarget,T=T.listener,I!==v&&p.isPropagationStopped())break e;uu(p,T,x),v=I}}}if(tr)throw t=Bi,tr=!1,Bi=null,t}function Ce(t,o){var s=o[vs];s===void 0&&(s=o[vs]=new Set);var d=t+"__bubble";s.has(d)||(du(o,t,2,!1),s.add(d))}function cs(t,o,s){var d=0;o&&(d|=4),du(s,t,d,o)}var yr="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[yr]){t[yr]=!0,i.forEach(function(s){s!=="selectionchange"&&(Gm.has(s)||cs(s,!1,t),cs(s,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[yr]||(o[yr]=!0,cs("selectionchange",!1,o))}}function du(t,o,s,d){switch(La(o)){case 1:var p=bp;break;case 4:p=jp;break;default:p=Ki}s=p.bind(null,o,s,t),p=void 0,!Hi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?t.addEventListener(o,s,{capture:!0,passive:p}):t.addEventListener(o,s,!0):p!==void 0?t.addEventListener(o,s,{passive:p}):t.addEventListener(o,s,!1)}function ds(t,o,s,d,p){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var T=d.stateNode.containerInfo;if(T===p||T.nodeType===8&&T.parentNode===p)break;if(S===4)for(S=d.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===p||I.nodeType===8&&I.parentNode===p))return;S=S.return}for(;T!==null;){if(S=mn(T),S===null)return;if(I=S.tag,I===5||I===6){d=v=S;continue e}T=T.parentNode}}d=d.return}ga(function(){var x=v,U=Fi(s),V=[];e:{var D=lu.get(t);if(D!==void 0){var $=Xi,K=t;switch(t){case"keypress":if(fr(s)===0)break e;case"keydown":case"keyup":$=mm;break;case"focusin":K="focus",$=ji;break;case"focusout":K="blur",$=ji;break;case"beforeblur":case"afterblur":$=ji;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=vm;break;case ou:case ru:case iu:$=im;break;case su:$=Em;break;case"scroll":$=em;break;case"wheel":$=Sm;break;case"copy":case"cut":case"paste":$=lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Ha}var Y=(o&4)!==0,De=!Y&&t==="scroll",R=Y?D!==null?D+"Capture":null:D;Y=[];for(var w=x,P;w!==null;){P=w;var G=P.stateNode;if(P.tag===5&&G!==null&&(P=G,R!==null&&(G=fo(w,R),G!=null&&Y.push(xo(w,G,P)))),De)break;w=w.return}0<Y.length&&(D=new $(D,K,null,s,U),V.push({event:D,listeners:Y}))}}if((o&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",D&&s!==Ui&&(K=s.relatedTarget||s.fromElement)&&(mn(K)||K[Ut]))break e;if(($||D)&&(D=U.window===U?U:(D=U.ownerDocument)?D.defaultView||D.parentWindow:window,$?(K=s.relatedTarget||s.toElement,$=x,K=K?mn(K):null,K!==null&&(De=pn(K),K!==De||K.tag!==5&&K.tag!==6)&&(K=null)):($=null,K=x),$!==K)){if(Y=Va,G="onMouseLeave",R="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(Y=Ha,G="onPointerLeave",R="onPointerEnter",w="pointer"),De=$==null?D:Hn($),P=K==null?D:Hn(K),D=new Y(G,w+"leave",$,s,U),D.target=De,D.relatedTarget=P,G=null,mn(U)===x&&(Y=new Y(R,w+"enter",K,s,U),Y.target=P,Y.relatedTarget=De,G=Y),De=G,$&&K)t:{for(Y=$,R=K,w=0,P=Y;P;P=Vn(P))w++;for(P=0,G=R;G;G=Vn(G))P++;for(;0<w-P;)Y=Vn(Y),w--;for(;0<P-w;)R=Vn(R),P--;for(;w--;){if(Y===R||R!==null&&Y===R.alternate)break t;Y=Vn(Y),R=Vn(R)}Y=null}else Y=null;$!==null&&fu(V,D,$,Y,!1),K!==null&&De!==null&&fu(V,De,K,Y,!0)}}e:{if(D=x?Hn(x):window,$=D.nodeName&&D.nodeName.toLowerCase(),$==="select"||$==="input"&&D.type==="file")var Q=Pm;else if(Oa(D))if(Ka)Q=km;else{Q=Mm;var ee=Nm}else($=D.nodeName)&&$.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(Q=xm);if(Q&&(Q=Q(t,x))){Wa(V,Q,s,U);break e}ee&&ee(t,D,x),t==="focusout"&&(ee=D._wrapperState)&&ee.controlled&&D.type==="number"&&Mi(D,"number",D.value)}switch(ee=x?Hn(x):window,t){case"focusin":(Oa(ee)||ee.contentEditable==="true")&&(Un=ee,is=x,Po=null);break;case"focusout":Po=is=Un=null;break;case"mousedown":ss=!0;break;case"contextmenu":case"mouseup":case"dragend":ss=!1,tu(V,s,U);break;case"selectionchange":if(Um)break;case"keydown":case"keyup":tu(V,s,U)}var te;if(ts)e:{switch(t){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else Ln?Ja(t,s)&&(oe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(oe="onCompositionStart");oe&&(Ba&&s.locale!=="ko"&&(Ln||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&Ln&&(te=Ua()):(Xt=U,Qi="value"in Xt?Xt.value:Xt.textContent,Ln=!0)),ee=Er(x,oe),0<ee.length&&(oe=new Ga(oe,t,null,s,U),V.push({event:oe,listeners:ee}),te?oe.data=te:(te=$a(s),te!==null&&(oe.data=te)))),(te=Cm?Im(t,s):wm(t,s))&&(x=Er(x,"onBeforeInput"),0<x.length&&(U=new Ga("onBeforeInput","beforeinput",null,s,U),V.push({event:U,listeners:x}),U.data=te))}cu(V,o)})}function xo(t,o,s){return{instance:t,listener:o,currentTarget:s}}function Er(t,o){for(var s=o+"Capture",d=[];t!==null;){var p=t,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=fo(t,s),v!=null&&d.unshift(xo(t,v,p)),v=fo(t,o),v!=null&&d.push(xo(t,v,p))),t=t.return}return d}function Vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fu(t,o,s,d,p){for(var v=o._reactName,S=[];s!==null&&s!==d;){var T=s,I=T.alternate,x=T.stateNode;if(I!==null&&I===d)break;T.tag===5&&x!==null&&(T=x,p?(I=fo(s,v),I!=null&&S.unshift(xo(s,I,T))):p||(I=fo(s,v),I!=null&&S.push(xo(s,I,T)))),s=s.return}S.length!==0&&t.push({event:o,listeners:S})}var Hm=/\r\n?/g,Bm=/\u0000|\uFFFD/g;function pu(t){return(typeof t=="string"?t:""+t).replace(Hm,`
`).replace(Bm,"")}function _r(t,o,s){if(o=pu(o),pu(t)!==o&&s)throw Error(r(425))}function Sr(){}var fs=null,ps=null;function ms(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hs=typeof setTimeout=="function"?setTimeout:void 0,qm=typeof clearTimeout=="function"?clearTimeout:void 0,mu=typeof Promise=="function"?Promise:void 0,zm=typeof queueMicrotask=="function"?queueMicrotask:typeof mu<"u"?function(t){return mu.resolve(null).then(t).catch(Jm)}:hs;function Jm(t){setTimeout(function(){throw t})}function gs(t,o){var s=o,d=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(d===0){t.removeChild(p),So(o);return}d--}else s!=="$"&&s!=="$?"&&s!=="$!"||d++;s=p}while(s);So(o)}function bt(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return t}function hu(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return t;o--}else s==="/$"&&o++}t=t.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Gn,ko="__reactProps$"+Gn,Ut="__reactContainer$"+Gn,vs="__reactEvents$"+Gn,$m="__reactListeners$"+Gn,Om="__reactHandles$"+Gn;function mn(t){var o=t[xt];if(o)return o;for(var s=t.parentNode;s;){if(o=s[Ut]||s[xt]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(t=hu(t);t!==null;){if(s=t[xt])return s;t=hu(t)}return o}t=s,s=t.parentNode}return null}function Do(t){return t=t[xt]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Tr(t){return t[ko]||null}var ys=[],Bn=-1;function jt(t){return{current:t}}function Ie(t){0>Bn||(t.current=ys[Bn],ys[Bn]=null,Bn--)}function Te(t,o){Bn++,ys[Bn]=t.current,t.current=o}var en={},Oe=jt(en),et=jt(!1),hn=en;function qn(t,o){var s=t.type.contextTypes;if(!s)return en;var d=t.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in s)p[v]=o[v];return d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=p),p}function tt(t){return t=t.childContextTypes,t!=null}function Cr(){Ie(et),Ie(Oe)}function gu(t,o,s){if(Oe.current!==en)throw Error(r(168));Te(Oe,o),Te(et,s)}function vu(t,o,s){var d=t.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return s;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(r(108,Se(t)||"Unknown",p));return W({},s,d)}function Ir(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||en,hn=Oe.current,Te(Oe,t),Te(et,et.current),!0}function yu(t,o,s){var d=t.stateNode;if(!d)throw Error(r(169));s?(t=vu(t,o,hn),d.__reactInternalMemoizedMergedChildContext=t,Ie(et),Ie(Oe),Te(Oe,t)):Ie(et),Te(et,s)}var Ft=null,wr=!1,Es=!1;function Eu(t){Ft===null?Ft=[t]:Ft.push(t)}function Wm(t){wr=!0,Eu(t)}function tn(){if(!Es&&Ft!==null){Es=!0;var t=0,o=ye;try{var s=Ft;for(ye=1;t<s.length;t++){var d=s[t];do d=d(!0);while(d!==null)}Ft=null,wr=!1}catch(p){throw Ft!==null&&(Ft=Ft.slice(t+1)),Sa(qi,tn),p}finally{ye=o,Es=!1}}return null}var zn=[],Jn=0,Ar=null,Rr=0,ft=[],pt=0,gn=null,Vt=1,Gt="";function vn(t,o){zn[Jn++]=Rr,zn[Jn++]=Ar,Ar=t,Rr=o}function _u(t,o,s){ft[pt++]=Vt,ft[pt++]=Gt,ft[pt++]=gn,gn=t;var d=Vt;t=Gt;var p=32-_t(d)-1;d&=~(1<<p),s+=1;var v=32-_t(o)+p;if(30<v){var S=p-p%5;v=(d&(1<<S)-1).toString(32),d>>=S,p-=S,Vt=1<<32-_t(o)+p|s<<p|d,Gt=v+t}else Vt=1<<v|s<<p|d,Gt=t}function _s(t){t.return!==null&&(vn(t,1),_u(t,1,0))}function Ss(t){for(;t===Ar;)Ar=zn[--Jn],zn[Jn]=null,Rr=zn[--Jn],zn[Jn]=null;for(;t===gn;)gn=ft[--pt],ft[pt]=null,Gt=ft[--pt],ft[pt]=null,Vt=ft[--pt],ft[pt]=null}var ut=null,ct=null,Re=!1,Tt=null;function Su(t,o){var s=vt(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=t,o=t.deletions,o===null?(t.deletions=[s],t.flags|=16):o.push(s)}function Tu(t,o){switch(t.tag){case 5:var s=t.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(t.stateNode=o,ut=t,ct=bt(o.firstChild),!0):!1;case 6:return o=t.pendingProps===""||o.nodeType!==3?null:o,o!==null?(t.stateNode=o,ut=t,ct=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=gn!==null?{id:Vt,overflow:Gt}:null,t.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=vt(18,null,null,0),s.stateNode=o,s.return=t,t.child=s,ut=t,ct=null,!0):!1;default:return!1}}function Ts(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cs(t){if(Re){var o=ct;if(o){var s=o;if(!Tu(t,o)){if(Ts(t))throw Error(r(418));o=bt(s.nextSibling);var d=ut;o&&Tu(t,o)?Su(d,s):(t.flags=t.flags&-4097|2,Re=!1,ut=t)}}else{if(Ts(t))throw Error(r(418));t.flags=t.flags&-4097|2,Re=!1,ut=t}}}function Cu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ut=t}function Pr(t){if(t!==ut)return!1;if(!Re)return Cu(t),Re=!0,!1;var o;if((o=t.tag!==3)&&!(o=t.tag!==5)&&(o=t.type,o=o!=="head"&&o!=="body"&&!ms(t.type,t.memoizedProps)),o&&(o=ct)){if(Ts(t))throw Iu(),Error(r(418));for(;o;)Su(t,o),o=bt(o.nextSibling)}if(Cu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(o===0){ct=bt(t.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}t=t.nextSibling}ct=null}}else ct=ut?bt(t.stateNode.nextSibling):null;return!0}function Iu(){for(var t=ct;t;)t=bt(t.nextSibling)}function $n(){ct=ut=null,Re=!1}function Is(t){Tt===null?Tt=[t]:Tt.push(t)}var Km=J.ReactCurrentBatchConfig;function Lo(t,o,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var d=s.stateNode}if(!d)throw Error(r(147,t));var p=d,v=""+t;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var T=p.refs;S===null?delete T[v]:T[v]=S},o._stringRef=v,o)}if(typeof t!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,t))}return t}function Nr(t,o){throw t=Object.prototype.toString.call(o),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t))}function wu(t){var o=t._init;return o(t._payload)}function Au(t){function o(R,w){if(t){var P=R.deletions;P===null?(R.deletions=[w],R.flags|=16):P.push(w)}}function s(R,w){if(!t)return null;for(;w!==null;)o(R,w),w=w.sibling;return null}function d(R,w){for(R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function p(R,w){return R=cn(R,w),R.index=0,R.sibling=null,R}function v(R,w,P){return R.index=P,t?(P=R.alternate,P!==null?(P=P.index,P<w?(R.flags|=2,w):P):(R.flags|=2,w)):(R.flags|=1048576,w)}function S(R){return t&&R.alternate===null&&(R.flags|=2),R}function T(R,w,P,G){return w===null||w.tag!==6?(w=hl(P,R.mode,G),w.return=R,w):(w=p(w,P),w.return=R,w)}function I(R,w,P,G){var Q=P.type;return Q===X?U(R,w,P.props.children,G,P.key):w!==null&&(w.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===we&&wu(Q)===w.type)?(G=p(w,P.props),G.ref=Lo(R,w,P),G.return=R,G):(G=jr(P.type,P.key,P.props,null,R.mode,G),G.ref=Lo(R,w,P),G.return=R,G)}function x(R,w,P,G){return w===null||w.tag!==4||w.stateNode.containerInfo!==P.containerInfo||w.stateNode.implementation!==P.implementation?(w=gl(P,R.mode,G),w.return=R,w):(w=p(w,P.children||[]),w.return=R,w)}function U(R,w,P,G,Q){return w===null||w.tag!==7?(w=wn(P,R.mode,G,Q),w.return=R,w):(w=p(w,P),w.return=R,w)}function V(R,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return w=hl(""+w,R.mode,P),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b:return P=jr(w.type,w.key,w.props,null,R.mode,P),P.ref=Lo(R,null,w),P.return=R,P;case j:return w=gl(w,R.mode,P),w.return=R,w;case we:var G=w._init;return V(R,G(w._payload),P)}if(ao(w)||ne(w))return w=wn(w,R.mode,P,null),w.return=R,w;Nr(R,w)}return null}function D(R,w,P,G){var Q=w!==null?w.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return Q!==null?null:T(R,w,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return P.key===Q?I(R,w,P,G):null;case j:return P.key===Q?x(R,w,P,G):null;case we:return Q=P._init,D(R,w,Q(P._payload),G)}if(ao(P)||ne(P))return Q!==null?null:U(R,w,P,G,null);Nr(R,P)}return null}function $(R,w,P,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number")return R=R.get(P)||null,T(w,R,""+G,Q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return R=R.get(G.key===null?P:G.key)||null,I(w,R,G,Q);case j:return R=R.get(G.key===null?P:G.key)||null,x(w,R,G,Q);case we:var ee=G._init;return $(R,w,P,ee(G._payload),Q)}if(ao(G)||ne(G))return R=R.get(P)||null,U(w,R,G,Q,null);Nr(w,G)}return null}function K(R,w,P,G){for(var Q=null,ee=null,te=w,oe=w=0,Be=null;te!==null&&oe<P.length;oe++){te.index>oe?(Be=te,te=null):Be=te.sibling;var he=D(R,te,P[oe],G);if(he===null){te===null&&(te=Be);break}t&&te&&he.alternate===null&&o(R,te),w=v(he,w,oe),ee===null?Q=he:ee.sibling=he,ee=he,te=Be}if(oe===P.length)return s(R,te),Re&&vn(R,oe),Q;if(te===null){for(;oe<P.length;oe++)te=V(R,P[oe],G),te!==null&&(w=v(te,w,oe),ee===null?Q=te:ee.sibling=te,ee=te);return Re&&vn(R,oe),Q}for(te=d(R,te);oe<P.length;oe++)Be=$(te,R,oe,P[oe],G),Be!==null&&(t&&Be.alternate!==null&&te.delete(Be.key===null?oe:Be.key),w=v(Be,w,oe),ee===null?Q=Be:ee.sibling=Be,ee=Be);return t&&te.forEach(function(dn){return o(R,dn)}),Re&&vn(R,oe),Q}function Y(R,w,P,G){var Q=ne(P);if(typeof Q!="function")throw Error(r(150));if(P=Q.call(P),P==null)throw Error(r(151));for(var ee=Q=null,te=w,oe=w=0,Be=null,he=P.next();te!==null&&!he.done;oe++,he=P.next()){te.index>oe?(Be=te,te=null):Be=te.sibling;var dn=D(R,te,he.value,G);if(dn===null){te===null&&(te=Be);break}t&&te&&dn.alternate===null&&o(R,te),w=v(dn,w,oe),ee===null?Q=dn:ee.sibling=dn,ee=dn,te=Be}if(he.done)return s(R,te),Re&&vn(R,oe),Q;if(te===null){for(;!he.done;oe++,he=P.next())he=V(R,he.value,G),he!==null&&(w=v(he,w,oe),ee===null?Q=he:ee.sibling=he,ee=he);return Re&&vn(R,oe),Q}for(te=d(R,te);!he.done;oe++,he=P.next())he=$(te,R,oe,he.value,G),he!==null&&(t&&he.alternate!==null&&te.delete(he.key===null?oe:he.key),w=v(he,w,oe),ee===null?Q=he:ee.sibling=he,ee=he);return t&&te.forEach(function(Ah){return o(R,Ah)}),Re&&vn(R,oe),Q}function De(R,w,P,G){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case b:e:{for(var Q=P.key,ee=w;ee!==null;){if(ee.key===Q){if(Q=P.type,Q===X){if(ee.tag===7){s(R,ee.sibling),w=p(ee,P.props.children),w.return=R,R=w;break e}}else if(ee.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===we&&wu(Q)===ee.type){s(R,ee.sibling),w=p(ee,P.props),w.ref=Lo(R,ee,P),w.return=R,R=w;break e}s(R,ee);break}else o(R,ee);ee=ee.sibling}P.type===X?(w=wn(P.props.children,R.mode,G,P.key),w.return=R,R=w):(G=jr(P.type,P.key,P.props,null,R.mode,G),G.ref=Lo(R,w,P),G.return=R,R=G)}return S(R);case j:e:{for(ee=P.key;w!==null;){if(w.key===ee)if(w.tag===4&&w.stateNode.containerInfo===P.containerInfo&&w.stateNode.implementation===P.implementation){s(R,w.sibling),w=p(w,P.children||[]),w.return=R,R=w;break e}else{s(R,w);break}else o(R,w);w=w.sibling}w=gl(P,R.mode,G),w.return=R,R=w}return S(R);case we:return ee=P._init,De(R,w,ee(P._payload),G)}if(ao(P))return K(R,w,P,G);if(ne(P))return Y(R,w,P,G);Nr(R,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,w!==null&&w.tag===6?(s(R,w.sibling),w=p(w,P),w.return=R,R=w):(s(R,w),w=hl(P,R.mode,G),w.return=R,R=w),S(R)):s(R,w)}return De}var On=Au(!0),Ru=Au(!1),Mr=jt(null),xr=null,Wn=null,ws=null;function As(){ws=Wn=xr=null}function Rs(t){var o=Mr.current;Ie(Mr),t._currentValue=o}function Ps(t,o,s){for(;t!==null;){var d=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),t===s)break;t=t.return}}function Kn(t,o){xr=t,ws=Wn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&o)!==0&&(nt=!0),t.firstContext=null)}function mt(t){var o=t._currentValue;if(ws!==t)if(t={context:t,memoizedValue:o,next:null},Wn===null){if(xr===null)throw Error(r(308));Wn=t,xr.dependencies={lanes:0,firstContext:t}}else Wn=Wn.next=t;return o}var yn=null;function Ns(t){yn===null?yn=[t]:yn.push(t)}function Pu(t,o,s,d){var p=o.interleaved;return p===null?(s.next=s,Ns(o)):(s.next=p.next,p.next=s),o.interleaved=s,Ht(t,d)}function Ht(t,o){t.lanes|=o;var s=t.alternate;for(s!==null&&(s.lanes|=o),s=t,t=t.return;t!==null;)t.childLanes|=o,s=t.alternate,s!==null&&(s.childLanes|=o),s=t,t=t.return;return s.tag===3?s.stateNode:null}var nn=!1;function Ms(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nu(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bt(t,o){return{eventTime:t,lane:o,tag:0,payload:null,callback:null,next:null}}function on(t,o,s){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(fe&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,Ht(t,s)}return p=d.interleaved,p===null?(o.next=o,Ns(d)):(o.next=p.next,p.next=o),d.interleaved=o,Ht(t,s)}function kr(t,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var d=o.lanes;d&=t.pendingLanes,s|=d,o.lanes=s,$i(t,s)}}function Mu(t,o){var s=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var p=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var S={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};v===null?p=v=S:v=v.next=S,s=s.next}while(s!==null);v===null?p=v=o:v=v.next=o}else p=v=o;s={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,effects:d.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=o:t.next=o,s.lastBaseUpdate=o}function Dr(t,o,s,d){var p=t.updateQueue;nn=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var I=T,x=I.next;I.next=null,S===null?v=x:S.next=x,S=I;var U=t.alternate;U!==null&&(U=U.updateQueue,T=U.lastBaseUpdate,T!==S&&(T===null?U.firstBaseUpdate=x:T.next=x,U.lastBaseUpdate=I))}if(v!==null){var V=p.baseState;S=0,U=x=I=null,T=v;do{var D=T.lane,$=T.eventTime;if((d&D)===D){U!==null&&(U=U.next={eventTime:$,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var K=t,Y=T;switch(D=o,$=s,Y.tag){case 1:if(K=Y.payload,typeof K=="function"){V=K.call($,V,D);break e}V=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=Y.payload,D=typeof K=="function"?K.call($,V,D):K,D==null)break e;V=W({},V,D);break e;case 2:nn=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,D=p.effects,D===null?p.effects=[T]:D.push(T))}else $={eventTime:$,lane:D,tag:T.tag,payload:T.payload,callback:T.callback,next:null},U===null?(x=U=$,I=V):U=U.next=$,S|=D;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;D=T,T=D.next,D.next=null,p.lastBaseUpdate=D,p.shared.pending=null}}while(!0);if(U===null&&(I=V),p.baseState=I,p.firstBaseUpdate=x,p.lastBaseUpdate=U,o=p.shared.interleaved,o!==null){p=o;do S|=p.lane,p=p.next;while(p!==o)}else v===null&&(p.shared.lanes=0);Sn|=S,t.lanes=S,t.memoizedState=V}}function xu(t,o,s){if(t=o.effects,o.effects=null,t!==null)for(o=0;o<t.length;o++){var d=t[o],p=d.callback;if(p!==null){if(d.callback=null,d=s,typeof p!="function")throw Error(r(191,p));p.call(d)}}}var Uo={},kt=jt(Uo),Fo=jt(Uo),Vo=jt(Uo);function En(t){if(t===Uo)throw Error(r(174));return t}function xs(t,o){switch(Te(Vo,o),Te(Fo,t),Te(kt,Uo),t=o.nodeType,t){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ki(null,"");break;default:t=t===8?o.parentNode:o,o=t.namespaceURI||null,t=t.tagName,o=ki(o,t)}Ie(kt),Te(kt,o)}function Yn(){Ie(kt),Ie(Fo),Ie(Vo)}function ku(t){En(Vo.current);var o=En(kt.current),s=ki(o,t.type);o!==s&&(Te(Fo,t),Te(kt,s))}function ks(t){Fo.current===t&&(Ie(kt),Ie(Fo))}var Pe=jt(0);function Lr(t){for(var o=t;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ds=[];function Ls(){for(var t=0;t<Ds.length;t++)Ds[t]._workInProgressVersionPrimary=null;Ds.length=0}var Ur=J.ReactCurrentDispatcher,Us=J.ReactCurrentBatchConfig,_n=0,Ne=null,Fe=null,Ge=null,Fr=!1,Go=!1,Ho=0,Ym=0;function We(){throw Error(r(321))}function Fs(t,o){if(o===null)return!1;for(var s=0;s<o.length&&s<t.length;s++)if(!St(t[s],o[s]))return!1;return!0}function Vs(t,o,s,d,p,v){if(_n=v,Ne=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ur.current=t===null||t.memoizedState===null?bm:jm,t=s(d,p),Go){v=0;do{if(Go=!1,Ho=0,25<=v)throw Error(r(301));v+=1,Ge=Fe=null,o.updateQueue=null,Ur.current=eh,t=s(d,p)}while(Go)}if(Ur.current=Hr,o=Fe!==null&&Fe.next!==null,_n=0,Ge=Fe=Ne=null,Fr=!1,o)throw Error(r(300));return t}function Gs(){var t=Ho!==0;return Ho=0,t}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ne.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function ht(){if(Fe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var o=Ge===null?Ne.memoizedState:Ge.next;if(o!==null)Ge=o,Fe=t;else{if(t===null)throw Error(r(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ge===null?Ne.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Bo(t,o){return typeof o=="function"?o(t):o}function Hs(t){var o=ht(),s=o.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var d=Fe,p=d.baseQueue,v=s.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}d.baseQueue=p=v,s.pending=null}if(p!==null){v=p.next,d=d.baseState;var T=S=null,I=null,x=v;do{var U=x.lane;if((_n&U)===U)I!==null&&(I=I.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),d=x.hasEagerState?x.eagerState:t(d,x.action);else{var V={lane:U,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};I===null?(T=I=V,S=d):I=I.next=V,Ne.lanes|=U,Sn|=U}x=x.next}while(x!==null&&x!==v);I===null?S=d:I.next=T,St(d,o.memoizedState)||(nt=!0),o.memoizedState=d,o.baseState=S,o.baseQueue=I,s.lastRenderedState=d}if(t=s.interleaved,t!==null){p=t;do v=p.lane,Ne.lanes|=v,Sn|=v,p=p.next;while(p!==t)}else p===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function Bs(t){var o=ht(),s=o.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var d=s.dispatch,p=s.pending,v=o.memoizedState;if(p!==null){s.pending=null;var S=p=p.next;do v=t(v,S.action),S=S.next;while(S!==p);St(v,o.memoizedState)||(nt=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),s.lastRenderedState=v}return[v,d]}function Du(){}function Lu(t,o){var s=Ne,d=ht(),p=o(),v=!St(d.memoizedState,p);if(v&&(d.memoizedState=p,nt=!0),d=d.queue,qs(Vu.bind(null,s,d,t),[t]),d.getSnapshot!==o||v||Ge!==null&&Ge.memoizedState.tag&1){if(s.flags|=2048,qo(9,Fu.bind(null,s,d,p,o),void 0,null),He===null)throw Error(r(349));(_n&30)!==0||Uu(s,o,p)}return p}function Uu(t,o,s){t.flags|=16384,t={getSnapshot:o,value:s},o=Ne.updateQueue,o===null?(o={lastEffect:null,stores:null},Ne.updateQueue=o,o.stores=[t]):(s=o.stores,s===null?o.stores=[t]:s.push(t))}function Fu(t,o,s,d){o.value=s,o.getSnapshot=d,Gu(o)&&Hu(t)}function Vu(t,o,s){return s(function(){Gu(o)&&Hu(t)})}function Gu(t){var o=t.getSnapshot;t=t.value;try{var s=o();return!St(t,s)}catch{return!0}}function Hu(t){var o=Ht(t,1);o!==null&&At(o,t,1,-1)}function Bu(t){var o=Dt();return typeof t=="function"&&(t=t()),o.memoizedState=o.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:t},o.queue=t,t=t.dispatch=Zm.bind(null,Ne,t),[o.memoizedState,t]}function qo(t,o,s,d){return t={tag:t,create:o,destroy:s,deps:d,next:null},o=Ne.updateQueue,o===null?(o={lastEffect:null,stores:null},Ne.updateQueue=o,o.lastEffect=t.next=t):(s=o.lastEffect,s===null?o.lastEffect=t.next=t:(d=s.next,s.next=t,t.next=d,o.lastEffect=t)),t}function qu(){return ht().memoizedState}function Vr(t,o,s,d){var p=Dt();Ne.flags|=t,p.memoizedState=qo(1|o,s,void 0,d===void 0?null:d)}function Gr(t,o,s,d){var p=ht();d=d===void 0?null:d;var v=void 0;if(Fe!==null){var S=Fe.memoizedState;if(v=S.destroy,d!==null&&Fs(d,S.deps)){p.memoizedState=qo(o,s,v,d);return}}Ne.flags|=t,p.memoizedState=qo(1|o,s,v,d)}function zu(t,o){return Vr(8390656,8,t,o)}function qs(t,o){return Gr(2048,8,t,o)}function Ju(t,o){return Gr(4,2,t,o)}function $u(t,o){return Gr(4,4,t,o)}function Ou(t,o){if(typeof o=="function")return t=t(),o(t),function(){o(null)};if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function Wu(t,o,s){return s=s!=null?s.concat([t]):null,Gr(4,4,Ou.bind(null,o,t),s)}function zs(){}function Ku(t,o){var s=ht();o=o===void 0?null:o;var d=s.memoizedState;return d!==null&&o!==null&&Fs(o,d[1])?d[0]:(s.memoizedState=[t,o],t)}function Yu(t,o){var s=ht();o=o===void 0?null:o;var d=s.memoizedState;return d!==null&&o!==null&&Fs(o,d[1])?d[0]:(t=t(),s.memoizedState=[t,o],t)}function Qu(t,o,s){return(_n&21)===0?(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=s):(St(s,o)||(s=wa(),Ne.lanes|=s,Sn|=s,t.baseState=!0),o)}function Qm(t,o){var s=ye;ye=s!==0&&4>s?s:4,t(!0);var d=Us.transition;Us.transition={};try{t(!1),o()}finally{ye=s,Us.transition=d}}function Xu(){return ht().memoizedState}function Xm(t,o,s){var d=an(t);if(s={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null},Zu(t))bu(o,s);else if(s=Pu(t,o,s,d),s!==null){var p=Ze();At(s,t,d,p),ju(s,o,d)}}function Zm(t,o,s){var d=an(t),p={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))bu(o,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,T=v(S,s);if(p.hasEagerState=!0,p.eagerState=T,St(T,S)){var I=o.interleaved;I===null?(p.next=p,Ns(o)):(p.next=I.next,I.next=p),o.interleaved=p;return}}catch{}finally{}s=Pu(t,o,p,d),s!==null&&(p=Ze(),At(s,t,d,p),ju(s,o,d))}}function Zu(t){var o=t.alternate;return t===Ne||o!==null&&o===Ne}function bu(t,o){Go=Fr=!0;var s=t.pending;s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o}function ju(t,o,s){if((s&4194240)!==0){var d=o.lanes;d&=t.pendingLanes,s|=d,o.lanes=s,$i(t,s)}}var Hr={readContext:mt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},bm={readContext:mt,useCallback:function(t,o){return Dt().memoizedState=[t,o===void 0?null:o],t},useContext:mt,useEffect:zu,useImperativeHandle:function(t,o,s){return s=s!=null?s.concat([t]):null,Vr(4194308,4,Ou.bind(null,o,t),s)},useLayoutEffect:function(t,o){return Vr(4194308,4,t,o)},useInsertionEffect:function(t,o){return Vr(4,2,t,o)},useMemo:function(t,o){var s=Dt();return o=o===void 0?null:o,t=t(),s.memoizedState=[t,o],t},useReducer:function(t,o,s){var d=Dt();return o=s!==void 0?s(o):o,d.memoizedState=d.baseState=o,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},d.queue=t,t=t.dispatch=Xm.bind(null,Ne,t),[d.memoizedState,t]},useRef:function(t){var o=Dt();return t={current:t},o.memoizedState=t},useState:Bu,useDebugValue:zs,useDeferredValue:function(t){return Dt().memoizedState=t},useTransition:function(){var t=Bu(!1),o=t[0];return t=Qm.bind(null,t[1]),Dt().memoizedState=t,[o,t]},useMutableSource:function(){},useSyncExternalStore:function(t,o,s){var d=Ne,p=Dt();if(Re){if(s===void 0)throw Error(r(407));s=s()}else{if(s=o(),He===null)throw Error(r(349));(_n&30)!==0||Uu(d,o,s)}p.memoizedState=s;var v={value:s,getSnapshot:o};return p.queue=v,zu(Vu.bind(null,d,v,t),[t]),d.flags|=2048,qo(9,Fu.bind(null,d,v,s,o),void 0,null),s},useId:function(){var t=Dt(),o=He.identifierPrefix;if(Re){var s=Gt,d=Vt;s=(d&~(1<<32-_t(d)-1)).toString(32)+s,o=":"+o+"R"+s,s=Ho++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Ym++,o=":"+o+"r"+s.toString(32)+":";return t.memoizedState=o},unstable_isNewReconciler:!1},jm={readContext:mt,useCallback:Ku,useContext:mt,useEffect:qs,useImperativeHandle:Wu,useInsertionEffect:Ju,useLayoutEffect:$u,useMemo:Yu,useReducer:Hs,useRef:qu,useState:function(){return Hs(Bo)},useDebugValue:zs,useDeferredValue:function(t){var o=ht();return Qu(o,Fe.memoizedState,t)},useTransition:function(){var t=Hs(Bo)[0],o=ht().memoizedState;return[t,o]},useMutableSource:Du,useSyncExternalStore:Lu,useId:Xu,unstable_isNewReconciler:!1},eh={readContext:mt,useCallback:Ku,useContext:mt,useEffect:qs,useImperativeHandle:Wu,useInsertionEffect:Ju,useLayoutEffect:$u,useMemo:Yu,useReducer:Bs,useRef:qu,useState:function(){return Bs(Bo)},useDebugValue:zs,useDeferredValue:function(t){var o=ht();return Fe===null?o.memoizedState=t:Qu(o,Fe.memoizedState,t)},useTransition:function(){var t=Bs(Bo)[0],o=ht().memoizedState;return[t,o]},useMutableSource:Du,useSyncExternalStore:Lu,useId:Xu,unstable_isNewReconciler:!1};function Ct(t,o){if(t&&t.defaultProps){o=W({},o),t=t.defaultProps;for(var s in t)o[s]===void 0&&(o[s]=t[s]);return o}return o}function Js(t,o,s,d){o=t.memoizedState,s=s(d,o),s=s==null?o:W({},o,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Br={isMounted:function(t){return(t=t._reactInternals)?pn(t)===t:!1},enqueueSetState:function(t,o,s){t=t._reactInternals;var d=Ze(),p=an(t),v=Bt(d,p);v.payload=o,s!=null&&(v.callback=s),o=on(t,v,p),o!==null&&(At(o,t,p,d),kr(o,t,p))},enqueueReplaceState:function(t,o,s){t=t._reactInternals;var d=Ze(),p=an(t),v=Bt(d,p);v.tag=1,v.payload=o,s!=null&&(v.callback=s),o=on(t,v,p),o!==null&&(At(o,t,p,d),kr(o,t,p))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var s=Ze(),d=an(t),p=Bt(s,d);p.tag=2,o!=null&&(p.callback=o),o=on(t,p,d),o!==null&&(At(o,t,d,s),kr(o,t,d))}};function ec(t,o,s,d,p,v,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!Ro(s,d)||!Ro(p,v):!0}function tc(t,o,s){var d=!1,p=en,v=o.contextType;return typeof v=="object"&&v!==null?v=mt(v):(p=tt(o)?hn:Oe.current,d=o.contextTypes,v=(d=d!=null)?qn(t,p):en),o=new o(s,v),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Br,t.stateNode=o,o._reactInternals=t,d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=v),o}function nc(t,o,s,d){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,d),o.state!==t&&Br.enqueueReplaceState(o,o.state,null)}function $s(t,o,s,d){var p=t.stateNode;p.props=s,p.state=t.memoizedState,p.refs={},Ms(t);var v=o.contextType;typeof v=="object"&&v!==null?p.context=mt(v):(v=tt(o)?hn:Oe.current,p.context=qn(t,v)),p.state=t.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Js(t,o,v,s),p.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Br.enqueueReplaceState(p,p.state,null),Dr(t,s,p,d),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function Qn(t,o){try{var s="",d=o;do s+=pe(d),d=d.return;while(d);var p=s}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:t,source:o,stack:p,digest:null}}function Os(t,o,s){return{value:t,source:null,stack:s??null,digest:o??null}}function Ws(t,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var th=typeof WeakMap=="function"?WeakMap:Map;function oc(t,o,s){s=Bt(-1,s),s.tag=3,s.payload={element:null};var d=o.value;return s.callback=function(){Kr||(Kr=!0,ll=d),Ws(t,o)},s}function rc(t,o,s){s=Bt(-1,s),s.tag=3;var d=t.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;s.payload=function(){return d(p)},s.callback=function(){Ws(t,o)}}var v=t.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){Ws(t,o),typeof d!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),s}function ic(t,o,s){var d=t.pingCache;if(d===null){d=t.pingCache=new th;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(s)||(p.add(s),t=hh.bind(null,t,o,s),o.then(t,t))}function sc(t){do{var o;if((o=t.tag===13)&&(o=t.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return t;t=t.return}while(t!==null);return null}function lc(t,o,s,d,p){return(t.mode&1)===0?(t===o?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=Bt(-1,1),o.tag=2,on(s,o,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=p,t)}var nh=J.ReactCurrentOwner,nt=!1;function Xe(t,o,s,d){o.child=t===null?Ru(o,null,s,d):On(o,t.child,s,d)}function ac(t,o,s,d,p){s=s.render;var v=o.ref;return Kn(o,p),d=Vs(t,o,s,d,v,p),s=Gs(),t!==null&&!nt?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~p,qt(t,o,p)):(Re&&s&&_s(o),o.flags|=1,Xe(t,o,d,p),o.child)}function uc(t,o,s,d,p){if(t===null){var v=s.type;return typeof v=="function"&&!ml(v)&&v.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=v,cc(t,o,v,d,p)):(t=jr(s.type,null,d,o,o.mode,p),t.ref=o.ref,t.return=o,o.child=t)}if(v=t.child,(t.lanes&p)===0){var S=v.memoizedProps;if(s=s.compare,s=s!==null?s:Ro,s(S,d)&&t.ref===o.ref)return qt(t,o,p)}return o.flags|=1,t=cn(v,d),t.ref=o.ref,t.return=o,o.child=t}function cc(t,o,s,d,p){if(t!==null){var v=t.memoizedProps;if(Ro(v,d)&&t.ref===o.ref)if(nt=!1,o.pendingProps=d=v,(t.lanes&p)!==0)(t.flags&131072)!==0&&(nt=!0);else return o.lanes=t.lanes,qt(t,o,p)}return Ks(t,o,s,d,p)}function dc(t,o,s){var d=o.pendingProps,p=d.children,v=t!==null?t.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Zn,dt),dt|=s;else{if((s&1073741824)===0)return t=v!==null?v.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:t,cachePool:null,transitions:null},o.updateQueue=null,Te(Zn,dt),dt|=t,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:s,Te(Zn,dt),dt|=d}else v!==null?(d=v.baseLanes|s,o.memoizedState=null):d=s,Te(Zn,dt),dt|=d;return Xe(t,o,p,s),o.child}function fc(t,o){var s=o.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function Ks(t,o,s,d,p){var v=tt(s)?hn:Oe.current;return v=qn(o,v),Kn(o,p),s=Vs(t,o,s,d,v,p),d=Gs(),t!==null&&!nt?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~p,qt(t,o,p)):(Re&&d&&_s(o),o.flags|=1,Xe(t,o,s,p),o.child)}function pc(t,o,s,d,p){if(tt(s)){var v=!0;Ir(o)}else v=!1;if(Kn(o,p),o.stateNode===null)zr(t,o),tc(o,s,d),$s(o,s,d,p),d=!0;else if(t===null){var S=o.stateNode,T=o.memoizedProps;S.props=T;var I=S.context,x=s.contextType;typeof x=="object"&&x!==null?x=mt(x):(x=tt(s)?hn:Oe.current,x=qn(o,x));var U=s.getDerivedStateFromProps,V=typeof U=="function"||typeof S.getSnapshotBeforeUpdate=="function";V||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==d||I!==x)&&nc(o,S,d,x),nn=!1;var D=o.memoizedState;S.state=D,Dr(o,d,S,p),I=o.memoizedState,T!==d||D!==I||et.current||nn?(typeof U=="function"&&(Js(o,s,U,d),I=o.memoizedState),(T=nn||ec(o,s,T,d,D,I,x))?(V||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=I),S.props=d,S.state=I,S.context=x,d=T):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,Nu(t,o),T=o.memoizedProps,x=o.type===o.elementType?T:Ct(o.type,T),S.props=x,V=o.pendingProps,D=S.context,I=s.contextType,typeof I=="object"&&I!==null?I=mt(I):(I=tt(s)?hn:Oe.current,I=qn(o,I));var $=s.getDerivedStateFromProps;(U=typeof $=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==V||D!==I)&&nc(o,S,d,I),nn=!1,D=o.memoizedState,S.state=D,Dr(o,d,S,p);var K=o.memoizedState;T!==V||D!==K||et.current||nn?(typeof $=="function"&&(Js(o,s,$,d),K=o.memoizedState),(x=nn||ec(o,s,x,d,D,K,I)||!1)?(U||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,K,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,K,I)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===t.memoizedProps&&D===t.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&D===t.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=K),S.props=d,S.state=K,S.context=I,d=x):(typeof S.componentDidUpdate!="function"||T===t.memoizedProps&&D===t.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&D===t.memoizedState||(o.flags|=1024),d=!1)}return Ys(t,o,s,d,v,p)}function Ys(t,o,s,d,p,v){fc(t,o);var S=(o.flags&128)!==0;if(!d&&!S)return p&&yu(o,s,!1),qt(t,o,v);d=o.stateNode,nh.current=o;var T=S&&typeof s.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,t!==null&&S?(o.child=On(o,t.child,null,v),o.child=On(o,null,T,v)):Xe(t,o,T,v),o.memoizedState=d.state,p&&yu(o,s,!0),o.child}function mc(t){var o=t.stateNode;o.pendingContext?gu(t,o.pendingContext,o.pendingContext!==o.context):o.context&&gu(t,o.context,!1),xs(t,o.containerInfo)}function hc(t,o,s,d,p){return $n(),Is(p),o.flags|=256,Xe(t,o,s,d),o.child}var Qs={dehydrated:null,treeContext:null,retryLane:0};function Xs(t){return{baseLanes:t,cachePool:null,transitions:null}}function gc(t,o,s){var d=o.pendingProps,p=Pe.current,v=!1,S=(o.flags&128)!==0,T;if((T=S)||(T=t!==null&&t.memoizedState===null?!1:(p&2)!==0),T?(v=!0,o.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),Te(Pe,p&1),t===null)return Cs(o),t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((o.mode&1)===0?o.lanes=1:t.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=d.children,t=d.fallback,v?(d=o.mode,v=o.child,S={mode:"hidden",children:S},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=ei(S,d,0,null),t=wn(t,d,s,null),v.return=o,t.return=o,v.sibling=t,o.child=v,o.child.memoizedState=Xs(s),o.memoizedState=Qs,t):Zs(o,S));if(p=t.memoizedState,p!==null&&(T=p.dehydrated,T!==null))return oh(t,o,S,d,T,p,s);if(v){v=d.fallback,S=o.mode,p=t.child,T=p.sibling;var I={mode:"hidden",children:d.children};return(S&1)===0&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=I,o.deletions=null):(d=cn(p,I),d.subtreeFlags=p.subtreeFlags&14680064),T!==null?v=cn(T,v):(v=wn(v,S,s,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,S=t.child.memoizedState,S=S===null?Xs(s):{baseLanes:S.baseLanes|s,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=t.childLanes&~s,o.memoizedState=Qs,d}return v=t.child,t=v.sibling,d=cn(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=s),d.return=o,d.sibling=null,t!==null&&(s=o.deletions,s===null?(o.deletions=[t],o.flags|=16):s.push(t)),o.child=d,o.memoizedState=null,d}function Zs(t,o){return o=ei({mode:"visible",children:o},t.mode,0,null),o.return=t,t.child=o}function qr(t,o,s,d){return d!==null&&Is(d),On(o,t.child,null,s),t=Zs(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function oh(t,o,s,d,p,v,S){if(s)return o.flags&256?(o.flags&=-257,d=Os(Error(r(422))),qr(t,o,S,d)):o.memoizedState!==null?(o.child=t.child,o.flags|=128,null):(v=d.fallback,p=o.mode,d=ei({mode:"visible",children:d.children},p,0,null),v=wn(v,p,S,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&On(o,t.child,null,S),o.child.memoizedState=Xs(S),o.memoizedState=Qs,v);if((o.mode&1)===0)return qr(t,o,S,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var T=d.dgst;return d=T,v=Error(r(419)),d=Os(v,d,void 0),qr(t,o,S,d)}if(T=(S&t.childLanes)!==0,nt||T){if(d=He,d!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|S))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Ht(t,p),At(d,t,p,-1))}return pl(),d=Os(Error(r(421))),qr(t,o,S,d)}return p.data==="$?"?(o.flags|=128,o.child=t.child,o=gh.bind(null,t),p._reactRetry=o,null):(t=v.treeContext,ct=bt(p.nextSibling),ut=o,Re=!0,Tt=null,t!==null&&(ft[pt++]=Vt,ft[pt++]=Gt,ft[pt++]=gn,Vt=t.id,Gt=t.overflow,gn=o),o=Zs(o,d.children),o.flags|=4096,o)}function vc(t,o,s){t.lanes|=o;var d=t.alternate;d!==null&&(d.lanes|=o),Ps(t.return,o,s)}function bs(t,o,s,d,p){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=s,v.tailMode=p)}function yc(t,o,s){var d=o.pendingProps,p=d.revealOrder,v=d.tail;if(Xe(t,o,d.children,s),d=Pe.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vc(t,s,o);else if(t.tag===19)vc(t,s,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}if(Te(Pe,d),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(s=o.child,p=null;s!==null;)t=s.alternate,t!==null&&Lr(t)===null&&(p=s),s=s.sibling;s=p,s===null?(p=o.child,o.child=null):(p=s.sibling,s.sibling=null),bs(o,!1,p,s,v);break;case"backwards":for(s=null,p=o.child,o.child=null;p!==null;){if(t=p.alternate,t!==null&&Lr(t)===null){o.child=p;break}t=p.sibling,p.sibling=s,s=p,p=t}bs(o,!0,s,null,v);break;case"together":bs(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function zr(t,o){(o.mode&1)===0&&t!==null&&(t.alternate=null,o.alternate=null,o.flags|=2)}function qt(t,o,s){if(t!==null&&(o.dependencies=t.dependencies),Sn|=o.lanes,(s&o.childLanes)===0)return null;if(t!==null&&o.child!==t.child)throw Error(r(153));if(o.child!==null){for(t=o.child,s=cn(t,t.pendingProps),o.child=s,s.return=o;t.sibling!==null;)t=t.sibling,s=s.sibling=cn(t,t.pendingProps),s.return=o;s.sibling=null}return o.child}function rh(t,o,s){switch(o.tag){case 3:mc(o),$n();break;case 5:ku(o);break;case 1:tt(o.type)&&Ir(o);break;case 4:xs(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;Te(Mr,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Te(Pe,Pe.current&1),o.flags|=128,null):(s&o.child.childLanes)!==0?gc(t,o,s):(Te(Pe,Pe.current&1),t=qt(t,o,s),t!==null?t.sibling:null);Te(Pe,Pe.current&1);break;case 19:if(d=(s&o.childLanes)!==0,(t.flags&128)!==0){if(d)return yc(t,o,s);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Te(Pe,Pe.current),d)break;return null;case 22:case 23:return o.lanes=0,dc(t,o,s)}return qt(t,o,s)}var Ec,js,_c,Sc;Ec=function(t,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},js=function(){},_c=function(t,o,s,d){var p=t.memoizedProps;if(p!==d){t=o.stateNode,En(kt.current);var v=null;switch(s){case"input":p=Pi(t,p),d=Pi(t,d),v=[];break;case"select":p=W({},p,{value:void 0}),d=W({},d,{value:void 0}),v=[];break;case"textarea":p=xi(t,p),d=xi(t,d),v=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(t.onclick=Sr)}Di(s,d);var S;s=null;for(x in p)if(!d.hasOwnProperty(x)&&p.hasOwnProperty(x)&&p[x]!=null)if(x==="style"){var T=p[x];for(S in T)T.hasOwnProperty(S)&&(s||(s={}),s[S]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(a.hasOwnProperty(x)?v||(v=[]):(v=v||[]).push(x,null));for(x in d){var I=d[x];if(T=p!=null?p[x]:void 0,d.hasOwnProperty(x)&&I!==T&&(I!=null||T!=null))if(x==="style")if(T){for(S in T)!T.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(s||(s={}),s[S]="");for(S in I)I.hasOwnProperty(S)&&T[S]!==I[S]&&(s||(s={}),s[S]=I[S])}else s||(v||(v=[]),v.push(x,s)),s=I;else x==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,T=T?T.__html:void 0,I!=null&&T!==I&&(v=v||[]).push(x,I)):x==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(x,""+I):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(a.hasOwnProperty(x)?(I!=null&&x==="onScroll"&&Ce("scroll",t),v||T===I||(v=[])):(v=v||[]).push(x,I))}s&&(v=v||[]).push("style",s);var x=v;(o.updateQueue=x)&&(o.flags|=4)}},Sc=function(t,o,s,d){s!==d&&(o.flags|=4)};function zo(t,o){if(!Re)switch(t.tailMode){case"hidden":o=t.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function Ke(t){var o=t.alternate!==null&&t.alternate.child===t.child,s=0,d=0;if(o)for(var p=t.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=d,t.childLanes=s,o}function ih(t,o,s){var d=o.pendingProps;switch(Ss(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(o),null;case 1:return tt(o.type)&&Cr(),Ke(o),null;case 3:return d=o.stateNode,Yn(),Ie(et),Ie(Oe),Ls(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(t===null||t.child===null)&&(Pr(o)?o.flags|=4:t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tt!==null&&(cl(Tt),Tt=null))),js(t,o),Ke(o),null;case 5:ks(o);var p=En(Vo.current);if(s=o.type,t!==null&&o.stateNode!=null)_c(t,o,s,d,p),t.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Ke(o),null}if(t=En(kt.current),Pr(o)){d=o.stateNode,s=o.type;var v=o.memoizedProps;switch(d[xt]=o,d[ko]=v,t=(o.mode&1)!==0,s){case"dialog":Ce("cancel",d),Ce("close",d);break;case"iframe":case"object":case"embed":Ce("load",d);break;case"video":case"audio":for(p=0;p<No.length;p++)Ce(No[p],d);break;case"source":Ce("error",d);break;case"img":case"image":case"link":Ce("error",d),Ce("load",d);break;case"details":Ce("toggle",d);break;case"input":ta(d,v),Ce("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ce("invalid",d);break;case"textarea":ra(d,v),Ce("invalid",d)}Di(s,v),p=null;for(var S in v)if(v.hasOwnProperty(S)){var T=v[S];S==="children"?typeof T=="string"?d.textContent!==T&&(v.suppressHydrationWarning!==!0&&_r(d.textContent,T,t),p=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(v.suppressHydrationWarning!==!0&&_r(d.textContent,T,t),p=["children",""+T]):a.hasOwnProperty(S)&&T!=null&&S==="onScroll"&&Ce("scroll",d)}switch(s){case"input":Zo(d),oa(d,v,!0);break;case"textarea":Zo(d),sa(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Sr)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=la(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=S.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof d.is=="string"?t=S.createElement(s,{is:d.is}):(t=S.createElement(s),s==="select"&&(S=t,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):t=S.createElementNS(t,s),t[xt]=o,t[ko]=d,Ec(t,o,!1,!1),o.stateNode=t;e:{switch(S=Li(s,d),s){case"dialog":Ce("cancel",t),Ce("close",t),p=d;break;case"iframe":case"object":case"embed":Ce("load",t),p=d;break;case"video":case"audio":for(p=0;p<No.length;p++)Ce(No[p],t);p=d;break;case"source":Ce("error",t),p=d;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),p=d;break;case"details":Ce("toggle",t),p=d;break;case"input":ta(t,d),p=Pi(t,d),Ce("invalid",t);break;case"option":p=d;break;case"select":t._wrapperState={wasMultiple:!!d.multiple},p=W({},d,{value:void 0}),Ce("invalid",t);break;case"textarea":ra(t,d),p=xi(t,d),Ce("invalid",t);break;default:p=d}Di(s,p),T=p;for(v in T)if(T.hasOwnProperty(v)){var I=T[v];v==="style"?ca(t,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&aa(t,I)):v==="children"?typeof I=="string"?(s!=="textarea"||I!=="")&&uo(t,I):typeof I=="number"&&uo(t,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?I!=null&&v==="onScroll"&&Ce("scroll",t):I!=null&&H(t,v,I,S))}switch(s){case"input":Zo(t),oa(t,d,!1);break;case"textarea":Zo(t),sa(t);break;case"option":d.value!=null&&t.setAttribute("value",""+ve(d.value));break;case"select":t.multiple=!!d.multiple,v=d.value,v!=null?Nn(t,!!d.multiple,v,!1):d.defaultValue!=null&&Nn(t,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=Sr)}switch(s){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ke(o),null;case 6:if(t&&o.stateNode!=null)Sc(t,o,t.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(s=En(Vo.current),En(kt.current),Pr(o)){if(d=o.stateNode,s=o.memoizedProps,d[xt]=o,(v=d.nodeValue!==s)&&(t=ut,t!==null))switch(t.tag){case 3:_r(d.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_r(d.nodeValue,s,(t.mode&1)!==0)}v&&(o.flags|=4)}else d=(s.nodeType===9?s:s.ownerDocument).createTextNode(d),d[xt]=o,o.stateNode=d}return Ke(o),null;case 13:if(Ie(Pe),d=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&ct!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Iu(),$n(),o.flags|=98560,v=!1;else if(v=Pr(o),d!==null&&d.dehydrated!==null){if(t===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[xt]=o}else $n(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ke(o),v=!1}else Tt!==null&&(cl(Tt),Tt=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=s,o):(d=d!==null,d!==(t!==null&&t.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(t===null||(Pe.current&1)!==0?Ve===0&&(Ve=3):pl())),o.updateQueue!==null&&(o.flags|=4),Ke(o),null);case 4:return Yn(),js(t,o),t===null&&Mo(o.stateNode.containerInfo),Ke(o),null;case 10:return Rs(o.type._context),Ke(o),null;case 17:return tt(o.type)&&Cr(),Ke(o),null;case 19:if(Ie(Pe),v=o.memoizedState,v===null)return Ke(o),null;if(d=(o.flags&128)!==0,S=v.rendering,S===null)if(d)zo(v,!1);else{if(Ve!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(S=Lr(t),S!==null){for(o.flags|=128,zo(v,!1),d=S.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=s,s=o.child;s!==null;)v=s,t=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=t,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,t=S.dependencies,v.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Te(Pe,Pe.current&1|2),o.child}t=t.sibling}v.tail!==null&&ke()>bn&&(o.flags|=128,d=!0,zo(v,!1),o.lanes=4194304)}else{if(!d)if(t=Lr(S),t!==null){if(o.flags|=128,d=!0,s=t.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),zo(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Re)return Ke(o),null}else 2*ke()-v.renderingStartTime>bn&&s!==1073741824&&(o.flags|=128,d=!0,zo(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(s=v.last,s!==null?s.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ke(),o.sibling=null,s=Pe.current,Te(Pe,d?s&1|2:s&1),o):(Ke(o),null);case 22:case 23:return fl(),d=o.memoizedState!==null,t!==null&&t.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(dt&1073741824)!==0&&(Ke(o),o.subtreeFlags&6&&(o.flags|=8192)):Ke(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function sh(t,o){switch(Ss(o),o.tag){case 1:return tt(o.type)&&Cr(),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Yn(),Ie(et),Ie(Oe),Ls(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 5:return ks(o),null;case 13:if(Ie(Pe),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(r(340));$n()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return Ie(Pe),null;case 4:return Yn(),null;case 10:return Rs(o.type._context),null;case 22:case 23:return fl(),null;case 24:return null;default:return null}}var Jr=!1,Ye=!1,lh=typeof WeakSet=="function"?WeakSet:Set,O=null;function Xn(t,o){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){xe(t,o,d)}else s.current=null}function el(t,o,s){try{s()}catch(d){xe(t,o,d)}}var Tc=!1;function ah(t,o){if(fs=ur,t=eu(),rs(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var S=0,T=-1,I=-1,x=0,U=0,V=t,D=null;t:for(;;){for(var $;V!==s||p!==0&&V.nodeType!==3||(T=S+p),V!==v||d!==0&&V.nodeType!==3||(I=S+d),V.nodeType===3&&(S+=V.nodeValue.length),($=V.firstChild)!==null;)D=V,V=$;for(;;){if(V===t)break t;if(D===s&&++x===p&&(T=S),D===v&&++U===d&&(I=S),($=V.nextSibling)!==null)break;V=D,D=V.parentNode}V=$}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ps={focusedElem:t,selectionRange:s},ur=!1,O=o;O!==null;)if(o=O,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,O=t;else for(;O!==null;){o=O;try{var K=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var Y=K.memoizedProps,De=K.memoizedState,R=o.stateNode,w=R.getSnapshotBeforeUpdate(o.elementType===o.type?Y:Ct(o.type,Y),De);R.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var P=o.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(G){xe(o,o.return,G)}if(t=o.sibling,t!==null){t.return=o.return,O=t;break}O=o.return}return K=Tc,Tc=!1,K}function Jo(t,o,s){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&t)===t){var v=p.destroy;p.destroy=void 0,v!==void 0&&el(o,s,v)}p=p.next}while(p!==d)}}function $r(t,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&t)===t){var d=s.create;s.destroy=d()}s=s.next}while(s!==o)}}function tl(t){var o=t.ref;if(o!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof o=="function"?o(t):o.current=t}}function Cc(t){var o=t.alternate;o!==null&&(t.alternate=null,Cc(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&(delete o[xt],delete o[ko],delete o[vs],delete o[$m],delete o[Om])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ic(t){return t.tag===5||t.tag===3||t.tag===4}function wc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ic(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nl(t,o,s){var d=t.tag;if(d===5||d===6)t=t.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(t,o):s.insertBefore(t,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(t,s)):(o=s,o.appendChild(t)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Sr));else if(d!==4&&(t=t.child,t!==null))for(nl(t,o,s),t=t.sibling;t!==null;)nl(t,o,s),t=t.sibling}function ol(t,o,s){var d=t.tag;if(d===5||d===6)t=t.stateNode,o?s.insertBefore(t,o):s.appendChild(t);else if(d!==4&&(t=t.child,t!==null))for(ol(t,o,s),t=t.sibling;t!==null;)ol(t,o,s),t=t.sibling}var ze=null,It=!1;function rn(t,o,s){for(s=s.child;s!==null;)Ac(t,o,s),s=s.sibling}function Ac(t,o,s){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(or,s)}catch{}switch(s.tag){case 5:Ye||Xn(s,o);case 6:var d=ze,p=It;ze=null,rn(t,o,s),ze=d,It=p,ze!==null&&(It?(t=ze,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):ze.removeChild(s.stateNode));break;case 18:ze!==null&&(It?(t=ze,s=s.stateNode,t.nodeType===8?gs(t.parentNode,s):t.nodeType===1&&gs(t,s),So(t)):gs(ze,s.stateNode));break;case 4:d=ze,p=It,ze=s.stateNode.containerInfo,It=!0,rn(t,o,s),ze=d,It=p;break;case 0:case 11:case 14:case 15:if(!Ye&&(d=s.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var v=p,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&el(s,o,S),p=p.next}while(p!==d)}rn(t,o,s);break;case 1:if(!Ye&&(Xn(s,o),d=s.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=s.memoizedProps,d.state=s.memoizedState,d.componentWillUnmount()}catch(T){xe(s,o,T)}rn(t,o,s);break;case 21:rn(t,o,s);break;case 22:s.mode&1?(Ye=(d=Ye)||s.memoizedState!==null,rn(t,o,s),Ye=d):rn(t,o,s);break;default:rn(t,o,s)}}function Rc(t){var o=t.updateQueue;if(o!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new lh),o.forEach(function(d){var p=vh.bind(null,t,d);s.has(d)||(s.add(d),d.then(p,p))})}}function wt(t,o){var s=o.deletions;if(s!==null)for(var d=0;d<s.length;d++){var p=s[d];try{var v=t,S=o,T=S;e:for(;T!==null;){switch(T.tag){case 5:ze=T.stateNode,It=!1;break e;case 3:ze=T.stateNode.containerInfo,It=!0;break e;case 4:ze=T.stateNode.containerInfo,It=!0;break e}T=T.return}if(ze===null)throw Error(r(160));Ac(v,S,p),ze=null,It=!1;var I=p.alternate;I!==null&&(I.return=null),p.return=null}catch(x){xe(p,o,x)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Pc(o,t),o=o.sibling}function Pc(t,o){var s=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(o,t),Lt(t),d&4){try{Jo(3,t,t.return),$r(3,t)}catch(Y){xe(t,t.return,Y)}try{Jo(5,t,t.return)}catch(Y){xe(t,t.return,Y)}}break;case 1:wt(o,t),Lt(t),d&512&&s!==null&&Xn(s,s.return);break;case 5:if(wt(o,t),Lt(t),d&512&&s!==null&&Xn(s,s.return),t.flags&32){var p=t.stateNode;try{uo(p,"")}catch(Y){xe(t,t.return,Y)}}if(d&4&&(p=t.stateNode,p!=null)){var v=t.memoizedProps,S=s!==null?s.memoizedProps:v,T=t.type,I=t.updateQueue;if(t.updateQueue=null,I!==null)try{T==="input"&&v.type==="radio"&&v.name!=null&&na(p,v),Li(T,S);var x=Li(T,v);for(S=0;S<I.length;S+=2){var U=I[S],V=I[S+1];U==="style"?ca(p,V):U==="dangerouslySetInnerHTML"?aa(p,V):U==="children"?uo(p,V):H(p,U,V,x)}switch(T){case"input":Ni(p,v);break;case"textarea":ia(p,v);break;case"select":var D=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var $=v.value;$!=null?Nn(p,!!v.multiple,$,!1):D!==!!v.multiple&&(v.defaultValue!=null?Nn(p,!!v.multiple,v.defaultValue,!0):Nn(p,!!v.multiple,v.multiple?[]:"",!1))}p[ko]=v}catch(Y){xe(t,t.return,Y)}}break;case 6:if(wt(o,t),Lt(t),d&4){if(t.stateNode===null)throw Error(r(162));p=t.stateNode,v=t.memoizedProps;try{p.nodeValue=v}catch(Y){xe(t,t.return,Y)}}break;case 3:if(wt(o,t),Lt(t),d&4&&s!==null&&s.memoizedState.isDehydrated)try{So(o.containerInfo)}catch(Y){xe(t,t.return,Y)}break;case 4:wt(o,t),Lt(t);break;case 13:wt(o,t),Lt(t),p=t.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(sl=ke())),d&4&&Rc(t);break;case 22:if(U=s!==null&&s.memoizedState!==null,t.mode&1?(Ye=(x=Ye)||U,wt(o,t),Ye=x):wt(o,t),Lt(t),d&8192){if(x=t.memoizedState!==null,(t.stateNode.isHidden=x)&&!U&&(t.mode&1)!==0)for(O=t,U=t.child;U!==null;){for(V=O=U;O!==null;){switch(D=O,$=D.child,D.tag){case 0:case 11:case 14:case 15:Jo(4,D,D.return);break;case 1:Xn(D,D.return);var K=D.stateNode;if(typeof K.componentWillUnmount=="function"){d=D,s=D.return;try{o=d,K.props=o.memoizedProps,K.state=o.memoizedState,K.componentWillUnmount()}catch(Y){xe(d,s,Y)}}break;case 5:Xn(D,D.return);break;case 22:if(D.memoizedState!==null){xc(V);continue}}$!==null?($.return=D,O=$):xc(V)}U=U.sibling}e:for(U=null,V=t;;){if(V.tag===5){if(U===null){U=V;try{p=V.stateNode,x?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(T=V.stateNode,I=V.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,T.style.display=ua("display",S))}catch(Y){xe(t,t.return,Y)}}}else if(V.tag===6){if(U===null)try{V.stateNode.nodeValue=x?"":V.memoizedProps}catch(Y){xe(t,t.return,Y)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===t)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===t)break e;for(;V.sibling===null;){if(V.return===null||V.return===t)break e;U===V&&(U=null),V=V.return}U===V&&(U=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:wt(o,t),Lt(t),d&4&&Rc(t);break;case 21:break;default:wt(o,t),Lt(t)}}function Lt(t){var o=t.flags;if(o&2){try{e:{for(var s=t.return;s!==null;){if(Ic(s)){var d=s;break e}s=s.return}throw Error(r(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(uo(p,""),d.flags&=-33);var v=wc(t);ol(t,v,p);break;case 3:case 4:var S=d.stateNode.containerInfo,T=wc(t);nl(t,T,S);break;default:throw Error(r(161))}}catch(I){xe(t,t.return,I)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function uh(t,o,s){O=t,Nc(t)}function Nc(t,o,s){for(var d=(t.mode&1)!==0;O!==null;){var p=O,v=p.child;if(p.tag===22&&d){var S=p.memoizedState!==null||Jr;if(!S){var T=p.alternate,I=T!==null&&T.memoizedState!==null||Ye;T=Jr;var x=Ye;if(Jr=S,(Ye=I)&&!x)for(O=p;O!==null;)S=O,I=S.child,S.tag===22&&S.memoizedState!==null?kc(p):I!==null?(I.return=S,O=I):kc(p);for(;v!==null;)O=v,Nc(v),v=v.sibling;O=p,Jr=T,Ye=x}Mc(t)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,O=v):Mc(t)}}function Mc(t){for(;O!==null;){var o=O;if((o.flags&8772)!==0){var s=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ye||$r(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Ye)if(s===null)d.componentDidMount();else{var p=o.elementType===o.type?s.memoizedProps:Ct(o.type,s.memoizedProps);d.componentDidUpdate(p,s.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&xu(o,v,d);break;case 3:var S=o.updateQueue;if(S!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}xu(o,S,s)}break;case 5:var T=o.stateNode;if(s===null&&o.flags&4){s=T;var I=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&s.focus();break;case"img":I.src&&(s.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var x=o.alternate;if(x!==null){var U=x.memoizedState;if(U!==null){var V=U.dehydrated;V!==null&&So(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ye||o.flags&512&&tl(o)}catch(D){xe(o,o.return,D)}}if(o===t){O=null;break}if(s=o.sibling,s!==null){s.return=o.return,O=s;break}O=o.return}}function xc(t){for(;O!==null;){var o=O;if(o===t){O=null;break}var s=o.sibling;if(s!==null){s.return=o.return,O=s;break}O=o.return}}function kc(t){for(;O!==null;){var o=O;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{$r(4,o)}catch(I){xe(o,s,I)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(I){xe(o,p,I)}}var v=o.return;try{tl(o)}catch(I){xe(o,v,I)}break;case 5:var S=o.return;try{tl(o)}catch(I){xe(o,S,I)}}}catch(I){xe(o,o.return,I)}if(o===t){O=null;break}var T=o.sibling;if(T!==null){T.return=o.return,O=T;break}O=o.return}}var ch=Math.ceil,Or=J.ReactCurrentDispatcher,rl=J.ReactCurrentOwner,gt=J.ReactCurrentBatchConfig,fe=0,He=null,Le=null,Je=0,dt=0,Zn=jt(0),Ve=0,$o=null,Sn=0,Wr=0,il=0,Oo=null,ot=null,sl=0,bn=1/0,zt=null,Kr=!1,ll=null,sn=null,Yr=!1,ln=null,Qr=0,Wo=0,al=null,Xr=-1,Zr=0;function Ze(){return(fe&6)!==0?ke():Xr!==-1?Xr:Xr=ke()}function an(t){return(t.mode&1)===0?1:(fe&2)!==0&&Je!==0?Je&-Je:Km.transition!==null?(Zr===0&&(Zr=wa()),Zr):(t=ye,t!==0||(t=window.event,t=t===void 0?16:La(t.type)),t)}function At(t,o,s,d){if(50<Wo)throw Wo=0,al=null,Error(r(185));go(t,s,d),((fe&2)===0||t!==He)&&(t===He&&((fe&2)===0&&(Wr|=s),Ve===4&&un(t,Je)),rt(t,d),s===1&&fe===0&&(o.mode&1)===0&&(bn=ke()+500,wr&&tn()))}function rt(t,o){var s=t.callbackNode;Kp(t,o);var d=sr(t,t===He?Je:0);if(d===0)s!==null&&Ta(s),t.callbackNode=null,t.callbackPriority=0;else if(o=d&-d,t.callbackPriority!==o){if(s!=null&&Ta(s),o===1)t.tag===0?Wm(Lc.bind(null,t)):Eu(Lc.bind(null,t)),zm(function(){(fe&6)===0&&tn()}),s=null;else{switch(Aa(d)){case 1:s=qi;break;case 4:s=Ca;break;case 16:s=nr;break;case 536870912:s=Ia;break;default:s=nr}s=zc(s,Dc.bind(null,t))}t.callbackPriority=o,t.callbackNode=s}}function Dc(t,o){if(Xr=-1,Zr=0,(fe&6)!==0)throw Error(r(327));var s=t.callbackNode;if(jn()&&t.callbackNode!==s)return null;var d=sr(t,t===He?Je:0);if(d===0)return null;if((d&30)!==0||(d&t.expiredLanes)!==0||o)o=br(t,d);else{o=d;var p=fe;fe|=2;var v=Fc();(He!==t||Je!==o)&&(zt=null,bn=ke()+500,Cn(t,o));do try{ph();break}catch(T){Uc(t,T)}while(!0);As(),Or.current=v,fe=p,Le!==null?o=0:(He=null,Je=0,o=Ve)}if(o!==0){if(o===2&&(p=zi(t),p!==0&&(d=p,o=ul(t,p))),o===1)throw s=$o,Cn(t,0),un(t,d),rt(t,ke()),s;if(o===6)un(t,d);else{if(p=t.current.alternate,(d&30)===0&&!dh(p)&&(o=br(t,d),o===2&&(v=zi(t),v!==0&&(d=v,o=ul(t,v))),o===1))throw s=$o,Cn(t,0),un(t,d),rt(t,ke()),s;switch(t.finishedWork=p,t.finishedLanes=d,o){case 0:case 1:throw Error(r(345));case 2:In(t,ot,zt);break;case 3:if(un(t,d),(d&130023424)===d&&(o=sl+500-ke(),10<o)){if(sr(t,0)!==0)break;if(p=t.suspendedLanes,(p&d)!==d){Ze(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=hs(In.bind(null,t,ot,zt),o);break}In(t,ot,zt);break;case 4:if(un(t,d),(d&4194240)===d)break;for(o=t.eventTimes,p=-1;0<d;){var S=31-_t(d);v=1<<S,S=o[S],S>p&&(p=S),d&=~v}if(d=p,d=ke()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ch(d/1960))-d,10<d){t.timeoutHandle=hs(In.bind(null,t,ot,zt),d);break}In(t,ot,zt);break;case 5:In(t,ot,zt);break;default:throw Error(r(329))}}}return rt(t,ke()),t.callbackNode===s?Dc.bind(null,t):null}function ul(t,o){var s=Oo;return t.current.memoizedState.isDehydrated&&(Cn(t,o).flags|=256),t=br(t,o),t!==2&&(o=ot,ot=s,o!==null&&cl(o)),t}function cl(t){ot===null?ot=t:ot.push.apply(ot,t)}function dh(t){for(var o=t;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var d=0;d<s.length;d++){var p=s[d],v=p.getSnapshot;p=p.value;try{if(!St(v(),p))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function un(t,o){for(o&=~il,o&=~Wr,t.suspendedLanes|=o,t.pingedLanes&=~o,t=t.expirationTimes;0<o;){var s=31-_t(o),d=1<<s;t[s]=-1,o&=~d}}function Lc(t){if((fe&6)!==0)throw Error(r(327));jn();var o=sr(t,0);if((o&1)===0)return rt(t,ke()),null;var s=br(t,o);if(t.tag!==0&&s===2){var d=zi(t);d!==0&&(o=d,s=ul(t,d))}if(s===1)throw s=$o,Cn(t,0),un(t,o),rt(t,ke()),s;if(s===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=o,In(t,ot,zt),rt(t,ke()),null}function dl(t,o){var s=fe;fe|=1;try{return t(o)}finally{fe=s,fe===0&&(bn=ke()+500,wr&&tn())}}function Tn(t){ln!==null&&ln.tag===0&&(fe&6)===0&&jn();var o=fe;fe|=1;var s=gt.transition,d=ye;try{if(gt.transition=null,ye=1,t)return t()}finally{ye=d,gt.transition=s,fe=o,(fe&6)===0&&tn()}}function fl(){dt=Zn.current,Ie(Zn)}function Cn(t,o){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,qm(s)),Le!==null)for(s=Le.return;s!==null;){var d=s;switch(Ss(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Cr();break;case 3:Yn(),Ie(et),Ie(Oe),Ls();break;case 5:ks(d);break;case 4:Yn();break;case 13:Ie(Pe);break;case 19:Ie(Pe);break;case 10:Rs(d.type._context);break;case 22:case 23:fl()}s=s.return}if(He=t,Le=t=cn(t.current,null),Je=dt=o,Ve=0,$o=null,il=Wr=Sn=0,ot=Oo=null,yn!==null){for(o=0;o<yn.length;o++)if(s=yn[o],d=s.interleaved,d!==null){s.interleaved=null;var p=d.next,v=s.pending;if(v!==null){var S=v.next;v.next=p,d.next=S}s.pending=d}yn=null}return t}function Uc(t,o){do{var s=Le;try{if(As(),Ur.current=Hr,Fr){for(var d=Ne.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Fr=!1}if(_n=0,Ge=Fe=Ne=null,Go=!1,Ho=0,rl.current=null,s===null||s.return===null){Ve=1,$o=o,Le=null;break}e:{var v=t,S=s.return,T=s,I=o;if(o=Je,T.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var x=I,U=T,V=U.tag;if((U.mode&1)===0&&(V===0||V===11||V===15)){var D=U.alternate;D?(U.updateQueue=D.updateQueue,U.memoizedState=D.memoizedState,U.lanes=D.lanes):(U.updateQueue=null,U.memoizedState=null)}var $=sc(S);if($!==null){$.flags&=-257,lc($,S,T,v,o),$.mode&1&&ic(v,x,o),o=$,I=x;var K=o.updateQueue;if(K===null){var Y=new Set;Y.add(I),o.updateQueue=Y}else K.add(I);break e}else{if((o&1)===0){ic(v,x,o),pl();break e}I=Error(r(426))}}else if(Re&&T.mode&1){var De=sc(S);if(De!==null){(De.flags&65536)===0&&(De.flags|=256),lc(De,S,T,v,o),Is(Qn(I,T));break e}}v=I=Qn(I,T),Ve!==4&&(Ve=2),Oo===null?Oo=[v]:Oo.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var R=oc(v,I,o);Mu(v,R);break e;case 1:T=I;var w=v.type,P=v.stateNode;if((v.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(sn===null||!sn.has(P)))){v.flags|=65536,o&=-o,v.lanes|=o;var G=rc(v,T,o);Mu(v,G);break e}}v=v.return}while(v!==null)}Gc(s)}catch(Q){o=Q,Le===s&&s!==null&&(Le=s=s.return);continue}break}while(!0)}function Fc(){var t=Or.current;return Or.current=Hr,t===null?Hr:t}function pl(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),He===null||(Sn&268435455)===0&&(Wr&268435455)===0||un(He,Je)}function br(t,o){var s=fe;fe|=2;var d=Fc();(He!==t||Je!==o)&&(zt=null,Cn(t,o));do try{fh();break}catch(p){Uc(t,p)}while(!0);if(As(),fe=s,Or.current=d,Le!==null)throw Error(r(261));return He=null,Je=0,Ve}function fh(){for(;Le!==null;)Vc(Le)}function ph(){for(;Le!==null&&!Gp();)Vc(Le)}function Vc(t){var o=qc(t.alternate,t,dt);t.memoizedProps=t.pendingProps,o===null?Gc(t):Le=o,rl.current=null}function Gc(t){var o=t;do{var s=o.alternate;if(t=o.return,(o.flags&32768)===0){if(s=ih(s,o,dt),s!==null){Le=s;return}}else{if(s=sh(s,o),s!==null){s.flags&=32767,Le=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,Le=null;return}}if(o=o.sibling,o!==null){Le=o;return}Le=o=t}while(o!==null);Ve===0&&(Ve=5)}function In(t,o,s){var d=ye,p=gt.transition;try{gt.transition=null,ye=1,mh(t,o,s,d)}finally{gt.transition=p,ye=d}return null}function mh(t,o,s,d){do jn();while(ln!==null);if((fe&6)!==0)throw Error(r(327));s=t.finishedWork;var p=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var v=s.lanes|s.childLanes;if(Yp(t,v),t===He&&(Le=He=null,Je=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Yr||(Yr=!0,zc(nr,function(){return jn(),null})),v=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||v){v=gt.transition,gt.transition=null;var S=ye;ye=1;var T=fe;fe|=4,rl.current=null,ah(t,s),Pc(s,t),Lm(ps),ur=!!fs,ps=fs=null,t.current=s,uh(s),Hp(),fe=T,ye=S,gt.transition=v}else t.current=s;if(Yr&&(Yr=!1,ln=t,Qr=p),v=t.pendingLanes,v===0&&(sn=null),zp(s.stateNode),rt(t,ke()),o!==null)for(d=t.onRecoverableError,s=0;s<o.length;s++)p=o[s],d(p.value,{componentStack:p.stack,digest:p.digest});if(Kr)throw Kr=!1,t=ll,ll=null,t;return(Qr&1)!==0&&t.tag!==0&&jn(),v=t.pendingLanes,(v&1)!==0?t===al?Wo++:(Wo=0,al=t):Wo=0,tn(),null}function jn(){if(ln!==null){var t=Aa(Qr),o=gt.transition,s=ye;try{if(gt.transition=null,ye=16>t?16:t,ln===null)var d=!1;else{if(t=ln,ln=null,Qr=0,(fe&6)!==0)throw Error(r(331));var p=fe;for(fe|=4,O=t.current;O!==null;){var v=O,S=v.child;if((O.flags&16)!==0){var T=v.deletions;if(T!==null){for(var I=0;I<T.length;I++){var x=T[I];for(O=x;O!==null;){var U=O;switch(U.tag){case 0:case 11:case 15:Jo(8,U,v)}var V=U.child;if(V!==null)V.return=U,O=V;else for(;O!==null;){U=O;var D=U.sibling,$=U.return;if(Cc(U),U===x){O=null;break}if(D!==null){D.return=$,O=D;break}O=$}}}var K=v.alternate;if(K!==null){var Y=K.child;if(Y!==null){K.child=null;do{var De=Y.sibling;Y.sibling=null,Y=De}while(Y!==null)}}O=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,O=S;else e:for(;O!==null;){if(v=O,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Jo(9,v,v.return)}var R=v.sibling;if(R!==null){R.return=v.return,O=R;break e}O=v.return}}var w=t.current;for(O=w;O!==null;){S=O;var P=S.child;if((S.subtreeFlags&2064)!==0&&P!==null)P.return=S,O=P;else e:for(S=w;O!==null;){if(T=O,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:$r(9,T)}}catch(Q){xe(T,T.return,Q)}if(T===S){O=null;break e}var G=T.sibling;if(G!==null){G.return=T.return,O=G;break e}O=T.return}}if(fe=p,tn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(or,t)}catch{}d=!0}return d}finally{ye=s,gt.transition=o}}return!1}function Hc(t,o,s){o=Qn(s,o),o=oc(t,o,1),t=on(t,o,1),o=Ze(),t!==null&&(go(t,1,o),rt(t,o))}function xe(t,o,s){if(t.tag===3)Hc(t,t,s);else for(;o!==null;){if(o.tag===3){Hc(o,t,s);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(sn===null||!sn.has(d))){t=Qn(s,t),t=rc(o,t,1),o=on(o,t,1),t=Ze(),o!==null&&(go(o,1,t),rt(o,t));break}}o=o.return}}function hh(t,o,s){var d=t.pingCache;d!==null&&d.delete(o),o=Ze(),t.pingedLanes|=t.suspendedLanes&s,He===t&&(Je&s)===s&&(Ve===4||Ve===3&&(Je&130023424)===Je&&500>ke()-sl?Cn(t,0):il|=s),rt(t,o)}function Bc(t,o){o===0&&((t.mode&1)===0?o=1:(o=ir,ir<<=1,(ir&130023424)===0&&(ir=4194304)));var s=Ze();t=Ht(t,o),t!==null&&(go(t,o,s),rt(t,s))}function gh(t){var o=t.memoizedState,s=0;o!==null&&(s=o.retryLane),Bc(t,s)}function vh(t,o){var s=0;switch(t.tag){case 13:var d=t.stateNode,p=t.memoizedState;p!==null&&(s=p.retryLane);break;case 19:d=t.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(o),Bc(t,s)}var qc;qc=function(t,o,s){if(t!==null)if(t.memoizedProps!==o.pendingProps||et.current)nt=!0;else{if((t.lanes&s)===0&&(o.flags&128)===0)return nt=!1,rh(t,o,s);nt=(t.flags&131072)!==0}else nt=!1,Re&&(o.flags&1048576)!==0&&_u(o,Rr,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;zr(t,o),t=o.pendingProps;var p=qn(o,Oe.current);Kn(o,s),p=Vs(null,o,d,t,p,s);var v=Gs();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,tt(d)?(v=!0,Ir(o)):v=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Ms(o),p.updater=Br,o.stateNode=p,p._reactInternals=o,$s(o,d,t,s),o=Ys(null,o,d,!0,v,s)):(o.tag=0,Re&&v&&_s(o),Xe(null,o,p,s),o=o.child),o;case 16:d=o.elementType;e:{switch(zr(t,o),t=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=Eh(d),t=Ct(d,t),p){case 0:o=Ks(null,o,d,t,s);break e;case 1:o=pc(null,o,d,t,s);break e;case 11:o=ac(null,o,d,t,s);break e;case 14:o=uc(null,o,d,Ct(d.type,t),s);break e}throw Error(r(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Ct(d,p),Ks(t,o,d,p,s);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Ct(d,p),pc(t,o,d,p,s);case 3:e:{if(mc(o),t===null)throw Error(r(387));d=o.pendingProps,v=o.memoizedState,p=v.element,Nu(t,o),Dr(o,d,null,s);var S=o.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){p=Qn(Error(r(423)),o),o=hc(t,o,d,s,p);break e}else if(d!==p){p=Qn(Error(r(424)),o),o=hc(t,o,d,s,p);break e}else for(ct=bt(o.stateNode.containerInfo.firstChild),ut=o,Re=!0,Tt=null,s=Ru(o,null,d,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if($n(),d===p){o=qt(t,o,s);break e}Xe(t,o,d,s)}o=o.child}return o;case 5:return ku(o),t===null&&Cs(o),d=o.type,p=o.pendingProps,v=t!==null?t.memoizedProps:null,S=p.children,ms(d,p)?S=null:v!==null&&ms(d,v)&&(o.flags|=32),fc(t,o),Xe(t,o,S,s),o.child;case 6:return t===null&&Cs(o),null;case 13:return gc(t,o,s);case 4:return xs(o,o.stateNode.containerInfo),d=o.pendingProps,t===null?o.child=On(o,null,d,s):Xe(t,o,d,s),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Ct(d,p),ac(t,o,d,p,s);case 7:return Xe(t,o,o.pendingProps,s),o.child;case 8:return Xe(t,o,o.pendingProps.children,s),o.child;case 12:return Xe(t,o,o.pendingProps.children,s),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,v=o.memoizedProps,S=p.value,Te(Mr,d._currentValue),d._currentValue=S,v!==null)if(St(v.value,S)){if(v.children===p.children&&!et.current){o=qt(t,o,s);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var T=v.dependencies;if(T!==null){S=v.child;for(var I=T.firstContext;I!==null;){if(I.context===d){if(v.tag===1){I=Bt(-1,s&-s),I.tag=2;var x=v.updateQueue;if(x!==null){x=x.shared;var U=x.pending;U===null?I.next=I:(I.next=U.next,U.next=I),x.pending=I}}v.lanes|=s,I=v.alternate,I!==null&&(I.lanes|=s),Ps(v.return,s,o),T.lanes|=s;break}I=I.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=s,T=S.alternate,T!==null&&(T.lanes|=s),Ps(S,s,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Xe(t,o,p.children,s),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,Kn(o,s),p=mt(p),d=d(p),o.flags|=1,Xe(t,o,d,s),o.child;case 14:return d=o.type,p=Ct(d,o.pendingProps),p=Ct(d.type,p),uc(t,o,d,p,s);case 15:return cc(t,o,o.type,o.pendingProps,s);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Ct(d,p),zr(t,o),o.tag=1,tt(d)?(t=!0,Ir(o)):t=!1,Kn(o,s),tc(o,d,p),$s(o,d,p,s),Ys(null,o,d,!0,t,s);case 19:return yc(t,o,s);case 22:return dc(t,o,s)}throw Error(r(156,o.tag))};function zc(t,o){return Sa(t,o)}function yh(t,o,s,d){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(t,o,s,d){return new yh(t,o,s,d)}function ml(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Eh(t){if(typeof t=="function")return ml(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ue)return 11;if(t===st)return 14}return 2}function cn(t,o){var s=t.alternate;return s===null?(s=vt(t.tag,o,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=o,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,o=t.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function jr(t,o,s,d,p,v){var S=2;if(d=t,typeof t=="function")ml(t)&&(S=1);else if(typeof t=="string")S=5;else e:switch(t){case X:return wn(s.children,p,v,o);case de:S=8,p|=8;break;case Z:return t=vt(12,s,o,p|2),t.elementType=Z,t.lanes=v,t;case ce:return t=vt(13,s,o,p),t.elementType=ce,t.lanes=v,t;case Me:return t=vt(19,s,o,p),t.elementType=Me,t.lanes=v,t;case _e:return ei(s,p,v,o);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:S=10;break e;case Ee:S=9;break e;case Ue:S=11;break e;case st:S=14;break e;case we:S=16,d=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return o=vt(S,s,o,p),o.elementType=t,o.type=d,o.lanes=v,o}function wn(t,o,s,d){return t=vt(7,t,d,o),t.lanes=s,t}function ei(t,o,s,d){return t=vt(22,t,d,o),t.elementType=_e,t.lanes=s,t.stateNode={isHidden:!1},t}function hl(t,o,s){return t=vt(6,t,null,o),t.lanes=s,t}function gl(t,o,s){return o=vt(4,t.children!==null?t.children:[],t.key,o),o.lanes=s,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}function _h(t,o,s,d,p){this.tag=o,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function vl(t,o,s,d,p,v,S,T,I){return t=new _h(t,o,s,T,I),o===1?(o=1,v===!0&&(o|=8)):o=0,v=vt(3,null,null,o),t.current=v,v.stateNode=t,v.memoizedState={element:d,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(v),t}function Sh(t,o,s){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:d==null?null:""+d,children:t,containerInfo:o,implementation:s}}function Jc(t){if(!t)return en;t=t._reactInternals;e:{if(pn(t)!==t||t.tag!==1)throw Error(r(170));var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(tt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(t.tag===1){var s=t.type;if(tt(s))return vu(t,s,o)}return o}function $c(t,o,s,d,p,v,S,T,I){return t=vl(s,d,!0,t,p,v,S,T,I),t.context=Jc(null),s=t.current,d=Ze(),p=an(s),v=Bt(d,p),v.callback=o??null,on(s,v,p),t.current.lanes=p,go(t,p,d),rt(t,d),t}function ti(t,o,s,d){var p=o.current,v=Ze(),S=an(p);return s=Jc(s),o.context===null?o.context=s:o.pendingContext=s,o=Bt(v,S),o.payload={element:t},d=d===void 0?null:d,d!==null&&(o.callback=d),t=on(p,o,S),t!==null&&(At(t,p,S,v),kr(t,p,S)),S}function ni(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Oc(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<o?s:o}}function yl(t,o){Oc(t,o),(t=t.alternate)&&Oc(t,o)}function Th(){return null}var Wc=typeof reportError=="function"?reportError:function(t){console.error(t)};function El(t){this._internalRoot=t}oi.prototype.render=El.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(r(409));ti(t,o,null,null)},oi.prototype.unmount=El.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;Tn(function(){ti(null,t,null,null)}),o[Ut]=null}};function oi(t){this._internalRoot=t}oi.prototype.unstable_scheduleHydration=function(t){if(t){var o=Na();t={blockedOn:null,target:t,priority:o};for(var s=0;s<Qt.length&&o!==0&&o<Qt[s].priority;s++);Qt.splice(s,0,t),s===0&&ka(t)}};function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ri(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kc(){}function Ch(t,o,s,d,p){if(p){if(typeof d=="function"){var v=d;d=function(){var x=ni(S);v.call(x)}}var S=$c(o,d,t,0,null,!1,!1,"",Kc);return t._reactRootContainer=S,t[Ut]=S.current,Mo(t.nodeType===8?t.parentNode:t),Tn(),S}for(;p=t.lastChild;)t.removeChild(p);if(typeof d=="function"){var T=d;d=function(){var x=ni(I);T.call(x)}}var I=vl(t,0,!1,null,null,!1,!1,"",Kc);return t._reactRootContainer=I,t[Ut]=I.current,Mo(t.nodeType===8?t.parentNode:t),Tn(function(){ti(o,I,s,d)}),I}function ii(t,o,s,d,p){var v=s._reactRootContainer;if(v){var S=v;if(typeof p=="function"){var T=p;p=function(){var I=ni(S);T.call(I)}}ti(o,S,t,p)}else S=Ch(s,o,t,p,d);return ni(S)}Ra=function(t){switch(t.tag){case 3:var o=t.stateNode;if(o.current.memoizedState.isDehydrated){var s=ho(o.pendingLanes);s!==0&&($i(o,s|1),rt(o,ke()),(fe&6)===0&&(bn=ke()+500,tn()))}break;case 13:Tn(function(){var d=Ht(t,1);if(d!==null){var p=Ze();At(d,t,1,p)}}),yl(t,1)}},Oi=function(t){if(t.tag===13){var o=Ht(t,134217728);if(o!==null){var s=Ze();At(o,t,134217728,s)}yl(t,134217728)}},Pa=function(t){if(t.tag===13){var o=an(t),s=Ht(t,o);if(s!==null){var d=Ze();At(s,t,o,d)}yl(t,o)}},Na=function(){return ye},Ma=function(t,o){var s=ye;try{return ye=t,o()}finally{ye=s}},Vi=function(t,o,s){switch(o){case"input":if(Ni(t,s),o=s.name,s.type==="radio"&&o!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var d=s[o];if(d!==t&&d.form===t.form){var p=Tr(d);if(!p)throw Error(r(90));ea(d),Ni(d,p)}}}break;case"textarea":ia(t,s);break;case"select":o=s.value,o!=null&&Nn(t,!!s.multiple,o,!1)}},ma=dl,ha=Tn;var Ih={usingClientEntryPoint:!1,Events:[Do,Hn,Tr,fa,pa,dl]},Ko={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wh={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ea(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||Th,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!si.isDisabled&&si.supportsFiber)try{or=si.inject(wh),Mt=si}catch{}}return it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ih,it.createPortal=function(t,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_l(o))throw Error(r(200));return Sh(t,o,null,s)},it.createRoot=function(t,o){if(!_l(t))throw Error(r(299));var s=!1,d="",p=Wc;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=vl(t,1,!1,null,null,s,!1,d,p),t[Ut]=o.current,Mo(t.nodeType===8?t.parentNode:t),new El(o)},it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Ea(o),t=t===null?null:t.stateNode,t},it.flushSync=function(t){return Tn(t)},it.hydrate=function(t,o,s){if(!ri(o))throw Error(r(200));return ii(null,t,o,!0,s)},it.hydrateRoot=function(t,o,s){if(!_l(t))throw Error(r(405));var d=s!=null&&s.hydratedSources||null,p=!1,v="",S=Wc;if(s!=null&&(s.unstable_strictMode===!0&&(p=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),o=$c(o,null,t,1,s??null,p,!1,v,S),t[Ut]=o.current,Mo(t),d)for(t=0;t<d.length;t++)s=d[t],p=s._getVersion,p=p(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,p]:o.mutableSourceEagerHydrationData.push(s,p);return new oi(o)},it.render=function(t,o,s){if(!ri(o))throw Error(r(200));return ii(null,t,o,!1,s)},it.unmountComponentAtNode=function(t){if(!ri(t))throw Error(r(40));return t._reactRootContainer?(Tn(function(){ii(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1},it.unstable_batchedUpdates=dl,it.unstable_renderSubtreeIntoContainer=function(t,o,s,d){if(!ri(s))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return ii(t,o,s,!1,d)},it.version="18.3.1-next-f1338f8080-20240426",it}var td;function Dh(){if(td)return Cl.exports;td=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cl.exports=kh(),Cl.exports}var nd;function Lh(){if(nd)return li;nd=1;var n=Dh();return li.createRoot=n.createRoot,li.hydrateRoot=n.hydrateRoot,li}var Uh=Lh(),Fh={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vh,Gh;function Hh(){return{geminiUrl:Vh,vertexUrl:Gh}}function Bh(n,e,r,i){var a,c;if(!(n!=null&&n.baseUrl)){const f=Hh();return e?(a=f.vertexUrl)!==null&&a!==void 0?a:r:(c=f.geminiUrl)!==null&&c!==void 0?c:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $t{}function B(n,e){const r=/\{([^}]+)\}/g;return n.replace(r,(i,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const c=e[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function u(n,e,r){for(let c=0;c<e.length-1;c++){const f=e[c];if(f.endsWith("[]")){const m=f.slice(0,-2);if(!(m in n))if(Array.isArray(r))n[m]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[m])){const g=n[m];if(Array.isArray(r))for(let h=0;h<g.length;h++){const y=g[h];u(y,e.slice(c+1),r[h])}else for(const h of g)u(h,e.slice(c+1),r)}return}else if(f.endsWith("[0]")){const m=f.slice(0,-3);m in n||(n[m]=[{}]);const g=n[m];u(g[0],e.slice(c+1),r);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const i=e[e.length-1],a=n[i];if(a!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===a)return;if(typeof a=="object"&&typeof r=="object"&&a!==null&&r!==null)Object.assign(a,r);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(n,r):n[i]=r}function l(n,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return r;const a=e[i];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(m=>l(m,e.slice(i+1),r)):r}else return r}else n=n[a]}return n}catch(i){if(i instanceof TypeError)return r;throw i}}function qh(n,e){for(const[r,i]of Object.entries(e)){const a=r.split("."),c=i.split("."),f=new Set;let m=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){m=g;break}if(m!==-1&&c.length>m)for(let g=m;g<c.length;g++){const h=c[g];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&f.add(h)}Nl(n,a,c,0,f)}}function Nl(n,e,r,i,a){if(i>=e.length||typeof n!="object"||n===null)return;const c=e[i];if(c.endsWith("[]")){const f=c.slice(0,-2),m=n;if(f in m&&Array.isArray(m[f]))for(const g of m[f])Nl(g,e,r,i+1,a)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,m=Object.keys(f).filter(h=>!h.startsWith("_")&&!a.has(h)),g={};for(const h of m)g[h]=f[h];for(const[h,y]of Object.entries(g)){const _=[];for(const E of r.slice(i))E==="*"?_.push(h):_.push(E);u(f,_,y)}for(const h of m)delete f[h]}}else{const f=n;c in f&&Nl(f[c],e,r,i+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $l(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zh(n){const e={},r=l(n,["operationName"]);r!=null&&u(e,["operationName"],r);const i=l(n,["resourceName"]);return i!=null&&u(e,["_url","resourceName"],i),e}function Jh(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response","generateVideoResponse"]);return f!=null&&u(e,["response"],Oh(f)),e}function $h(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],Wh(f)),e}function Oh(n){const e={},r=l(n,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Kh(f))),u(e,["generatedVideos"],c)}const i=l(n,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function Wh(n){const e={},r=l(n,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Yh(f))),u(e,["generatedVideos"],c)}const i=l(n,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function Kh(n){const e={},r=l(n,["video"]);return r!=null&&u(e,["video"],eg(r)),e}function Yh(n){const e={},r=l(n,["_self"]);return r!=null&&u(e,["video"],tg(r)),e}function Qh(n){const e={},r=l(n,["operationName"]);return r!=null&&u(e,["_url","operationName"],r),e}function Xh(n){const e={},r=l(n,["operationName"]);return r!=null&&u(e,["_url","operationName"],r),e}function Zh(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],bh(f)),e}function bh(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["parent"]);i!=null&&u(e,["parent"],i);const a=l(n,["documentName"]);return a!=null&&u(e,["documentName"],a),e}function Vf(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],jh(f)),e}function jh(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["parent"]);i!=null&&u(e,["parent"],i);const a=l(n,["documentName"]);return a!=null&&u(e,["documentName"],a),e}function eg(n){const e={},r=l(n,["uri"]);r!=null&&u(e,["uri"],r);const i=l(n,["encodedVideo"]);i!=null&&u(e,["videoBytes"],$l(i));const a=l(n,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function tg(n){const e={},r=l(n,["gcsUri"]);r!=null&&u(e,["uri"],r);const i=l(n,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],$l(i));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var od;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(od||(od={}));var rd;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(rd||(rd={}));var id;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(id||(id={}));var $e;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})($e||($e={}));var sd;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(sd||(sd={}));var ld;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ld||(ld={}));var ad;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(ad||(ad={}));var ud;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ud||(ud={}));var cd;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(cd||(cd={}));var dd;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(dd||(dd={}));var fd;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(fd||(fd={}));var pd;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(pd||(pd={}));var md;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(md||(md={}));var hd;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(hd||(hd={}));var gd;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(gd||(gd={}));var vd;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vd||(vd={}));var yd;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yd||(yd={}));var Ed;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Ed||(Ed={}));var _d;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_d||(_d={}));var hi;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(hi||(hi={}));var Sd;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Sd||(Sd={}));var Td;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Td||(Td={}));var Cd;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cd||(Cd={}));var Ml;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ml||(Ml={}));var Id;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Id||(Id={}));var wd;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wd||(wd={}));var Ad;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Ad||(Ad={}));var Rd;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Rd||(Rd={}));var Pd;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Pd||(Pd={}));var Nd;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Nd||(Nd={}));var Md;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Md||(Md={}));var xd;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(xd||(xd={}));var kd;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(kd||(kd={}));var Dd;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Dd||(Dd={}));var Ld;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ld||(Ld={}));var Ud;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ud||(Ud={}));var Fd;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Fd||(Fd={}));var Vd;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vd||(Vd={}));var Gd;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Gd||(Gd={}));var Hd;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Hd||(Hd={}));var Bd;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Bd||(Bd={}));var qd;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(qd||(qd={}));var zd;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(zd||(zd={}));var Jd;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Jd||(Jd={}));var $d;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})($d||($d={}));var Od;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Od||(Od={}));var Wd;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Wd||(Wd={}));var Kd;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Kd||(Kd={}));var Yd;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Yd||(Yd={}));var Qd;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qd||(Qd={}));var Xd;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Xd||(Xd={}));var Zd;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Zd||(Zd={}));var bd;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(bd||(bd={}));var jd;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jd||(jd={}));var ef;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(ef||(ef={}));var to;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(to||(to={}));class xl{constructor(e){const r={};for(const i of e.headers.entries())r[i[0]]=i[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Qo{get text(){var e,r,i,a,c,f,m,g;if(((a=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const _=[];for(const E of(g=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&g!==void 0?g:[]){for(const[C,N]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(N!==null||N!==void 0)&&_.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,h+=E.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var e,r,i,a,c,f,m,g;if(((a=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const _ of(g=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&g!==void 0?g:[]){for(const[E,C]of Object.entries(_))E!=="inlineData"&&(C!==null||C!==void 0)&&y.push(E);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,r,i,a,c,f,m,g;if(((a=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,r,i,a,c,f,m,g,h;if(((a=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,r,i,a,c,f,m,g,h;if(((a=(i=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class tf{}class nf{}class ng{}class og{}class rg{}class ig{}class of{}class rf{}class sf{}class sg{}class gi{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const i=new gi;let a;const c=e;return r?a=$h(c):a=Jh(c),Object.assign(i,a),i}}class lf{}class af{}class uf{}class cf{}class lg{}class ag{}class ug{}class Ol{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const i=new Ol,c=Zh(e);return Object.assign(i,c),i}}class cg{}class dg{}class fg{}class df{}class pg{get text(){var e,r,i;let a="",c=!1;const f=[];for(const m of(i=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&i!==void 0?i:[]){for(const[g,h]of Object.entries(m))g!=="text"&&g!=="thought"&&h!==null&&f.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;c=!0,a+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var e,r,i;let a="";const c=[];for(const f of(i=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&i!==void 0?i:[]){for(const[m,g]of Object.entries(f))m!=="inlineData"&&g!==null&&c.push(m);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class mg{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Wl{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const i=new Wl,c=Vf(e);return Object.assign(i,c),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ge(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Gf(n,e){const r=ge(n,e);return r?r.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${r}`:r.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${r}`:r:""}function Hf(n){return Array.isArray(n)?n.map(e=>vi(e)):[vi(n)]}function vi(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Bf(n){const e=vi(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qf(n){const e=vi(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ff(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function zf(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>ff(e)):[ff(n)]}function kl(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function pf(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function mf(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Qe(n){if(n==null)throw new Error("ContentUnion is required");return kl(n)?n:{role:"user",parts:zf(n)}}function Kl(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const i=Qe(r);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const r=Qe(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>Qe(r)):[Qe(e)]}function yt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(pf(n)||mf(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qe(n)]}const e=[],r=[],i=kl(n[0]);for(const a of n){const c=kl(a);if(c!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(a);else{if(pf(a)||mf(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(a)}}return i||e.push({role:"user",parts:zf(r)}),e}function hg(n,e){n.includes("null")&&(e.nullable=!0);const r=n.filter(i=>i!=="null");if(r.length===1)e.type=Object.values($e).includes(r[0].toUpperCase())?r[0].toUpperCase():$e.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of r)e.anyOf.push({type:Object.values($e).includes(i.toUpperCase())?i.toUpperCase():$e.TYPE_UNSPECIFIED})}}function oo(n){const e={},r=["items"],i=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,n=c[1]):c[1].type==="null"&&(e.nullable=!0,n=c[0])),n.type instanceof Array&&hg(n.type,e);for(const[f,m]of Object.entries(n))if(m!=null)if(f=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values($e).includes(m.toUpperCase())?m.toUpperCase():$e.TYPE_UNSPECIFIED}else if(r.includes(f))e[f]=oo(m);else if(i.includes(f)){const g=[];for(const h of m){if(h.type=="null"){e.nullable=!0;continue}g.push(oo(h))}e[f]=g}else if(a.includes(f)){const g={};for(const[h,y]of Object.entries(m))g[h]=oo(y);e[f]=g}else{if(f==="additionalProperties")continue;e[f]=m}return e}function Yl(n){return oo(n)}function Ql(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Xl(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function io(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=oo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=oo(e.response));return n}function so(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of n)e.push(r);return e}function gg(n,e,r,i=1){const a=!e.startsWith(`${r}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${r}/${e}`:e:a?`${r}/${e}`:e}function Ot(n,e){if(typeof e!="string")throw new Error("name must be a string");return gg(n,e,"cachedContents")}function Jf(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function fn(n){return $l(n)}function vg(n){return n!=null&&typeof n=="object"&&"name"in n}function yg(n){return n!=null&&typeof n=="object"&&"video"in n}function Eg(n){return n!=null&&typeof n=="object"&&"uri"in n}function $f(n){var e;let r;if(vg(n)&&(r=n.name),!(Eg(n)&&(r=n.uri,r===void 0))&&!(yg(n)&&(r=(e=n.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof n=="string"&&(r=n),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const a=r.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${r}`);r=a[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Of(n,e){let r;return n.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function Wf(n){for(const e of["models","tunedModels","publisherModels"])if(_g(n,e))return n[e];return[]}function _g(n,e){return n!==null&&typeof n=="object"&&e in n}function Sg(n,e={}){const r=n,i={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(i.responseJsonSchema=r.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Tg(n,e={}){const r=[],i=new Set;for(const a of n){const c=a.name;if(i.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);i.add(c);const f=Sg(a,e);f.functionDeclarations&&r.push(...f.functionDeclarations)}return{functionDeclarations:r}}function Kf(n,e){let r;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const i=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,a=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Cg(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Yf(n){if(typeof n!="object"||n===null)return{};const e=n,r=e.inlinedResponses;if(typeof r!="object"||r===null)return n;const a=r.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let c=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const g=f.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function lo(n,e){const r=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function Qf(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ig(n){const e={},r=l(n,["responsesFile"]);r!=null&&u(e,["fileName"],r);const i=l(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>rv(f))),u(e,["inlinedResponses"],c)}const a=l(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["inlinedEmbedContentResponses"],c)}return e}function wg(n){const e={},r=l(n,["predictionsFormat"]);r!=null&&u(e,["format"],r);const i=l(n,["gcsDestination","outputUriPrefix"]);i!=null&&u(e,["gcsUri"],i);const a=l(n,["bigqueryDestination","outputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function Ag(n){const e={},r=l(n,["format"]);r!=null&&u(e,["predictionsFormat"],r);const i=l(n,["gcsUri"]);i!=null&&u(e,["gcsDestination","outputUriPrefix"],i);const a=l(n,["bigqueryUri"]);if(a!=null&&u(e,["bigqueryDestination","outputUri"],a),l(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function pi(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["metadata","displayName"]);i!=null&&u(e,["displayName"],i);const a=l(n,["metadata","state"]);a!=null&&u(e,["state"],Qf(a));const c=l(n,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const f=l(n,["metadata","endTime"]);f!=null&&u(e,["endTime"],f);const m=l(n,["metadata","updateTime"]);m!=null&&u(e,["updateTime"],m);const g=l(n,["metadata","model"]);g!=null&&u(e,["model"],g);const h=l(n,["metadata","output"]);return h!=null&&u(e,["dest"],Ig(Yf(h))),e}function Dl(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["displayName"]);i!=null&&u(e,["displayName"],i);const a=l(n,["state"]);a!=null&&u(e,["state"],Qf(a));const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["createTime"]);f!=null&&u(e,["createTime"],f);const m=l(n,["startTime"]);m!=null&&u(e,["startTime"],m);const g=l(n,["endTime"]);g!=null&&u(e,["endTime"],g);const h=l(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const y=l(n,["model"]);y!=null&&u(e,["model"],y);const _=l(n,["inputConfig"]);_!=null&&u(e,["src"],Rg(_));const E=l(n,["outputConfig"]);E!=null&&u(e,["dest"],wg(Yf(E)));const C=l(n,["completionStats"]);return C!=null&&u(e,["completionStats"],C),e}function Rg(n){const e={},r=l(n,["instancesFormat"]);r!=null&&u(e,["format"],r);const i=l(n,["gcsSource","uris"]);i!=null&&u(e,["gcsUri"],i);const a=l(n,["bigquerySource","inputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function Pg(n,e){const r={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=l(e,["fileName"]);i!=null&&u(r,["fileName"],i);const a=l(e,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>ov(n,f))),u(r,["requests","requests"],c)}return r}function Ng(n){const e={},r=l(n,["format"]);r!=null&&u(e,["instancesFormat"],r);const i=l(n,["gcsUri"]);i!=null&&u(e,["gcsSource","uris"],i);const a=l(n,["bigqueryUri"]);if(a!=null&&u(e,["bigquerySource","inputUri"],a),l(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Mg(n){const e={},r=l(n,["data"]);if(r!=null&&u(e,["data"],r),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function xg(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],lo(n,i)),r}function kg(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],lo(n,i)),r}function Dg(n){const e={},r=l(n,["content"]);r!=null&&u(e,["content"],r);const i=l(n,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],Lg(i));const a=l(n,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(n,["finishReason"]);c!=null&&u(e,["finishReason"],c);const f=l(n,["avgLogprobs"]);f!=null&&u(e,["avgLogprobs"],f);const m=l(n,["groundingMetadata"]);m!=null&&u(e,["groundingMetadata"],m);const g=l(n,["index"]);g!=null&&u(e,["index"],g);const h=l(n,["logprobsResult"]);h!=null&&u(e,["logprobsResult"],h);const y=l(n,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>C)),u(e,["safetyRatings"],E)}const _=l(n,["urlContextMetadata"]);return _!=null&&u(e,["urlContextMetadata"],_),e}function Lg(n){const e={},r=l(n,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),u(e,["citations"],i)}return e}function Xf(n){const e={},r=l(n,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>dv(c))),u(e,["parts"],a)}const i=l(n,["role"]);return i!=null&&u(e,["role"],i),e}function Ug(n,e){const r={},i=l(n,["displayName"]);if(e!==void 0&&i!=null&&u(e,["batch","displayName"],i),l(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Fg(n,e){const r={},i=l(n,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const a=l(n,["dest"]);return e!==void 0&&a!=null&&u(e,["outputConfig"],Ag(Cg(a))),r}function hf(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["src"]);a!=null&&u(r,["batch","inputConfig"],Pg(n,Kf(n,a)));const c=l(e,["config"]);return c!=null&&Ug(c,r),r}function Vg(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["model"],ge(n,i));const a=l(e,["src"]);a!=null&&u(r,["inputConfig"],Ng(Kf(n,a)));const c=l(e,["config"]);return c!=null&&Fg(c,r),r}function Gg(n,e){const r={},i=l(n,["displayName"]);return e!==void 0&&i!=null&&u(e,["batch","displayName"],i),r}function Hg(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["src"]);a!=null&&u(r,["batch","inputConfig"],Wg(n,a));const c=l(e,["config"]);return c!=null&&Gg(c,r),r}function Bg(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],lo(n,i)),r}function qg(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],lo(n,i)),r}function zg(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["name"]);i!=null&&u(e,["name"],i);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);return c!=null&&u(e,["error"],c),e}function Jg(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["name"]);i!=null&&u(e,["name"],i);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);return c!=null&&u(e,["error"],c),e}function $g(n,e){const r={},i=l(e,["contents"]);if(i!=null){let c=Kl(n,i);Array.isArray(c)&&(c=c.map(f=>f)),u(r,["requests[]","request","content"],c)}const a=l(e,["config"]);return a!=null&&(u(r,["_self"],Og(a,r)),qh(r,{"requests[].*":"requests[].request.*"})),r}function Og(n,e){const r={},i=l(n,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const a=l(n,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=l(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Wg(n,e){const r={},i=l(e,["fileName"]);i!=null&&u(r,["file_name"],i);const a=l(e,["inlinedRequests"]);return a!=null&&u(r,["requests"],$g(n,a)),r}function Kg(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["fileUri"]);r!=null&&u(e,["fileUri"],r);const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Yg(n){const e={},r=l(n,["id"]);r!=null&&u(e,["id"],r);const i=l(n,["args"]);i!=null&&u(e,["args"],i);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qg(n){const e={},r=l(n,["mode"]);r!=null&&u(e,["mode"],r);const i=l(n,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),l(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Xg(n,e,r){const i={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],Xf(Qe(a)));const c=l(e,["temperature"]);c!=null&&u(i,["temperature"],c);const f=l(e,["topP"]);f!=null&&u(i,["topP"],f);const m=l(e,["topK"]);m!=null&&u(i,["topK"],m);const g=l(e,["candidateCount"]);g!=null&&u(i,["candidateCount"],g);const h=l(e,["maxOutputTokens"]);h!=null&&u(i,["maxOutputTokens"],h);const y=l(e,["stopSequences"]);y!=null&&u(i,["stopSequences"],y);const _=l(e,["responseLogprobs"]);_!=null&&u(i,["responseLogprobs"],_);const E=l(e,["logprobs"]);E!=null&&u(i,["logprobs"],E);const C=l(e,["presencePenalty"]);C!=null&&u(i,["presencePenalty"],C);const N=l(e,["frequencyPenalty"]);N!=null&&u(i,["frequencyPenalty"],N);const k=l(e,["seed"]);k!=null&&u(i,["seed"],k);const M=l(e,["responseMimeType"]);M!=null&&u(i,["responseMimeType"],M);const F=l(e,["responseSchema"]);F!=null&&u(i,["responseSchema"],Yl(F));const q=l(e,["responseJsonSchema"]);if(q!=null&&u(i,["responseJsonSchema"],q),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=l(e,["safetySettings"]);if(r!==void 0&&H!=null){let ce=H;Array.isArray(ce)&&(ce=ce.map(Me=>fv(Me))),u(r,["safetySettings"],ce)}const J=l(e,["tools"]);if(r!==void 0&&J!=null){let ce=so(J);Array.isArray(ce)&&(ce=ce.map(Me=>mv(io(Me)))),u(r,["tools"],ce)}const b=l(e,["toolConfig"]);if(r!==void 0&&b!=null&&u(r,["toolConfig"],pv(b)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=l(e,["cachedContent"]);r!==void 0&&j!=null&&u(r,["cachedContent"],Ot(n,j));const X=l(e,["responseModalities"]);X!=null&&u(i,["responseModalities"],X);const de=l(e,["mediaResolution"]);de!=null&&u(i,["mediaResolution"],de);const Z=l(e,["speechConfig"]);if(Z!=null&&u(i,["speechConfig"],Ql(Z)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=l(e,["thinkingConfig"]);se!=null&&u(i,["thinkingConfig"],se);const Ee=l(e,["imageConfig"]);Ee!=null&&u(i,["imageConfig"],nv(Ee));const Ue=l(e,["enableEnhancedCivicAnswers"]);return Ue!=null&&u(i,["enableEnhancedCivicAnswers"],Ue),i}function Zg(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(h=>Dg(h))),u(e,["candidates"],g)}const a=l(n,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(n,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const f=l(n,["responseId"]);f!=null&&u(e,["responseId"],f);const m=l(n,["usageMetadata"]);return m!=null&&u(e,["usageMetadata"],m),e}function bg(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],lo(n,i)),r}function jg(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],lo(n,i)),r}function ev(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(n,["enableWidget"]);return r!=null&&u(e,["enableWidget"],r),e}function tv(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(n,["timeRangeFilter"]);return r!=null&&u(e,["timeRangeFilter"],r),e}function nv(n){const e={},r=l(n,["aspectRatio"]);r!=null&&u(e,["aspectRatio"],r);const i=l(n,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),l(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ov(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["request","model"],ge(n,i));const a=l(e,["contents"]);if(a!=null){let m=yt(a);Array.isArray(m)&&(m=m.map(g=>Xf(g))),u(r,["request","contents"],m)}const c=l(e,["metadata"]);c!=null&&u(r,["metadata"],c);const f=l(e,["config"]);return f!=null&&u(r,["request","generationConfig"],Xg(n,f,l(r,["request"],{}))),r}function rv(n){const e={},r=l(n,["response"]);r!=null&&u(e,["response"],Zg(r));const i=l(n,["error"]);return i!=null&&u(e,["error"],i),e}function iv(n,e){const r={},i=l(n,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(n,["pageToken"]);if(e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),l(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function sv(n,e){const r={},i=l(n,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(n,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(n,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function lv(n){const e={},r=l(n,["config"]);return r!=null&&iv(r,e),e}function av(n){const e={},r=l(n,["config"]);return r!=null&&sv(r,e),e}function uv(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(n,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>pi(f))),u(e,["batchJobs"],c)}return e}function cv(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(n,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>Dl(f))),u(e,["batchJobs"],c)}return e}function dv(n){const e={},r=l(n,["mediaResolution"]);r!=null&&u(e,["mediaResolution"],r);const i=l(n,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],Kg(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],Yg(f));const m=l(n,["functionResponse"]);m!=null&&u(e,["functionResponse"],m);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],Mg(g));const h=l(n,["text"]);h!=null&&u(e,["text"],h);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const _=l(n,["thoughtSignature"]);_!=null&&u(e,["thoughtSignature"],_);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function fv(n){const e={},r=l(n,["category"]);if(r!=null&&u(e,["category"],r),l(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(n,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function pv(n){const e={},r=l(n,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],Qg(r));const i=l(n,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function mv(n){const e={},r=l(n,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),u(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(n,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(n,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(n,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(n,["googleMaps"]);m!=null&&u(e,["googleMaps"],ev(m));const g=l(n,["googleSearch"]);g!=null&&u(e,["googleSearch"],tv(g));const h=l(n,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jt;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Jt||(Jt={}));class Pn{constructor(e,r,i,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,i,a)}init(e,r,i){var a,c;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!i||Object.keys(i).length===0?f={config:{}}:typeof i=="object"?f=Object.assign({},i):f=i,f.config&&(f.config.pageToken=r.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hv extends $t{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Pn(Jt.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=hf(this.apiClient,e),i=r._url,a=B("{model}:batchGenerateContent",i),m=r.batch.inputConfig.requests,g=m.requests,h=[];for(const y of g){const _=Object.assign({},y);if(_.systemInstruction){const E=_.systemInstruction;delete _.systemInstruction;const C=_.request;C.systemInstruction=E,_.request=C}h.push(_)}return m.requests=h,delete r.config,delete r._url,delete r._query,{path:a,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const i=r?Object.assign({},r):{},a=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${a}`),i.dest===void 0){const c=this.getGcsUri(e),f=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?i.dest=`${c.slice(0,-6)}/dest`:i.dest=`${c}_dest_${a}`;else if(f)i.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Vg(this.apiClient,e);return m=B("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>Dl(y))}else{const h=hf(this.apiClient,e);return m=B("{model}:batchGenerateContent",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>pi(y))}}async createEmbeddingsInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Hg(this.apiClient,e);return c=B("{model}:asyncBatchEmbedContent",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>pi(g))}}async get(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=jg(this.apiClient,e);return m=B("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>Dl(y))}else{const h=bg(this.apiClient,e);return m=B("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>pi(y))}}async cancel(e){var r,i,a,c;let f="",m={};if(this.apiClient.isVertexAI()){const g=kg(this.apiClient,e);f=B("batchPredictionJobs/{name}:cancel",g._url),m=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const g=xg(this.apiClient,e);f=B("batches/{name}:cancel",g._url),m=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=av(e);return m=B("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=cv(y),E=new df;return Object.assign(E,_),E})}else{const h=lv(e);return m=B("batches",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=uv(y),E=new df;return Object.assign(E,_),E})}}async delete(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=qg(this.apiClient,e);return m=B("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>Jg(y))}else{const h=Bg(this.apiClient,e);return m=B("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>zg(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gv(n){const e={},r=l(n,["data"]);if(r!=null&&u(e,["data"],r),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function gf(n){const e={},r=l(n,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Hv(c))),u(e,["parts"],a)}const i=l(n,["role"]);return i!=null&&u(e,["role"],i),e}function vv(n,e){const r={},i=l(n,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const a=l(n,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(n,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const f=l(n,["contents"]);if(e!==void 0&&f!=null){let y=yt(f);Array.isArray(y)&&(y=y.map(_=>gf(_))),u(e,["contents"],y)}const m=l(n,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["systemInstruction"],gf(Qe(m)));const g=l(n,["tools"]);if(e!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(_=>qv(_))),u(e,["tools"],y)}const h=l(n,["toolConfig"]);if(e!==void 0&&h!=null&&u(e,["toolConfig"],Bv(h)),l(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function yv(n,e){const r={},i=l(n,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const a=l(n,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(n,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const f=l(n,["contents"]);if(e!==void 0&&f!=null){let _=yt(f);Array.isArray(_)&&(_=_.map(E=>E)),u(e,["contents"],_)}const m=l(n,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["systemInstruction"],Qe(m));const g=l(n,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(E=>zv(E))),u(e,["tools"],_)}const h=l(n,["toolConfig"]);e!==void 0&&h!=null&&u(e,["toolConfig"],h);const y=l(n,["kmsKeyName"]);return e!==void 0&&y!=null&&u(e,["encryption_spec","kmsKeyName"],y),r}function Ev(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["model"],Gf(n,i));const a=l(e,["config"]);return a!=null&&vv(a,r),r}function _v(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["model"],Gf(n,i));const a=l(e,["config"]);return a!=null&&yv(a,r),r}function Sv(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],Ot(n,i)),r}function Tv(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],Ot(n,i)),r}function Cv(n){const e={},r=l(n,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function Iv(n){const e={},r=l(n,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function wv(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["fileUri"]);r!=null&&u(e,["fileUri"],r);const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Av(n){const e={},r=l(n,["id"]);r!=null&&u(e,["id"],r);const i=l(n,["args"]);i!=null&&u(e,["args"],i);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Rv(n){const e={},r=l(n,["mode"]);r!=null&&u(e,["mode"],r);const i=l(n,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),l(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Pv(n){const e={};if(l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(n,["description"]);r!=null&&u(e,["description"],r);const i=l(n,["name"]);i!=null&&u(e,["name"],i);const a=l(n,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(n,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=l(n,["response"]);f!=null&&u(e,["response"],f);const m=l(n,["responseJsonSchema"]);return m!=null&&u(e,["responseJsonSchema"],m),e}function Nv(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],Ot(n,i)),r}function Mv(n,e){const r={},i=l(e,["name"]);return i!=null&&u(r,["_url","name"],Ot(n,i)),r}function xv(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(n,["enableWidget"]);return r!=null&&u(e,["enableWidget"],r),e}function kv(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(n,["timeRangeFilter"]);return r!=null&&u(e,["timeRangeFilter"],r),e}function Dv(n,e){const r={},i=l(n,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function Lv(n,e){const r={},i=l(n,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function Uv(n){const e={},r=l(n,["config"]);return r!=null&&Dv(r,e),e}function Fv(n){const e={},r=l(n,["config"]);return r!=null&&Lv(r,e),e}function Vv(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["cachedContents"],c)}return e}function Gv(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["cachedContents"],c)}return e}function Hv(n){const e={},r=l(n,["mediaResolution"]);r!=null&&u(e,["mediaResolution"],r);const i=l(n,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],wv(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],Av(f));const m=l(n,["functionResponse"]);m!=null&&u(e,["functionResponse"],m);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],gv(g));const h=l(n,["text"]);h!=null&&u(e,["text"],h);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const _=l(n,["thoughtSignature"]);_!=null&&u(e,["thoughtSignature"],_);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function Bv(n){const e={},r=l(n,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],Rv(r));const i=l(n,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function qv(n){const e={},r=l(n,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),u(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(n,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(n,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(n,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(n,["googleMaps"]);m!=null&&u(e,["googleMaps"],xv(m));const g=l(n,["googleSearch"]);g!=null&&u(e,["googleSearch"],kv(g));const h=l(n,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}function zv(n){const e={},r=l(n,["functionDeclarations"]);if(r!=null){let _=r;Array.isArray(_)&&(_=_.map(E=>Pv(E))),u(e,["functionDeclarations"],_)}const i=l(n,["retrieval"]);i!=null&&u(e,["retrieval"],i);const a=l(n,["googleSearchRetrieval"]);a!=null&&u(e,["googleSearchRetrieval"],a);const c=l(n,["computerUse"]);if(c!=null&&u(e,["computerUse"],c),l(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(n,["codeExecution"]);f!=null&&u(e,["codeExecution"],f);const m=l(n,["enterpriseWebSearch"]);m!=null&&u(e,["enterpriseWebSearch"],m);const g=l(n,["googleMaps"]);g!=null&&u(e,["googleMaps"],g);const h=l(n,["googleSearch"]);h!=null&&u(e,["googleSearch"],h);const y=l(n,["urlContext"]);return y!=null&&u(e,["urlContext"],y),e}function Jv(n,e){const r={},i=l(n,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const a=l(n,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),r}function $v(n,e){const r={},i=l(n,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const a=l(n,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),r}function Ov(n,e){const r={},i=l(e,["name"]);i!=null&&u(r,["_url","name"],Ot(n,i));const a=l(e,["config"]);return a!=null&&Jv(a,r),r}function Wv(n,e){const r={},i=l(e,["name"]);i!=null&&u(r,["_url","name"],Ot(n,i));const a=l(e,["config"]);return a!=null&&$v(a,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kv extends $t{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Pn(Jt.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(r),r)}async create(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=_v(this.apiClient,e);return m=B("cachedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const h=Ev(this.apiClient,e);return m=B("cachedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async get(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Mv(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const h=Nv(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async delete(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Tv(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=Iv(y),E=new uf;return Object.assign(E,_),E})}else{const h=Sv(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=Cv(y),E=new uf;return Object.assign(E,_),E})}}async update(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Wv(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const h=Ov(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async listInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Fv(e);return m=B("cachedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=Gv(y),E=new cf;return Object.assign(E,_),E})}else{const h=Uv(e);return m=B("cachedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=Vv(y),E=new cf;return Object.assign(E,_),E})}}}function yi(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(r[i[a]]=n[i[a]]);return r}function vf(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],i=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(n){return this instanceof re?(this.v=n,this):new re(n)}function Rt(n,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(n,e||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(C){return function(N){return Promise.resolve(N).then(C,_)}}function m(C,N){i[C]&&(a[C]=function(k){return new Promise(function(M,F){c.push([C,k,M,F])>1||g(C,k)})},N&&(a[C]=N(a[C])))}function g(C,N){try{h(i[C](N))}catch(k){E(c[0][3],k)}}function h(C){C.value instanceof re?Promise.resolve(C.value.v).then(y,_):E(c[0][2],C)}function y(C){g("next",C)}function _(C){g("throw",C)}function E(C,N){C(N),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Pt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],r;return e?e.call(n):(n=typeof vf=="function"?vf(n):n[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(c){r[c]=n[c]&&function(f){return new Promise(function(m,g){f=n[c](f),a(m,g,f.done,f.value)})}}function a(c,f,m,g){Promise.resolve(g).then(function(h){c({value:h,done:m})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yv(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const r=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:Zf(r)}function Zf(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Qv(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function yf(n){if(n===void 0||n.length===0)return[];const e=[],r=n.length;let i=0;for(;i<r;)if(n[i].role==="user")e.push(n[i]),i++;else{const a=[];let c=!0;for(;i<r&&n[i].role==="model";)a.push(n[i]),c&&!Zf(n[i])&&(c=!1),i++;c?e.push(...a):e.pop()}return e}class Xv{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new Zv(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Zv{constructor(e,r,i,a={},c=[]){this.apiClient=e,this.modelsModule=r,this.model=i,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),Qv(c)}async sendMessage(e){var r;await this.sendPromise;const i=Qe(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var c,f,m;const g=await a,h=(f=(c=g.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,y=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let E=[];y!=null&&(E=(m=y.slice(_))!==null&&m!==void 0?m:[]);const C=h?[h]:[];this.recordHistory(i,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var r;await this.sendPromise;const i=Qe(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,i)}getHistory(e=!1){const r=e?yf(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return Rt(this,arguments,function*(){var a,c,f,m,g,h;const y=[];try{for(var _=!0,E=Pt(e),C;C=yield re(E.next()),a=C.done,!a;_=!0){m=C.value,_=!1;const N=m;if(Yv(N)){const k=(h=(g=N.candidates)===null||g===void 0?void 0:g[0])===null||h===void 0?void 0:h.content;k!==void 0&&y.push(k)}yield yield re(N)}}catch(N){c={error:N}}finally{try{!_&&!a&&(f=E.return)&&(yield re(f.call(E)))}finally{if(c)throw c.error}}this.recordHistory(r,y)})}recordHistory(e,r,i){let a=[];r.length>0&&r.every(c=>c.role!==void 0)?a=r:a.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...yf(i)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Si extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Si.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bv(n){const e={},r=l(n,["file"]);return r!=null&&u(e,["file"],r),e}function jv(n){const e={},r=l(n,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function ey(n){const e={},r=l(n,["name"]);return r!=null&&u(e,["_url","file"],$f(r)),e}function ty(n){const e={},r=l(n,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function ny(n){const e={},r=l(n,["name"]);return r!=null&&u(e,["_url","file"],$f(r)),e}function oy(n,e){const r={},i=l(n,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function ry(n){const e={},r=l(n,["config"]);return r!=null&&oy(r,e),e}function iy(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(n,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["files"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sy extends $t{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Pn(Jt.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ry(e);return c=B("files",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=iy(g),y=new cg;return Object.assign(y,h),y})}}async createInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=bv(e);return c=B("upload/v1beta/files",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const h=jv(g),y=new dg;return Object.assign(y,h),y})}}async get(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ny(e);return c=B("files/{file}",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ey(e);return c=B("files/{file}",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=ty(g),y=new fg;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mi(n){const e={},r=l(n,["data"]);if(r!=null&&u(e,["data"],r),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function ly(n){const e={},r=l(n,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Cy(c))),u(e,["parts"],a)}const i=l(n,["role"]);return i!=null&&u(e,["role"],i),e}function ay(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["fileUri"]);r!=null&&u(e,["fileUri"],r);const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function uy(n){const e={},r=l(n,["id"]);r!=null&&u(e,["id"],r);const i=l(n,["args"]);i!=null&&u(e,["args"],i);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cy(n){const e={};if(l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(n,["description"]);r!=null&&u(e,["description"],r);const i=l(n,["name"]);i!=null&&u(e,["name"],i);const a=l(n,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(n,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=l(n,["response"]);f!=null&&u(e,["response"],f);const m=l(n,["responseJsonSchema"]);return m!=null&&u(e,["responseJsonSchema"],m),e}function dy(n){const e={},r=l(n,["modelSelectionConfig"]);r!=null&&u(e,["modelConfig"],r);const i=l(n,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const a=l(n,["audioTimestamp"]);a!=null&&u(e,["audioTimestamp"],a);const c=l(n,["candidateCount"]);c!=null&&u(e,["candidateCount"],c);const f=l(n,["enableAffectiveDialog"]);f!=null&&u(e,["enableAffectiveDialog"],f);const m=l(n,["frequencyPenalty"]);m!=null&&u(e,["frequencyPenalty"],m);const g=l(n,["logprobs"]);g!=null&&u(e,["logprobs"],g);const h=l(n,["maxOutputTokens"]);h!=null&&u(e,["maxOutputTokens"],h);const y=l(n,["mediaResolution"]);y!=null&&u(e,["mediaResolution"],y);const _=l(n,["presencePenalty"]);_!=null&&u(e,["presencePenalty"],_);const E=l(n,["responseLogprobs"]);E!=null&&u(e,["responseLogprobs"],E);const C=l(n,["responseMimeType"]);C!=null&&u(e,["responseMimeType"],C);const N=l(n,["responseModalities"]);N!=null&&u(e,["responseModalities"],N);const k=l(n,["responseSchema"]);k!=null&&u(e,["responseSchema"],k);const M=l(n,["routingConfig"]);M!=null&&u(e,["routingConfig"],M);const F=l(n,["seed"]);F!=null&&u(e,["seed"],F);const q=l(n,["speechConfig"]);q!=null&&u(e,["speechConfig"],bf(q));const H=l(n,["stopSequences"]);H!=null&&u(e,["stopSequences"],H);const J=l(n,["temperature"]);J!=null&&u(e,["temperature"],J);const b=l(n,["thinkingConfig"]);b!=null&&u(e,["thinkingConfig"],b);const j=l(n,["topK"]);j!=null&&u(e,["topK"],j);const X=l(n,["topP"]);if(X!=null&&u(e,["topP"],X),l(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function fy(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(n,["enableWidget"]);return r!=null&&u(e,["enableWidget"],r),e}function py(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(n,["timeRangeFilter"]);return r!=null&&u(e,["timeRangeFilter"],r),e}function my(n,e){const r={},i=l(n,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const a=l(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(n,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=l(n,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const m=l(n,["topK"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topK"],m);const g=l(n,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const h=l(n,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const y=l(n,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const _=l(n,["speechConfig"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","speechConfig"],Xl(_));const E=l(n,["thinkingConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","thinkingConfig"],E);const C=l(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],C);const N=l(n,["systemInstruction"]);e!==void 0&&N!=null&&u(e,["setup","systemInstruction"],ly(Qe(N)));const k=l(n,["tools"]);if(e!==void 0&&k!=null){let j=so(k);Array.isArray(j)&&(j=j.map(X=>wy(io(X)))),u(e,["setup","tools"],j)}const M=l(n,["sessionResumption"]);e!==void 0&&M!=null&&u(e,["setup","sessionResumption"],Iy(M));const F=l(n,["inputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","inputAudioTranscription"],F);const q=l(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","outputAudioTranscription"],q);const H=l(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&u(e,["setup","realtimeInputConfig"],H);const J=l(n,["contextWindowCompression"]);e!==void 0&&J!=null&&u(e,["setup","contextWindowCompression"],J);const b=l(n,["proactivity"]);if(e!==void 0&&b!=null&&u(e,["setup","proactivity"],b),l(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function hy(n,e){const r={},i=l(n,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],dy(i));const a=l(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(n,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=l(n,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const m=l(n,["topK"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topK"],m);const g=l(n,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const h=l(n,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const y=l(n,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const _=l(n,["speechConfig"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","speechConfig"],bf(Xl(_)));const E=l(n,["thinkingConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","thinkingConfig"],E);const C=l(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],C);const N=l(n,["systemInstruction"]);e!==void 0&&N!=null&&u(e,["setup","systemInstruction"],Qe(N));const k=l(n,["tools"]);if(e!==void 0&&k!=null){let X=so(k);Array.isArray(X)&&(X=X.map(de=>Ay(io(de)))),u(e,["setup","tools"],X)}const M=l(n,["sessionResumption"]);e!==void 0&&M!=null&&u(e,["setup","sessionResumption"],M);const F=l(n,["inputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","inputAudioTranscription"],F);const q=l(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","outputAudioTranscription"],q);const H=l(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&u(e,["setup","realtimeInputConfig"],H);const J=l(n,["contextWindowCompression"]);e!==void 0&&J!=null&&u(e,["setup","contextWindowCompression"],J);const b=l(n,["proactivity"]);e!==void 0&&b!=null&&u(e,["setup","proactivity"],b);const j=l(n,["explicitVadSignal"]);return e!==void 0&&j!=null&&u(e,["setup","explicitVadSignal"],j),r}function gy(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["setup","model"],ge(n,i));const a=l(e,["config"]);return a!=null&&u(r,["config"],my(a,r)),r}function vy(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["setup","model"],ge(n,i));const a=l(e,["config"]);return a!=null&&u(r,["config"],hy(a,r)),r}function yy(n){const e={},r=l(n,["musicGenerationConfig"]);return r!=null&&u(e,["musicGenerationConfig"],r),e}function Ey(n){const e={},r=l(n,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),u(e,["weightedPrompts"],i)}return e}function _y(n){const e={},r=l(n,["media"]);if(r!=null){let h=Hf(r);Array.isArray(h)&&(h=h.map(y=>mi(y))),u(e,["mediaChunks"],h)}const i=l(n,["audio"]);i!=null&&u(e,["audio"],mi(qf(i)));const a=l(n,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(n,["video"]);c!=null&&u(e,["video"],mi(Bf(c)));const f=l(n,["text"]);f!=null&&u(e,["text"],f);const m=l(n,["activityStart"]);m!=null&&u(e,["activityStart"],m);const g=l(n,["activityEnd"]);return g!=null&&u(e,["activityEnd"],g),e}function Sy(n){const e={},r=l(n,["media"]);if(r!=null){let h=Hf(r);Array.isArray(h)&&(h=h.map(y=>y)),u(e,["mediaChunks"],h)}const i=l(n,["audio"]);i!=null&&u(e,["audio"],qf(i));const a=l(n,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(n,["video"]);c!=null&&u(e,["video"],Bf(c));const f=l(n,["text"]);f!=null&&u(e,["text"],f);const m=l(n,["activityStart"]);m!=null&&u(e,["activityStart"],m);const g=l(n,["activityEnd"]);return g!=null&&u(e,["activityEnd"],g),e}function Ty(n){const e={},r=l(n,["setupComplete"]);r!=null&&u(e,["setupComplete"],r);const i=l(n,["serverContent"]);i!=null&&u(e,["serverContent"],i);const a=l(n,["toolCall"]);a!=null&&u(e,["toolCall"],a);const c=l(n,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],c);const f=l(n,["usageMetadata"]);f!=null&&u(e,["usageMetadata"],Ry(f));const m=l(n,["goAway"]);m!=null&&u(e,["goAway"],m);const g=l(n,["sessionResumptionUpdate"]);g!=null&&u(e,["sessionResumptionUpdate"],g);const h=l(n,["voiceActivityDetectionSignal"]);return h!=null&&u(e,["voiceActivityDetectionSignal"],h),e}function Cy(n){const e={},r=l(n,["mediaResolution"]);r!=null&&u(e,["mediaResolution"],r);const i=l(n,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],ay(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],uy(f));const m=l(n,["functionResponse"]);m!=null&&u(e,["functionResponse"],m);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],mi(g));const h=l(n,["text"]);h!=null&&u(e,["text"],h);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const _=l(n,["thoughtSignature"]);_!=null&&u(e,["thoughtSignature"],_);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function Iy(n){const e={},r=l(n,["handle"]);if(r!=null&&u(e,["handle"],r),l(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bf(n){const e={},r=l(n,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],r);const i=l(n,["languageCode"]);if(i!=null&&u(e,["languageCode"],i),l(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function wy(n){const e={},r=l(n,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),u(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(n,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(n,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(n,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(n,["googleMaps"]);m!=null&&u(e,["googleMaps"],fy(m));const g=l(n,["googleSearch"]);g!=null&&u(e,["googleSearch"],py(g));const h=l(n,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}function Ay(n){const e={},r=l(n,["functionDeclarations"]);if(r!=null){let _=r;Array.isArray(_)&&(_=_.map(E=>cy(E))),u(e,["functionDeclarations"],_)}const i=l(n,["retrieval"]);i!=null&&u(e,["retrieval"],i);const a=l(n,["googleSearchRetrieval"]);a!=null&&u(e,["googleSearchRetrieval"],a);const c=l(n,["computerUse"]);if(c!=null&&u(e,["computerUse"],c),l(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(n,["codeExecution"]);f!=null&&u(e,["codeExecution"],f);const m=l(n,["enterpriseWebSearch"]);m!=null&&u(e,["enterpriseWebSearch"],m);const g=l(n,["googleMaps"]);g!=null&&u(e,["googleMaps"],g);const h=l(n,["googleSearch"]);h!=null&&u(e,["googleSearch"],h);const y=l(n,["urlContext"]);return y!=null&&u(e,["urlContext"],y),e}function Ry(n){const e={},r=l(n,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const i=l(n,["cachedContentTokenCount"]);i!=null&&u(e,["cachedContentTokenCount"],i);const a=l(n,["candidatesTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=l(n,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const f=l(n,["thoughtsTokenCount"]);f!=null&&u(e,["thoughtsTokenCount"],f);const m=l(n,["totalTokenCount"]);m!=null&&u(e,["totalTokenCount"],m);const g=l(n,["promptTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(N=>N)),u(e,["promptTokensDetails"],C)}const h=l(n,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(N=>N)),u(e,["cacheTokensDetails"],C)}const y=l(n,["candidatesTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(N=>N)),u(e,["responseTokensDetails"],C)}const _=l(n,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(N=>N)),u(e,["toolUsePromptTokensDetails"],C)}const E=l(n,["trafficType"]);return E!=null&&u(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Py(n){const e={},r=l(n,["data"]);if(r!=null&&u(e,["data"],r),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Ny(n){const e={},r=l(n,["content"]);r!=null&&u(e,["content"],r);const i=l(n,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],My(i));const a=l(n,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(n,["finishReason"]);c!=null&&u(e,["finishReason"],c);const f=l(n,["avgLogprobs"]);f!=null&&u(e,["avgLogprobs"],f);const m=l(n,["groundingMetadata"]);m!=null&&u(e,["groundingMetadata"],m);const g=l(n,["index"]);g!=null&&u(e,["index"],g);const h=l(n,["logprobsResult"]);h!=null&&u(e,["logprobsResult"],h);const y=l(n,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>C)),u(e,["safetyRatings"],E)}const _=l(n,["urlContextMetadata"]);return _!=null&&u(e,["urlContextMetadata"],_),e}function My(n){const e={},r=l(n,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),u(e,["citations"],i)}return e}function xy(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["contents"]);if(a!=null){let c=yt(a);Array.isArray(c)&&(c=c.map(f=>f)),u(r,["contents"],c)}return r}function ky(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),u(e,["tokensInfo"],a)}return e}function Dy(n){const e={},r=l(n,["values"]);r!=null&&u(e,["values"],r);const i=l(n,["statistics"]);return i!=null&&u(e,["statistics"],Ly(i)),e}function Ly(n){const e={},r=l(n,["truncated"]);r!=null&&u(e,["truncated"],r);const i=l(n,["token_count"]);return i!=null&&u(e,["tokenCount"],i),e}function Ti(n){const e={},r=l(n,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>J0(c))),u(e,["parts"],a)}const i=l(n,["role"]);return i!=null&&u(e,["role"],i),e}function Uy(n){const e={},r=l(n,["controlType"]);r!=null&&u(e,["controlType"],r);const i=l(n,["enableControlImageComputation"]);return i!=null&&u(e,["computeControl"],i),e}function Fy(n){const e={};if(l(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Vy(n,e){const r={},i=l(n,["systemInstruction"]);e!==void 0&&i!=null&&u(e,["systemInstruction"],Qe(i));const a=l(n,["tools"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>op(m))),u(e,["tools"],f)}const c=l(n,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],P0(c)),r}function Gy(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["contents"]);if(a!=null){let f=yt(a);Array.isArray(f)&&(f=f.map(m=>Ti(m))),u(r,["contents"],f)}const c=l(e,["config"]);return c!=null&&Fy(c),r}function Hy(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["contents"]);if(a!=null){let f=yt(a);Array.isArray(f)&&(f=f.map(m=>m)),u(r,["contents"],f)}const c=l(e,["config"]);return c!=null&&Vy(c,r),r}function By(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["totalTokens"]);i!=null&&u(e,["totalTokens"],i);const a=l(n,["cachedContentTokenCount"]);return a!=null&&u(e,["cachedContentTokenCount"],a),e}function qy(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["totalTokens"]);return i!=null&&u(e,["totalTokens"],i),e}function zy(n,e){const r={},i=l(e,["model"]);return i!=null&&u(r,["_url","name"],ge(n,i)),r}function Jy(n,e){const r={},i=l(e,["model"]);return i!=null&&u(r,["_url","name"],ge(n,i)),r}function $y(n){const e={},r=l(n,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function Oy(n){const e={},r=l(n,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function Wy(n,e){const r={},i=l(n,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const a=l(n,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(n,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const f=l(n,["aspectRatio"]);e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f);const m=l(n,["guidanceScale"]);e!==void 0&&m!=null&&u(e,["parameters","guidanceScale"],m);const g=l(n,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const h=l(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const y=l(n,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const _=l(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&u(e,["parameters","includeSafetyAttributes"],_);const E=l(n,["includeRaiReason"]);e!==void 0&&E!=null&&u(e,["parameters","includeRaiReason"],E);const C=l(n,["language"]);e!==void 0&&C!=null&&u(e,["parameters","language"],C);const N=l(n,["outputMimeType"]);e!==void 0&&N!=null&&u(e,["parameters","outputOptions","mimeType"],N);const k=l(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","compressionQuality"],k);const M=l(n,["addWatermark"]);e!==void 0&&M!=null&&u(e,["parameters","addWatermark"],M);const F=l(n,["labels"]);e!==void 0&&F!=null&&u(e,["labels"],F);const q=l(n,["editMode"]);e!==void 0&&q!=null&&u(e,["parameters","editMode"],q);const H=l(n,["baseSteps"]);return e!==void 0&&H!=null&&u(e,["parameters","editConfig","baseSteps"],H),r}function Ky(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["referenceImages"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>Q0(g))),u(r,["instances[0]","referenceImages"],m)}const f=l(e,["config"]);return f!=null&&Wy(f,r),r}function Yy(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Ci(c))),u(e,["generatedImages"],a)}return e}function Qy(n,e){const r={},i=l(n,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const a=l(n,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=l(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Xy(n,e){const r={},i=l(n,["taskType"]);e!==void 0&&i!=null&&u(e,["instances[]","task_type"],i);const a=l(n,["title"]);e!==void 0&&a!=null&&u(e,["instances[]","title"],a);const c=l(n,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const f=l(n,["mimeType"]);e!==void 0&&f!=null&&u(e,["instances[]","mimeType"],f);const m=l(n,["autoTruncate"]);return e!==void 0&&m!=null&&u(e,["parameters","autoTruncate"],m),r}function Zy(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["contents"]);if(a!=null){let m=Kl(n,a);Array.isArray(m)&&(m=m.map(g=>g)),u(r,["requests[]","content"],m)}const c=l(e,["config"]);c!=null&&Qy(c,r);const f=l(e,["model"]);return f!==void 0&&u(r,["requests[]","model"],ge(n,f)),r}function by(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["contents"]);if(a!=null){let f=Kl(n,a);Array.isArray(f)&&(f=f.map(m=>m)),u(r,["instances[]","content"],f)}const c=l(e,["config"]);return c!=null&&Xy(c,r),r}function jy(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["embeddings"],c)}const a=l(n,["metadata"]);return a!=null&&u(e,["metadata"],a),e}function e0(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["predictions[]","embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Dy(f))),u(e,["embeddings"],c)}const a=l(n,["metadata"]);return a!=null&&u(e,["metadata"],a),e}function t0(n){const e={},r=l(n,["endpoint"]);r!=null&&u(e,["name"],r);const i=l(n,["deployedModelId"]);return i!=null&&u(e,["deployedModelId"],i),e}function n0(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["fileUri"]);r!=null&&u(e,["fileUri"],r);const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function o0(n){const e={},r=l(n,["id"]);r!=null&&u(e,["id"],r);const i=l(n,["args"]);i!=null&&u(e,["args"],i);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function r0(n){const e={},r=l(n,["mode"]);r!=null&&u(e,["mode"],r);const i=l(n,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),l(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function i0(n){const e={};if(l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(n,["description"]);r!=null&&u(e,["description"],r);const i=l(n,["name"]);i!=null&&u(e,["name"],i);const a=l(n,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(n,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=l(n,["response"]);f!=null&&u(e,["response"],f);const m=l(n,["responseJsonSchema"]);return m!=null&&u(e,["responseJsonSchema"],m),e}function s0(n,e,r){const i={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],Ti(Qe(a)));const c=l(e,["temperature"]);c!=null&&u(i,["temperature"],c);const f=l(e,["topP"]);f!=null&&u(i,["topP"],f);const m=l(e,["topK"]);m!=null&&u(i,["topK"],m);const g=l(e,["candidateCount"]);g!=null&&u(i,["candidateCount"],g);const h=l(e,["maxOutputTokens"]);h!=null&&u(i,["maxOutputTokens"],h);const y=l(e,["stopSequences"]);y!=null&&u(i,["stopSequences"],y);const _=l(e,["responseLogprobs"]);_!=null&&u(i,["responseLogprobs"],_);const E=l(e,["logprobs"]);E!=null&&u(i,["logprobs"],E);const C=l(e,["presencePenalty"]);C!=null&&u(i,["presencePenalty"],C);const N=l(e,["frequencyPenalty"]);N!=null&&u(i,["frequencyPenalty"],N);const k=l(e,["seed"]);k!=null&&u(i,["seed"],k);const M=l(e,["responseMimeType"]);M!=null&&u(i,["responseMimeType"],M);const F=l(e,["responseSchema"]);F!=null&&u(i,["responseSchema"],Yl(F));const q=l(e,["responseJsonSchema"]);if(q!=null&&u(i,["responseJsonSchema"],q),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=l(e,["safetySettings"]);if(r!==void 0&&H!=null){let ce=H;Array.isArray(ce)&&(ce=ce.map(Me=>X0(Me))),u(r,["safetySettings"],ce)}const J=l(e,["tools"]);if(r!==void 0&&J!=null){let ce=so(J);Array.isArray(ce)&&(ce=ce.map(Me=>oE(io(Me)))),u(r,["tools"],ce)}const b=l(e,["toolConfig"]);if(r!==void 0&&b!=null&&u(r,["toolConfig"],nE(b)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=l(e,["cachedContent"]);r!==void 0&&j!=null&&u(r,["cachedContent"],Ot(n,j));const X=l(e,["responseModalities"]);X!=null&&u(i,["responseModalities"],X);const de=l(e,["mediaResolution"]);de!=null&&u(i,["mediaResolution"],de);const Z=l(e,["speechConfig"]);if(Z!=null&&u(i,["speechConfig"],Ql(Z)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=l(e,["thinkingConfig"]);se!=null&&u(i,["thinkingConfig"],se);const Ee=l(e,["imageConfig"]);Ee!=null&&u(i,["imageConfig"],D0(Ee));const Ue=l(e,["enableEnhancedCivicAnswers"]);return Ue!=null&&u(i,["enableEnhancedCivicAnswers"],Ue),i}function l0(n,e,r){const i={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],Qe(a));const c=l(e,["temperature"]);c!=null&&u(i,["temperature"],c);const f=l(e,["topP"]);f!=null&&u(i,["topP"],f);const m=l(e,["topK"]);m!=null&&u(i,["topK"],m);const g=l(e,["candidateCount"]);g!=null&&u(i,["candidateCount"],g);const h=l(e,["maxOutputTokens"]);h!=null&&u(i,["maxOutputTokens"],h);const y=l(e,["stopSequences"]);y!=null&&u(i,["stopSequences"],y);const _=l(e,["responseLogprobs"]);_!=null&&u(i,["responseLogprobs"],_);const E=l(e,["logprobs"]);E!=null&&u(i,["logprobs"],E);const C=l(e,["presencePenalty"]);C!=null&&u(i,["presencePenalty"],C);const N=l(e,["frequencyPenalty"]);N!=null&&u(i,["frequencyPenalty"],N);const k=l(e,["seed"]);k!=null&&u(i,["seed"],k);const M=l(e,["responseMimeType"]);M!=null&&u(i,["responseMimeType"],M);const F=l(e,["responseSchema"]);F!=null&&u(i,["responseSchema"],Yl(F));const q=l(e,["responseJsonSchema"]);q!=null&&u(i,["responseJsonSchema"],q);const H=l(e,["routingConfig"]);H!=null&&u(i,["routingConfig"],H);const J=l(e,["modelSelectionConfig"]);J!=null&&u(i,["modelConfig"],J);const b=l(e,["safetySettings"]);if(r!==void 0&&b!=null){let we=b;Array.isArray(we)&&(we=we.map(_e=>_e)),u(r,["safetySettings"],we)}const j=l(e,["tools"]);if(r!==void 0&&j!=null){let we=so(j);Array.isArray(we)&&(we=we.map(_e=>op(io(_e)))),u(r,["tools"],we)}const X=l(e,["toolConfig"]);r!==void 0&&X!=null&&u(r,["toolConfig"],X);const de=l(e,["labels"]);r!==void 0&&de!=null&&u(r,["labels"],de);const Z=l(e,["cachedContent"]);r!==void 0&&Z!=null&&u(r,["cachedContent"],Ot(n,Z));const se=l(e,["responseModalities"]);se!=null&&u(i,["responseModalities"],se);const Ee=l(e,["mediaResolution"]);Ee!=null&&u(i,["mediaResolution"],Ee);const Ue=l(e,["speechConfig"]);Ue!=null&&u(i,["speechConfig"],np(Ql(Ue)));const ce=l(e,["audioTimestamp"]);ce!=null&&u(i,["audioTimestamp"],ce);const Me=l(e,["thinkingConfig"]);Me!=null&&u(i,["thinkingConfig"],Me);const st=l(e,["imageConfig"]);if(st!=null&&u(i,["imageConfig"],L0(st)),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Ef(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["contents"]);if(a!=null){let f=yt(a);Array.isArray(f)&&(f=f.map(m=>Ti(m))),u(r,["contents"],f)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],s0(n,c,r)),r}function _f(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["contents"]);if(a!=null){let f=yt(a);Array.isArray(f)&&(f=f.map(m=>m)),u(r,["contents"],f)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],l0(n,c,r)),r}function Sf(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(h=>Ny(h))),u(e,["candidates"],g)}const a=l(n,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(n,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const f=l(n,["responseId"]);f!=null&&u(e,["responseId"],f);const m=l(n,["usageMetadata"]);return m!=null&&u(e,["usageMetadata"],m),e}function Tf(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(y=>y)),u(e,["candidates"],h)}const a=l(n,["createTime"]);a!=null&&u(e,["createTime"],a);const c=l(n,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const f=l(n,["promptFeedback"]);f!=null&&u(e,["promptFeedback"],f);const m=l(n,["responseId"]);m!=null&&u(e,["responseId"],m);const g=l(n,["usageMetadata"]);return g!=null&&u(e,["usageMetadata"],g),e}function a0(n,e){const r={};if(l(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(n,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const a=l(n,["aspectRatio"]);e!==void 0&&a!=null&&u(e,["parameters","aspectRatio"],a);const c=l(n,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),l(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=l(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const m=l(n,["personGeneration"]);e!==void 0&&m!=null&&u(e,["parameters","personGeneration"],m);const g=l(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&u(e,["parameters","includeSafetyAttributes"],g);const h=l(n,["includeRaiReason"]);e!==void 0&&h!=null&&u(e,["parameters","includeRaiReason"],h);const y=l(n,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);const _=l(n,["outputMimeType"]);e!==void 0&&_!=null&&u(e,["parameters","outputOptions","mimeType"],_);const E=l(n,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E),l(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=l(n,["imageSize"]);if(e!==void 0&&C!=null&&u(e,["parameters","sampleImageSize"],C),l(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function u0(n,e){const r={},i=l(n,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const a=l(n,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(n,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const f=l(n,["aspectRatio"]);e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f);const m=l(n,["guidanceScale"]);e!==void 0&&m!=null&&u(e,["parameters","guidanceScale"],m);const g=l(n,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const h=l(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const y=l(n,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const _=l(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&u(e,["parameters","includeSafetyAttributes"],_);const E=l(n,["includeRaiReason"]);e!==void 0&&E!=null&&u(e,["parameters","includeRaiReason"],E);const C=l(n,["language"]);e!==void 0&&C!=null&&u(e,["parameters","language"],C);const N=l(n,["outputMimeType"]);e!==void 0&&N!=null&&u(e,["parameters","outputOptions","mimeType"],N);const k=l(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","compressionQuality"],k);const M=l(n,["addWatermark"]);e!==void 0&&M!=null&&u(e,["parameters","addWatermark"],M);const F=l(n,["labels"]);e!==void 0&&F!=null&&u(e,["labels"],F);const q=l(n,["imageSize"]);e!==void 0&&q!=null&&u(e,["parameters","sampleImageSize"],q);const H=l(n,["enhancePrompt"]);return e!==void 0&&H!=null&&u(e,["parameters","enhancePrompt"],H),r}function c0(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&a0(c,r),r}function d0(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&u0(c,r),r}function f0(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>I0(f))),u(e,["generatedImages"],c)}const a=l(n,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],ep(a)),e}function p0(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Ci(f))),u(e,["generatedImages"],c)}const a=l(n,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],tp(a)),e}function m0(n,e){const r={},i=l(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i),l(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=l(n,["durationSeconds"]);if(e!==void 0&&a!=null&&u(e,["parameters","durationSeconds"],a),l(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(n,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const f=l(n,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);const m=l(n,["personGeneration"]);if(e!==void 0&&m!=null&&u(e,["parameters","personGeneration"],m),l(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=l(n,["negativePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","negativePrompt"],g);const h=l(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&u(e,["parameters","enhancePrompt"],h),l(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=l(n,["lastFrame"]);e!==void 0&&y!=null&&u(e,["instances[0]","lastFrame"],Ii(y));const _=l(n,["referenceImages"]);if(e!==void 0&&_!=null){let E=_;Array.isArray(E)&&(E=E.map(C=>gE(C))),u(e,["instances[0]","referenceImages"],E)}if(l(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function h0(n,e){const r={},i=l(n,["numberOfVideos"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const a=l(n,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=l(n,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const f=l(n,["durationSeconds"]);e!==void 0&&f!=null&&u(e,["parameters","durationSeconds"],f);const m=l(n,["seed"]);e!==void 0&&m!=null&&u(e,["parameters","seed"],m);const g=l(n,["aspectRatio"]);e!==void 0&&g!=null&&u(e,["parameters","aspectRatio"],g);const h=l(n,["resolution"]);e!==void 0&&h!=null&&u(e,["parameters","resolution"],h);const y=l(n,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const _=l(n,["pubsubTopic"]);e!==void 0&&_!=null&&u(e,["parameters","pubsubTopic"],_);const E=l(n,["negativePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","negativePrompt"],E);const C=l(n,["enhancePrompt"]);e!==void 0&&C!=null&&u(e,["parameters","enhancePrompt"],C);const N=l(n,["generateAudio"]);e!==void 0&&N!=null&&u(e,["parameters","generateAudio"],N);const k=l(n,["lastFrame"]);e!==void 0&&k!=null&&u(e,["instances[0]","lastFrame"],Nt(k));const M=l(n,["referenceImages"]);if(e!==void 0&&M!=null){let H=M;Array.isArray(H)&&(H=H.map(J=>vE(J))),u(e,["instances[0]","referenceImages"],H)}const F=l(n,["mask"]);e!==void 0&&F!=null&&u(e,["instances[0]","mask"],hE(F));const q=l(n,["compressionQuality"]);return e!==void 0&&q!=null&&u(e,["parameters","compressionQuality"],q),r}function g0(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response","generateVideoResponse"]);return f!=null&&u(e,["response"],_0(f)),e}function v0(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],S0(f)),e}function y0(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["image"]);c!=null&&u(r,["instances[0]","image"],Ii(c));const f=l(e,["video"]);f!=null&&u(r,["instances[0]","video"],rp(f));const m=l(e,["source"]);m!=null&&T0(m,r);const g=l(e,["config"]);return g!=null&&m0(g,r),r}function E0(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["image"]);c!=null&&u(r,["instances[0]","image"],Nt(c));const f=l(e,["video"]);f!=null&&u(r,["instances[0]","video"],ip(f));const m=l(e,["source"]);m!=null&&C0(m,r);const g=l(e,["config"]);return g!=null&&h0(g,r),r}function _0(n){const e={},r=l(n,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>A0(f))),u(e,["generatedVideos"],c)}const i=l(n,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function S0(n){const e={},r=l(n,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>R0(f))),u(e,["generatedVideos"],c)}const i=l(n,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function T0(n,e){const r={},i=l(n,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const a=l(n,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Ii(a));const c=l(n,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],rp(c)),r}function C0(n,e){const r={},i=l(n,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const a=l(n,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Nt(a));const c=l(n,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],ip(c)),r}function I0(n){const e={},r=l(n,["_self"]);r!=null&&u(e,["image"],U0(r));const i=l(n,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const a=l(n,["_self"]);return a!=null&&u(e,["safetyAttributes"],ep(a)),e}function Ci(n){const e={},r=l(n,["_self"]);r!=null&&u(e,["image"],jf(r));const i=l(n,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const a=l(n,["_self"]);a!=null&&u(e,["safetyAttributes"],tp(a));const c=l(n,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function w0(n){const e={},r=l(n,["_self"]);r!=null&&u(e,["mask"],jf(r));const i=l(n,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),u(e,["labels"],a)}return e}function A0(n){const e={},r=l(n,["video"]);return r!=null&&u(e,["video"],pE(r)),e}function R0(n){const e={},r=l(n,["_self"]);return r!=null&&u(e,["video"],mE(r)),e}function P0(n){const e={},r=l(n,["modelSelectionConfig"]);r!=null&&u(e,["modelConfig"],r);const i=l(n,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const a=l(n,["audioTimestamp"]);a!=null&&u(e,["audioTimestamp"],a);const c=l(n,["candidateCount"]);c!=null&&u(e,["candidateCount"],c);const f=l(n,["enableAffectiveDialog"]);f!=null&&u(e,["enableAffectiveDialog"],f);const m=l(n,["frequencyPenalty"]);m!=null&&u(e,["frequencyPenalty"],m);const g=l(n,["logprobs"]);g!=null&&u(e,["logprobs"],g);const h=l(n,["maxOutputTokens"]);h!=null&&u(e,["maxOutputTokens"],h);const y=l(n,["mediaResolution"]);y!=null&&u(e,["mediaResolution"],y);const _=l(n,["presencePenalty"]);_!=null&&u(e,["presencePenalty"],_);const E=l(n,["responseLogprobs"]);E!=null&&u(e,["responseLogprobs"],E);const C=l(n,["responseMimeType"]);C!=null&&u(e,["responseMimeType"],C);const N=l(n,["responseModalities"]);N!=null&&u(e,["responseModalities"],N);const k=l(n,["responseSchema"]);k!=null&&u(e,["responseSchema"],k);const M=l(n,["routingConfig"]);M!=null&&u(e,["routingConfig"],M);const F=l(n,["seed"]);F!=null&&u(e,["seed"],F);const q=l(n,["speechConfig"]);q!=null&&u(e,["speechConfig"],np(q));const H=l(n,["stopSequences"]);H!=null&&u(e,["stopSequences"],H);const J=l(n,["temperature"]);J!=null&&u(e,["temperature"],J);const b=l(n,["thinkingConfig"]);b!=null&&u(e,["thinkingConfig"],b);const j=l(n,["topK"]);j!=null&&u(e,["topK"],j);const X=l(n,["topP"]);if(X!=null&&u(e,["topP"],X),l(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function N0(n,e){const r={},i=l(e,["model"]);return i!=null&&u(r,["_url","name"],ge(n,i)),r}function M0(n,e){const r={},i=l(e,["model"]);return i!=null&&u(r,["_url","name"],ge(n,i)),r}function x0(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(n,["enableWidget"]);return r!=null&&u(e,["enableWidget"],r),e}function k0(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(n,["timeRangeFilter"]);return r!=null&&u(e,["timeRangeFilter"],r),e}function D0(n){const e={},r=l(n,["aspectRatio"]);r!=null&&u(e,["aspectRatio"],r);const i=l(n,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),l(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function L0(n){const e={},r=l(n,["aspectRatio"]);r!=null&&u(e,["aspectRatio"],r);const i=l(n,["imageSize"]);i!=null&&u(e,["imageSize"],i);const a=l(n,["outputMimeType"]);a!=null&&u(e,["imageOutputOptions","mimeType"],a);const c=l(n,["outputCompressionQuality"]);return c!=null&&u(e,["imageOutputOptions","compressionQuality"],c),e}function U0(n){const e={},r=l(n,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],fn(r));const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function jf(n){const e={},r=l(n,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const i=l(n,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],fn(i));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Ii(n){const e={};if(l(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(n,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],fn(r));const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Nt(n){const e={},r=l(n,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const i=l(n,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],fn(i));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function F0(n,e,r){const i={},a=l(e,["pageSize"]);r!==void 0&&a!=null&&u(r,["_query","pageSize"],a);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const f=l(e,["filter"]);r!==void 0&&f!=null&&u(r,["_query","filter"],f);const m=l(e,["queryBase"]);return r!==void 0&&m!=null&&u(r,["_url","models_url"],Of(n,m)),i}function V0(n,e,r){const i={},a=l(e,["pageSize"]);r!==void 0&&a!=null&&u(r,["_query","pageSize"],a);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const f=l(e,["filter"]);r!==void 0&&f!=null&&u(r,["_query","filter"],f);const m=l(e,["queryBase"]);return r!==void 0&&m!=null&&u(r,["_url","models_url"],Of(n,m)),i}function G0(n,e){const r={},i=l(e,["config"]);return i!=null&&F0(n,i,r),r}function H0(n,e){const r={},i=l(e,["config"]);return i!=null&&V0(n,i,r),r}function B0(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(n,["_self"]);if(a!=null){let c=Wf(a);Array.isArray(c)&&(c=c.map(f=>Ll(f))),u(e,["models"],c)}return e}function q0(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(n,["_self"]);if(a!=null){let c=Wf(a);Array.isArray(c)&&(c=c.map(f=>Ul(f))),u(e,["models"],c)}return e}function z0(n){const e={},r=l(n,["maskMode"]);r!=null&&u(e,["maskMode"],r);const i=l(n,["segmentationClasses"]);i!=null&&u(e,["maskClasses"],i);const a=l(n,["maskDilation"]);return a!=null&&u(e,["dilation"],a),e}function Ll(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["displayName"]);i!=null&&u(e,["displayName"],i);const a=l(n,["description"]);a!=null&&u(e,["description"],a);const c=l(n,["version"]);c!=null&&u(e,["version"],c);const f=l(n,["_self"]);f!=null&&u(e,["tunedModelInfo"],rE(f));const m=l(n,["inputTokenLimit"]);m!=null&&u(e,["inputTokenLimit"],m);const g=l(n,["outputTokenLimit"]);g!=null&&u(e,["outputTokenLimit"],g);const h=l(n,["supportedGenerationMethods"]);h!=null&&u(e,["supportedActions"],h);const y=l(n,["temperature"]);y!=null&&u(e,["temperature"],y);const _=l(n,["maxTemperature"]);_!=null&&u(e,["maxTemperature"],_);const E=l(n,["topP"]);E!=null&&u(e,["topP"],E);const C=l(n,["topK"]);C!=null&&u(e,["topK"],C);const N=l(n,["thinking"]);return N!=null&&u(e,["thinking"],N),e}function Ul(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["displayName"]);i!=null&&u(e,["displayName"],i);const a=l(n,["description"]);a!=null&&u(e,["description"],a);const c=l(n,["versionId"]);c!=null&&u(e,["version"],c);const f=l(n,["deployedModels"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(E=>t0(E))),u(e,["endpoints"],_)}const m=l(n,["labels"]);m!=null&&u(e,["labels"],m);const g=l(n,["_self"]);g!=null&&u(e,["tunedModelInfo"],iE(g));const h=l(n,["defaultCheckpointId"]);h!=null&&u(e,["defaultCheckpointId"],h);const y=l(n,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(E=>E)),u(e,["checkpoints"],_)}return e}function J0(n){const e={},r=l(n,["mediaResolution"]);r!=null&&u(e,["mediaResolution"],r);const i=l(n,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],n0(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],o0(f));const m=l(n,["functionResponse"]);m!=null&&u(e,["functionResponse"],m);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],Py(g));const h=l(n,["text"]);h!=null&&u(e,["text"],h);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const _=l(n,["thoughtSignature"]);_!=null&&u(e,["thoughtSignature"],_);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function $0(n){const e={},r=l(n,["productImage"]);return r!=null&&u(e,["image"],Nt(r)),e}function O0(n,e){const r={},i=l(n,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const a=l(n,["baseSteps"]);e!==void 0&&a!=null&&u(e,["parameters","baseSteps"],a);const c=l(n,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const f=l(n,["seed"]);e!==void 0&&f!=null&&u(e,["parameters","seed"],f);const m=l(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const g=l(n,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const h=l(n,["addWatermark"]);e!==void 0&&h!=null&&u(e,["parameters","addWatermark"],h);const y=l(n,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);const _=l(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&u(e,["parameters","outputOptions","compressionQuality"],_);const E=l(n,["enhancePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E);const C=l(n,["labels"]);return e!==void 0&&C!=null&&u(e,["labels"],C),r}function W0(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["source"]);a!=null&&Y0(a,r);const c=l(e,["config"]);return c!=null&&O0(c,r),r}function K0(n){const e={},r=l(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Ci(a))),u(e,["generatedImages"],i)}return e}function Y0(n,e){const r={},i=l(n,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const a=l(n,["personImage"]);e!==void 0&&a!=null&&u(e,["instances[0]","personImage","image"],Nt(a));const c=l(n,["productImages"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>$0(m))),u(e,["instances[0]","productImages"],f)}return r}function Q0(n){const e={},r=l(n,["referenceImage"]);r!=null&&u(e,["referenceImage"],Nt(r));const i=l(n,["referenceId"]);i!=null&&u(e,["referenceId"],i);const a=l(n,["referenceType"]);a!=null&&u(e,["referenceType"],a);const c=l(n,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],z0(c));const f=l(n,["controlImageConfig"]);f!=null&&u(e,["controlImageConfig"],Uy(f));const m=l(n,["styleImageConfig"]);m!=null&&u(e,["styleImageConfig"],m);const g=l(n,["subjectImageConfig"]);return g!=null&&u(e,["subjectImageConfig"],g),e}function ep(n){const e={},r=l(n,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const i=l(n,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const a=l(n,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function tp(n){const e={},r=l(n,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const i=l(n,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const a=l(n,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function X0(n){const e={},r=l(n,["category"]);if(r!=null&&u(e,["category"],r),l(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(n,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function Z0(n){const e={},r=l(n,["image"]);return r!=null&&u(e,["image"],Nt(r)),e}function b0(n,e){const r={},i=l(n,["mode"]);e!==void 0&&i!=null&&u(e,["parameters","mode"],i);const a=l(n,["maxPredictions"]);e!==void 0&&a!=null&&u(e,["parameters","maxPredictions"],a);const c=l(n,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const f=l(n,["maskDilation"]);e!==void 0&&f!=null&&u(e,["parameters","maskDilation"],f);const m=l(n,["binaryColorThreshold"]);e!==void 0&&m!=null&&u(e,["parameters","binaryColorThreshold"],m);const g=l(n,["labels"]);return e!==void 0&&g!=null&&u(e,["labels"],g),r}function j0(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["source"]);a!=null&&tE(a,r);const c=l(e,["config"]);return c!=null&&b0(c,r),r}function eE(n){const e={},r=l(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>w0(a))),u(e,["generatedMasks"],i)}return e}function tE(n,e){const r={},i=l(n,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const a=l(n,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Nt(a));const c=l(n,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],Z0(c)),r}function np(n){const e={},r=l(n,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],r);const i=l(n,["languageCode"]);if(i!=null&&u(e,["languageCode"],i),l(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function nE(n){const e={},r=l(n,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],r0(r));const i=l(n,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function oE(n){const e={},r=l(n,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),u(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(n,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(n,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(n,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(n,["googleMaps"]);m!=null&&u(e,["googleMaps"],x0(m));const g=l(n,["googleSearch"]);g!=null&&u(e,["googleSearch"],k0(g));const h=l(n,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}function op(n){const e={},r=l(n,["functionDeclarations"]);if(r!=null){let _=r;Array.isArray(_)&&(_=_.map(E=>i0(E))),u(e,["functionDeclarations"],_)}const i=l(n,["retrieval"]);i!=null&&u(e,["retrieval"],i);const a=l(n,["googleSearchRetrieval"]);a!=null&&u(e,["googleSearchRetrieval"],a);const c=l(n,["computerUse"]);if(c!=null&&u(e,["computerUse"],c),l(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(n,["codeExecution"]);f!=null&&u(e,["codeExecution"],f);const m=l(n,["enterpriseWebSearch"]);m!=null&&u(e,["enterpriseWebSearch"],m);const g=l(n,["googleMaps"]);g!=null&&u(e,["googleMaps"],g);const h=l(n,["googleSearch"]);h!=null&&u(e,["googleSearch"],h);const y=l(n,["urlContext"]);return y!=null&&u(e,["urlContext"],y),e}function rE(n){const e={},r=l(n,["baseModel"]);r!=null&&u(e,["baseModel"],r);const i=l(n,["createTime"]);i!=null&&u(e,["createTime"],i);const a=l(n,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function iE(n){const e={},r=l(n,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&u(e,["baseModel"],r);const i=l(n,["createTime"]);i!=null&&u(e,["createTime"],i);const a=l(n,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function sE(n,e){const r={},i=l(n,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const a=l(n,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function lE(n,e){const r={},i=l(n,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const a=l(n,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function aE(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","name"],ge(n,i));const a=l(e,["config"]);return a!=null&&sE(a,r),r}function uE(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["config"]);return a!=null&&lE(a,r),r}function cE(n,e){const r={},i=l(n,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const a=l(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&u(e,["parameters","safetySetting"],a);const c=l(n,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const f=l(n,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);const m=l(n,["outputMimeType"]);e!==void 0&&m!=null&&u(e,["parameters","outputOptions","mimeType"],m);const g=l(n,["outputCompressionQuality"]);e!==void 0&&g!=null&&u(e,["parameters","outputOptions","compressionQuality"],g);const h=l(n,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const y=l(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const _=l(n,["labels"]);e!==void 0&&_!=null&&u(e,["labels"],_);const E=l(n,["numberOfImages"]);e!==void 0&&E!=null&&u(e,["parameters","sampleCount"],E);const C=l(n,["mode"]);return e!==void 0&&C!=null&&u(e,["parameters","mode"],C),r}function dE(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["_url","model"],ge(n,i));const a=l(e,["image"]);a!=null&&u(r,["instances[0]","image"],Nt(a));const c=l(e,["upscaleFactor"]);c!=null&&u(r,["parameters","upscaleConfig","upscaleFactor"],c);const f=l(e,["config"]);return f!=null&&cE(f,r),r}function fE(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Ci(c))),u(e,["generatedImages"],a)}return e}function pE(n){const e={},r=l(n,["uri"]);r!=null&&u(e,["uri"],r);const i=l(n,["encodedVideo"]);i!=null&&u(e,["videoBytes"],fn(i));const a=l(n,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function mE(n){const e={},r=l(n,["gcsUri"]);r!=null&&u(e,["uri"],r);const i=l(n,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],fn(i));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function hE(n){const e={},r=l(n,["image"]);r!=null&&u(e,["_self"],Nt(r));const i=l(n,["maskMode"]);return i!=null&&u(e,["maskMode"],i),e}function gE(n){const e={},r=l(n,["image"]);r!=null&&u(e,["image"],Ii(r));const i=l(n,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function vE(n){const e={},r=l(n,["image"]);r!=null&&u(e,["image"],Nt(r));const i=l(n,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function rp(n){const e={},r=l(n,["uri"]);r!=null&&u(e,["uri"],r);const i=l(n,["videoBytes"]);i!=null&&u(e,["encodedVideo"],fn(i));const a=l(n,["mimeType"]);return a!=null&&u(e,["encoding"],a),e}function ip(n){const e={},r=l(n,["uri"]);r!=null&&u(e,["gcsUri"],r);const i=l(n,["videoBytes"]);i!=null&&u(e,["bytesBase64Encoded"],fn(i));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(n,e){const r={},i=l(n,["displayName"]);return e!==void 0&&i!=null&&u(e,["displayName"],i),r}function EE(n){const e={},r=l(n,["config"]);return r!=null&&yE(r,e),e}function _E(n,e){const r={},i=l(n,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),r}function SE(n){const e={},r=l(n,["name"]);r!=null&&u(e,["_url","name"],r);const i=l(n,["config"]);return i!=null&&_E(i,e),e}function TE(n){const e={},r=l(n,["name"]);return r!=null&&u(e,["_url","name"],r),e}function CE(n,e){const r={},i=l(n,["customMetadata"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["customMetadata"],c)}const a=l(n,["chunkingConfig"]);return e!==void 0&&a!=null&&u(e,["chunkingConfig"],a),r}function IE(n){const e={},r=l(n,["name"]);r!=null&&u(e,["name"],r);const i=l(n,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],AE(f)),e}function wE(n){const e={},r=l(n,["fileSearchStoreName"]);r!=null&&u(e,["_url","file_search_store_name"],r);const i=l(n,["fileName"]);i!=null&&u(e,["fileName"],i);const a=l(n,["config"]);return a!=null&&CE(a,e),e}function AE(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["parent"]);i!=null&&u(e,["parent"],i);const a=l(n,["documentName"]);return a!=null&&u(e,["documentName"],a),e}function RE(n,e){const r={},i=l(n,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function PE(n){const e={},r=l(n,["config"]);return r!=null&&RE(r,e),e}function NE(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(n,["fileSearchStores"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["fileSearchStores"],c)}return e}function sp(n,e){const r={},i=l(n,["mimeType"]);e!==void 0&&i!=null&&u(e,["mimeType"],i);const a=l(n,["displayName"]);e!==void 0&&a!=null&&u(e,["displayName"],a);const c=l(n,["customMetadata"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>g)),u(e,["customMetadata"],m)}const f=l(n,["chunkingConfig"]);return e!==void 0&&f!=null&&u(e,["chunkingConfig"],f),r}function ME(n){const e={},r=l(n,["fileSearchStoreName"]);r!=null&&u(e,["_url","file_search_store_name"],r);const i=l(n,["config"]);return i!=null&&sp(i,e),e}function xE(n){const e={},r=l(n,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kE="Content-Type",DE="X-Server-Timeout",LE="User-Agent",Fl="x-goog-api-client",UE="1.33.0",FE=`google-genai-sdk/${UE}`,VE="v1beta1",GE="v1beta";class HE{constructor(e){var r,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:VE,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:GE,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,i){const a=[this.getRequestUrlInternal(r)];return i&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,r,i);if(e.queryParams)for(const[f,m]of Object.entries(e.queryParams))a.searchParams.append(f,String(m));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,r,a.toString(),e.abortSignal),this.unaryApiCall(a,c,e.httpMethod)}patchHttpOptions(e,r){const i=JSON.parse(JSON.stringify(e));for(const[a,c]of Object.entries(r))typeof c=="object"?i[a]=Object.assign(Object.assign({},i[a]),c):c!==void 0&&(i[a]=c);return i}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,r,i);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,r,a.toString(),e.abortSignal),this.streamApiCall(a,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,i,a){if(r&&r.timeout||a){const c=new AbortController,f=c.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const m=setTimeout(()=>c.abort(),r.timeout);m&&typeof m.unref=="function"&&m.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=f}return r&&r.extraBody!==null&&BE(e,r.extraBody),e.headers=await this.getHeadersInternal(r,i),e}async unaryApiCall(e,r,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:i})).then(async a=>(await Cf(a),new xl(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,r,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:i})).then(async a=>(await Cf(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Rt(this,arguments,function*(){var i;const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";const m="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:y}=yield re(a.read());if(h){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=c.decode(y,{stream:!0});try{const N=JSON.parse(_);if("error"in N){const k=JSON.parse(JSON.stringify(N.error)),M=k.status,F=k.code,q=`got status: ${M}. ${JSON.stringify(N)}`;if(F>=400&&F<600)throw new Si({message:q,status:F})}}catch(N){if(N.name==="ApiError")throw N}f+=_;let E=-1,C=0;for(;;){E=-1,C=0;for(const M of g){const F=f.indexOf(M);F!==-1&&(E===-1||F<E)&&(E=F,C=M.length)}if(E===-1)break;const N=f.substring(0,E);f=f.substring(E+C);const k=N.trim();if(k.startsWith(m)){const M=k.substring(m.length).trim();try{const F=new Response(M,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield re(new xl(F))}catch(F){throw new Error(`exception parsing stream chunk ${M}. ${F}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},r=FE+" "+this.clientOptions.userAgentExtra;return e[LE]=r,e[Fl]=r,e[kE]="application/json",e}async getHeadersInternal(e,r){const i=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))i.append(a,c);e.timeout&&e.timeout>0&&i.append(DE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,r),i}getFileName(e){var r;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(r=i.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),i}async uploadFile(e,r){var i;const a={};r!=null&&(a.mimeType=r.mimeType,a.name=r.name,a.displayName=r.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,f=await c.stat(e);a.sizeBytes=String(f.size);const m=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:f.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=m;const g={file:a},h=this.getFileName(e),y=B("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(y,a.sizeBytes,a.mimeType,h,g,r==null?void 0:r.httpOptions);return c.upload(e,_,this)}async uploadFileToFileSearchStore(e,r,i){var a;const c=this.clientOptions.uploader,f=await c.stat(r),m=String(f.size),g=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(r),_={};i!=null&&sp(i,_);const E=await this.fetchUploadUrl(h,m,g,y,_,i==null?void 0:i.httpOptions);return c.uploadToFileSearchStore(r,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,i,a,c,f){var m;let g={};f?g=f:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${i}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:g});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(m=h==null?void 0:h.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Cf(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const r=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(i);throw r>=400&&r<600?new Si({message:a,status:r}):new Error(a)}}function BE(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))r=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(c,f){const m=Object.assign({},c);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const h=f[g],y=m[g];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?m[g]=i(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),m[g]=h)}return m}const a=i(r,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qE="mcp_used/unknown";let zE=!1;function lp(n){for(const e of n)if(JE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zE}function ap(n){var e;const r=(e=n[Fl])!==null&&e!==void 0?e:"";n[Fl]=(r+` ${qE}`).trimStart()}function JE(n){return n!==null&&typeof n=="object"&&n instanceof Zl}function $E(n){return Rt(this,arguments,function*(r,i=100){let a,c=0;for(;c<i;){const f=yield re(r.listTools({cursor:a}));for(const m of f.tools)yield yield re(m),c++;if(!f.nextCursor)break;a=f.nextCursor}})}class Zl{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Zl(e,r)}async initialize(){var e,r,i,a;if(this.mcpTools.length>0)return;const c={},f=[];for(const y of this.mcpClients)try{for(var m=!0,g=(r=void 0,Pt($E(y))),h;h=await g.next(),e=h.done,!e;m=!0){a=h.value,m=!1;const _=a;f.push(_);const E=_.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=y}}catch(_){r={error:_}}finally{try{!m&&!e&&(i=g.return)&&await i.call(g)}finally{if(r)throw r.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Tg(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[i.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await a.callTool({name:i.name,arguments:i.args},void 0,c);r.push({functionResponse:{name:i.name,response:f.isError?{error:f}:f}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OE(n,e,r){const i=new mg;let a;r.data instanceof Blob?a=JSON.parse(await r.data.text()):a=JSON.parse(r.data),Object.assign(i,a),e(i)}class WE{constructor(e,r,i){this.apiClient=e,this.auth=r,this.webSocketFactory=i}async connect(e){var r,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=QE(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${m}`;let h=()=>{};const y=new Promise(H=>{h=H}),_=e.callbacks,E=function(){h({})},C=this.apiClient,N={onopen:E,onmessage:H=>{OE(C,_.onmessage,H)},onerror:(r=_==null?void 0:_.onerror)!==null&&r!==void 0?r:function(H){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(H){}},k=this.webSocketFactory.create(g,YE(f),N);k.connect(),await y;const q={setup:{model:ge(this.apiClient,e.model)}};return k.send(JSON.stringify(q)),new KE(k,this.apiClient)}}class KE{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=Ey(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=yy(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(to.PLAY)}pause(){this.sendPlaybackControl(to.PAUSE)}stop(){this.sendPlaybackControl(to.STOP)}resetContext(){this.sendPlaybackControl(to.RESET_CONTEXT)}close(){this.conn.close()}}function YE(n){const e={};return n.forEach((r,i)=>{e[i]=r}),e}function QE(n){const e=new Headers;for(const[r,i]of Object.entries(n))e.append(r,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZE(n,e,r){const i=new pg;let a;r.data instanceof Blob?a=await r.data.text():r.data instanceof ArrayBuffer?a=new TextDecoder().decode(r.data):a=r.data;const c=JSON.parse(a);if(n.isVertexAI()){const f=Ty(c);Object.assign(i,f)}else Object.assign(i,c);e(i)}class bE{constructor(e,r,i){this.apiClient=e,this.auth=r,this.webSocketFactory=i,this.music=new WE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,i,a,c,f,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&lp(e.config.tools)&&ap(_);const E=n_(_);if(this.apiClient.isVertexAI())y=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,y);else{const Z=this.apiClient.getApiKey();let se="BidiGenerateContent",Ee="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",Ee="access_token"),y=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${se}?${Ee}=${Z}`}let C=()=>{};const N=new Promise(Z=>{C=Z}),k=e.callbacks,M=function(){var Z;(Z=k==null?void 0:k.onopen)===null||Z===void 0||Z.call(k),C({})},F=this.apiClient,q={onopen:M,onmessage:Z=>{ZE(F,k.onmessage,Z)},onerror:(r=k==null?void 0:k.onerror)!==null&&r!==void 0?r:function(Z){},onclose:(i=k==null?void 0:k.onclose)!==null&&i!==void 0?i:function(Z){}},H=this.webSocketFactory.create(y,t_(E),q);H.connect(),await N;let J=ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Z=this.apiClient.getProject(),se=this.apiClient.getLocation();J=`projects/${Z}/locations/${se}/`+J}let b={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hi.AUDIO]}:e.config.responseModalities=[hi.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(m=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[],X=[];for(const Z of j)if(this.isCallableTool(Z)){const se=Z;X.push(await se.tool())}else X.push(Z);X.length>0&&(e.config.tools=X);const de={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?b=vy(this.apiClient,de):b=gy(this.apiClient,de),delete b.config,H.send(JSON.stringify(b)),new e_(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const jE={turnComplete:!0};class e_{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let i=[];try{i=yt(r.turns),e.isVertexAI()||(i=i.map(a=>Ti(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:i,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let i=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?i=r.functionResponses:i=[r.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const c of i){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(XE)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},jE),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Sy(e)}:r={realtimeInput:_y(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function t_(n){const e={};return n.forEach((r,i)=>{e[i]=r}),e}function n_(n){const e=new Headers;for(const[r,i]of Object.entries(n))e.append(r,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const If=10;function wf(n){var e,r,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const f of(r=n==null?void 0:n.tools)!==null&&r!==void 0?r:[])if(ro(f)){a=!0;break}if(!a)return!0;const c=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function ro(n){return"callTool"in n&&typeof n.callTool=="function"}function o_(n){var e,r,i;return(i=(r=(e=n.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(a=>ro(a)))!==null&&i!==void 0?i:!1}function Af(n){var e;const r=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,a)=>{if(ro(i))return;const c=i;c.functionDeclarations&&c.functionDeclarations.length>0&&r.push(a)}),r}function Rf(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r_ extends $t{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var i,a,c,f,m;const g=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!o_(r)||wf(r.config))return await this.generateContentInternal(g);const h=Af(r);if(h.length>0){const k=h.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let y,_;const E=yt(g.contents),C=(c=(a=(i=g.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:If;let N=0;for(;N<C&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const k=y.candidates[0].content,M=[];for(const F of(m=(f=r.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[])if(ro(F)){const H=await F.callTool(y.functionCalls);M.push(...H)}N++,_={role:"user",parts:M},g.contents=yt(g.contents),g.contents.push(k),g.contents.push(_),Rf(g.config)&&(E.push(k),E.push(_))}return Rf(g.config)&&(y.automaticFunctionCallingHistory=E),y},this.generateContentStream=async r=>{var i,a,c,f,m;if(this.maybeMoveToResponseJsonSchem(r),wf(r.config)){const _=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(_)}const g=Af(r);if(g.length>0){const _=g.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(a=(i=r==null?void 0:r.config)===null||i===void 0?void 0:i.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,y=(m=(f=r==null?void 0:r.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(i=>{var a;let c;const f=[];if(i!=null&&i.generatedImages)for(const g of i.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=g==null?void 0:g.safetyAttributes:f.push(g);let m;return c?m={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:i.sdkHttpResponse}:m={generatedImages:f,sdkHttpResponse:i.sdkHttpResponse},m}),this.list=async r=>{var i;const f={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((i=f.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Pn(Jt.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(f),f)},this.editImage=async r=>{const i={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(i.referenceImages=r.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async r=>{let i={numberOfImages:1,mode:"upscale"};r.config&&(i=Object.assign(Object.assign({},i),r.config));const a={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:i};return await this.upscaleImageInternal(a)},this.generateVideos=async r=>{var i,a,c,f,m,g;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=r.video)===null||i===void 0)&&i.uri&&(!((a=r.video)===null||a===void 0)&&a.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((f=(c=r.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((g=(m=r.source)===null||m===void 0?void 0:m.video)===null||g===void 0)&&g.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,i,a;const c=(r=e.config)===null||r===void 0?void 0:r.tools;if(!c)return e;const f=await Promise.all(c.map(async g=>ro(g)?await g.tool():g)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(m.config.tools=f,e.config&&e.config.tools&&lp(e.config.tools)){const g=(a=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),ap(h),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return m}async initAfcToolsMap(e){var r,i,a;const c=new Map;for(const f of(i=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&i!==void 0?i:[])if(ro(f)){const m=f,g=await m.tool();for(const h of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,m)}}return c}async processAfcStream(e){var r,i,a;const c=(a=(i=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:If;let f=!1,m=0;const g=await this.initAfcToolsMap(e);return(function(h,y,_){return Rt(this,arguments,function*(){for(var E,C,N,k,M,F;m<c;){f&&(m++,f=!1);const b=yield re(h.processParamsMaybeAddMcpUsage(_)),j=yield re(h.generateContentStreamInternal(b)),X=[],de=[];try{for(var q=!0,H=(C=void 0,Pt(j)),J;J=yield re(H.next()),E=J.done,!E;q=!0){k=J.value,q=!1;const Z=k;if(yield yield re(Z),Z.candidates&&(!((M=Z.candidates[0])===null||M===void 0)&&M.content)){de.push(Z.candidates[0].content);for(const se of(F=Z.candidates[0].content.parts)!==null&&F!==void 0?F:[])if(m<c&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(se.functionCall.name)){const Ee=yield re(y.get(se.functionCall.name).callTool([se.functionCall]));X.push(...Ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(Z){C={error:Z}}finally{try{!q&&!E&&(N=H.return)&&(yield re(N.call(H)))}finally{if(C)throw C.error}}if(X.length>0){f=!0;const Z=new Qo;Z.candidates=[{content:{role:"user",parts:X}}],yield yield re(Z);const se=[];se.push(...de),se.push({role:"user",parts:X});const Ee=yt(_.contents).concat(se);_.contents=Ee}else break}})})(this,g,e)}async generateContentInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=_f(this.apiClient,e);return m=B("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=Tf(y),E=new Qo;return Object.assign(E,_),E})}else{const h=Ef(this.apiClient,e);return m=B("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=Sf(y),E=new Qo;return Object.assign(E,_),E})}}async generateContentStreamInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=_f(this.apiClient,e);return m=B("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),f.then(function(_){return Rt(this,arguments,function*(){var E,C,N,k;try{for(var M=!0,F=Pt(_),q;q=yield re(F.next()),E=q.done,!E;M=!0){k=q.value,M=!1;const H=k,J=Tf(yield re(H.json()));J.sdkHttpResponse={headers:H.headers};const b=new Qo;Object.assign(b,J),yield yield re(b)}}catch(H){C={error:H}}finally{try{!M&&!E&&(N=F.return)&&(yield re(N.call(F)))}finally{if(C)throw C.error}}})})}else{const h=Ef(this.apiClient,e);return m=B("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(_){return Rt(this,arguments,function*(){var E,C,N,k;try{for(var M=!0,F=Pt(_),q;q=yield re(F.next()),E=q.done,!E;M=!0){k=q.value,M=!1;const H=k,J=Sf(yield re(H.json()));J.sdkHttpResponse={headers:H.headers};const b=new Qo;Object.assign(b,J),yield yield re(b)}}catch(H){C={error:H}}finally{try{!M&&!E&&(N=F.return)&&(yield re(N.call(F)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=by(this.apiClient,e);return m=B("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=e0(y),E=new tf;return Object.assign(E,_),E})}else{const h=Zy(this.apiClient,e);return m=B("{model}:batchEmbedContents",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=jy(y),E=new tf;return Object.assign(E,_),E})}}async generateImagesInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=d0(this.apiClient,e);return m=B("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=p0(y),E=new nf;return Object.assign(E,_),E})}else{const h=c0(this.apiClient,e);return m=B("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=f0(y),E=new nf;return Object.assign(E,_),E})}}async editImageInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const m=Ky(this.apiClient,e);return c=B("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=Yy(g),y=new ng;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const m=dE(this.apiClient,e);return c=B("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=fE(g),y=new og;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const m=W0(this.apiClient,e);return c=B("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const h=K0(g),y=new rg;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const m=j0(this.apiClient,e);return c=B("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const h=eE(g),y=new ig;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=M0(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>Ul(y))}else{const h=N0(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>Ll(y))}}async listInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=H0(this.apiClient,e);return m=B("{models_url}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=q0(y),E=new of;return Object.assign(E,_),E})}else{const h=G0(this.apiClient,e);return m=B("{models_url}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=B0(y),E=new of;return Object.assign(E,_),E})}}async update(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=uE(this.apiClient,e);return m=B("{model}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>Ul(y))}else{const h=aE(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>Ll(y))}}async delete(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Jy(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=Oy(y),E=new rf;return Object.assign(E,_),E})}else{const h=zy(this.apiClient,e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=$y(y),E=new rf;return Object.assign(E,_),E})}}async countTokens(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Hy(this.apiClient,e);return m=B("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=qy(y),E=new sf;return Object.assign(E,_),E})}else{const h=Gy(this.apiClient,e);return m=B("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=By(y),E=new sf;return Object.assign(E,_),E})}}async computeTokens(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const m=xy(this.apiClient,e);return c=B("{model}:computeTokens",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=ky(g),y=new sg;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=E0(this.apiClient,e);return m=B("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>{const _=v0(y),E=new gi;return Object.assign(E,_),E})}else{const h=y0(this.apiClient,e);return m=B("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>{const _=g0(y),E=new gi;return Object.assign(E,_),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i_ extends $t{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,i=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:i});return r._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const r=e.operation,i=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:i});return r._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Xh(e);return m=B("{operationName}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f}else{const h=Qh(e);return m=B("{operationName}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f}}async fetchPredictVideosOperationInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const m=zh(e);return c=B("{resourceName}:fetchPredictOperation",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_(n){const e={},r=l(n,["data"]);if(r!=null&&u(e,["data"],r),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function l_(n){const e={},r=l(n,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>g_(c))),u(e,["parts"],a)}const i=l(n,["role"]);return i!=null&&u(e,["role"],i),e}function a_(n,e,r){const i={},a=l(e,["expireTime"]);r!==void 0&&a!=null&&u(r,["expireTime"],a);const c=l(e,["newSessionExpireTime"]);r!==void 0&&c!=null&&u(r,["newSessionExpireTime"],c);const f=l(e,["uses"]);r!==void 0&&f!=null&&u(r,["uses"],f);const m=l(e,["liveConnectConstraints"]);r!==void 0&&m!=null&&u(r,["bidiGenerateContentSetup"],h_(n,m));const g=l(e,["lockAdditionalFields"]);return r!==void 0&&g!=null&&u(r,["fieldMask"],g),i}function u_(n,e){const r={},i=l(e,["config"]);return i!=null&&u(r,["config"],a_(n,i,r)),r}function c_(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["fileUri"]);r!=null&&u(e,["fileUri"],r);const i=l(n,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function d_(n){const e={},r=l(n,["id"]);r!=null&&u(e,["id"],r);const i=l(n,["args"]);i!=null&&u(e,["args"],i);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function f_(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(n,["enableWidget"]);return r!=null&&u(e,["enableWidget"],r),e}function p_(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=l(n,["timeRangeFilter"]);return r!=null&&u(e,["timeRangeFilter"],r),e}function m_(n,e){const r={},i=l(n,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const a=l(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(n,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=l(n,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const m=l(n,["topK"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topK"],m);const g=l(n,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const h=l(n,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const y=l(n,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const _=l(n,["speechConfig"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","speechConfig"],Xl(_));const E=l(n,["thinkingConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","thinkingConfig"],E);const C=l(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],C);const N=l(n,["systemInstruction"]);e!==void 0&&N!=null&&u(e,["setup","systemInstruction"],l_(Qe(N)));const k=l(n,["tools"]);if(e!==void 0&&k!=null){let j=so(k);Array.isArray(j)&&(j=j.map(X=>y_(io(X)))),u(e,["setup","tools"],j)}const M=l(n,["sessionResumption"]);e!==void 0&&M!=null&&u(e,["setup","sessionResumption"],v_(M));const F=l(n,["inputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","inputAudioTranscription"],F);const q=l(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","outputAudioTranscription"],q);const H=l(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&u(e,["setup","realtimeInputConfig"],H);const J=l(n,["contextWindowCompression"]);e!==void 0&&J!=null&&u(e,["setup","contextWindowCompression"],J);const b=l(n,["proactivity"]);if(e!==void 0&&b!=null&&u(e,["setup","proactivity"],b),l(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function h_(n,e){const r={},i=l(e,["model"]);i!=null&&u(r,["setup","model"],ge(n,i));const a=l(e,["config"]);return a!=null&&u(r,["config"],m_(a,r)),r}function g_(n){const e={},r=l(n,["mediaResolution"]);r!=null&&u(e,["mediaResolution"],r);const i=l(n,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],c_(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],d_(f));const m=l(n,["functionResponse"]);m!=null&&u(e,["functionResponse"],m);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],s_(g));const h=l(n,["text"]);h!=null&&u(e,["text"],h);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const _=l(n,["thoughtSignature"]);_!=null&&u(e,["thoughtSignature"],_);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function v_(n){const e={},r=l(n,["handle"]);if(r!=null&&u(e,["handle"],r),l(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function y_(n){const e={},r=l(n,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),u(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(n,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(n,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(n,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(n,["googleMaps"]);m!=null&&u(e,["googleMaps"],f_(m));const g=l(n,["googleSearch"]);g!=null&&u(e,["googleSearch"],p_(g));const h=l(n,["urlContext"]);return h!=null&&u(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E_(n){const e=[];for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=n[r];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const a=Object.keys(i).map(c=>`${r}.${c}`);e.push(...a)}else e.push(r)}return e.join(",")}function __(n,e){let r=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const c=i.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,r=c):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(r){const c=E_(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];a.length>0&&(m=a.map(h=>f.includes(h)?`generationConfig.${h}`:h));const g=[];c&&g.push(c),m.length>0&&g.push(...m),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class S_ extends $t{constructor(e){super(),this.apiClient=e}async create(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=u_(this.apiClient,e);c=B("auth_tokens",m._url),f=m._query,delete m.config,delete m._url,delete m._query;const g=__(m,e.config);return a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T_(n,e){const r={},i=l(n,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),r}function C_(n){const e={},r=l(n,["name"]);r!=null&&u(e,["_url","name"],r);const i=l(n,["config"]);return i!=null&&T_(i,e),e}function I_(n){const e={},r=l(n,["name"]);return r!=null&&u(e,["_url","name"],r),e}function w_(n,e){const r={},i=l(n,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function A_(n){const e={},r=l(n,["parent"]);r!=null&&u(e,["_url","parent"],r);const i=l(n,["config"]);return i!=null&&w_(i,e),e}function R_(n){const e={},r=l(n,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const i=l(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(n,["documents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["documents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P_ extends $t{constructor(e){super(),this.apiClient=e,this.list=async r=>new Pn(Jt.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:r.parent,config:i.config}),await this.listInternal(r),r)}async get(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=I_(e);return c=B("{name}",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var r,i;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=C_(e);a=B("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=A_(e);return c=B("{parent}/documents",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const h=R_(g),y=new lg;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N_ extends $t{constructor(e,r=new P_(e)){super(),this.apiClient=e,this.documents=r,this.list=async(i={})=>new Pn(Jt.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=EE(e);return c=B("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=TE(e);return c=B("{name}",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var r,i;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=SE(e);a=B("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=PE(e);return c=B("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const h=NE(g),y=new ag;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ME(e);return c=B("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const h=xE(g),y=new ug;return Object.assign(y,h),y})}}async importFile(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=wE(e);return c=B("{file_search_store_name}:importFile",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const h=IE(g),y=new Ol;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let up=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return up=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),r=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^r()&15>>+i/4).toString(16))};const M_=()=>up();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vl(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Gl=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Et extends Error{}class je extends Et{constructor(e,r,i,a){super(`${je.makeMessage(e,r,i)}`),this.status=e,this.headers=a,this.error=r}static makeMessage(e,r,i){const a=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):i;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,r,i,a){if(!e||!a)return new wi({message:i,cause:Gl(r)});const c=r;return e===400?new dp(e,c,i,a):e===401?new fp(e,c,i,a):e===403?new pp(e,c,i,a):e===404?new mp(e,c,i,a):e===409?new hp(e,c,i,a):e===422?new gp(e,c,i,a):e===429?new vp(e,c,i,a):e>=500?new yp(e,c,i,a):new je(e,c,i,a)}}class Hl extends je{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class wi extends je{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class cp extends wi{constructor({message:e}={}){super({message:e??"Request timed out."})}}class dp extends je{}class fp extends je{}class pp extends je{}class mp extends je{}class hp extends je{}class gp extends je{}class vp extends je{}class yp extends je{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x_=/^[a-z][a-z0-9+.-]*:/i,k_=n=>x_.test(n);let Bl=n=>(Bl=Array.isArray,Bl(n));const D_=Bl;let L_=D_;const Pf=L_;function U_(n){if(!n)return!0;for(const e in n)return!1;return!0}function F_(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const V_=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Et(`${n} must be an integer`);if(e<0)throw new Et(`${n} must be a positive integer`);return e},G_=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H_=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const q_=()=>{var n,e,r,i,a;const c=B_();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":Mf(Deno.build.os),"X-Stainless-Arch":Nf(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":Mf((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":Nf((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const f=z_();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function z_(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of n){const i=r.exec(navigator.userAgent);if(i){const a=i[1]||0,c=i[2]||0,f=i[3]||0;return{browser:e,version:`${a}.${c}.${f}`}}}return null}const Nf=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Mf=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let ai;const J_=()=>ai??(ai=q_());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ep(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function O_(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Ep({start(){},async pull(r){const{done:i,value:a}=await e.next();i?r.close():r.enqueue(a)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function _p(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function W_(n){var e,r;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((r=(e=n[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const i=n.getReader(),a=i.cancel();i.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K_=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sp=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Al(n,e,r){return Sp(),new File(n,e??"unknown_file",r)}function Y_(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const Q_=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tp=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",X_=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Tp(n),Z_=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function b_(n,e,r){if(Sp(),n=await n,X_(n))return n instanceof File?n:Al([await n.arrayBuffer()],n.name);if(Z_(n)){const a=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Al(await ql(a),e,r)}const i=await ql(n);if(e||(e=Y_(n)),!(r!=null&&r.type)){const a=i.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof a=="string"&&(r=Object.assign(Object.assign({},r),{type:a}))}return Al(i,e,r)}async function ql(n){var e,r,i,a,c;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(Tp(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if(Q_(n))try{for(var m=!0,g=Pt(n),h;h=await g.next(),e=h.done,!e;m=!0){a=h.value,m=!1;const y=a;f.push(...await ql(y))}}catch(y){r={error:y}}finally{try{!m&&!e&&(i=g.return)&&await i.call(g)}finally{if(r)throw r.error}}else{const y=(c=n==null?void 0:n.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof n}${y?`; constructor: ${y}`:""}${j_(n)}`)}return f}function j_(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cp{constructor(e){this._client=e}}Cp._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ip(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const xf=Object.freeze(Object.create(null)),eS=(n=Ip)=>(function(r,...i){if(r.length===1)return r[0];let a=!1;const c=[],f=r.reduce((y,_,E)=>{var C,N,k;/[?#]/.test(_)&&(a=!0);const M=i[E];let F=(a?encodeURIComponent:n)(""+M);return E!==i.length&&(M==null||typeof M=="object"&&M.toString===((k=Object.getPrototypeOf((N=Object.getPrototypeOf((C=M.hasOwnProperty)!==null&&C!==void 0?C:xf))!==null&&N!==void 0?N:xf))===null||k===void 0?void 0:k.toString))&&(F=M+"",c.push({start:y.length+_.length,length:F.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),y+_+(E===i.length?"":F)},""),m=f.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=g.exec(m))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((y,_)=>y.start-_.start),c.length>0){let y=0;const _=c.reduce((E,C)=>{const N=" ".repeat(C.start-y),k="^".repeat(C.length);return y=C.start+C.length,E+N+k},"");throw new Et(`Path parameters result in path with invalid segments:
${c.map(E=>E.error).join(`
`)}
${f}
${_}`)}return f}),ui=eS(Ip);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wp extends Cp{create(e,r){var i;const{api_version:a=this._client.apiVersion}=e,c=yi(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new Et("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Et("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ui`/${a}/interactions`,Object.assign(Object.assign({body:c},r),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,r={},i){const{api_version:a=this._client.apiVersion}=r??{};return this._client.delete(ui`/${a}/interactions/${e}`,i)}cancel(e,r={},i){const{api_version:a=this._client.apiVersion}=r??{};return this._client.post(ui`/${a}/interactions/${e}/cancel`,i)}get(e,r={},i){var a;const c=r??{},{api_version:f=this._client.apiVersion}=c,m=yi(c,["api_version"]);return this._client.get(ui`/${f}/interactions/${e}`,Object.assign(Object.assign({query:m},i),{stream:(a=r==null?void 0:r.stream)!==null&&a!==void 0?a:!1}))}}wp._key=Object.freeze(["interactions"]);class Ap extends wp{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tS(n){let e=0;for(const a of n)e+=a.length;const r=new Uint8Array(e);let i=0;for(const a of n)r.set(a,i),i+=a.length;return r}let ci;function bl(n){let e;return(ci??(e=new globalThis.TextEncoder,ci=e.encode.bind(e)))(n)}let di;function kf(n){let e;return(di??(e=new globalThis.TextDecoder,di=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ai{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?bl(e):e;this.buffer=tS([this.buffer,r]);const i=[];let a;for(;(a=nS(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){i.push(kf(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,f=kf(this.buffer.subarray(0,c));i.push(f),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Ai.NEWLINE_CHARS=new Set([`
`,"\r"]);Ai.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function nS(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function oS(n){for(let i=0;i<n.length-1;i++){if(n[i]===10&&n[i+1]===10||n[i]===13&&n[i+1]===13)return i+2;if(n[i]===13&&n[i+1]===10&&i+3<n.length&&n[i+2]===13&&n[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ei={off:0,error:200,warn:300,info:400,debug:500},Df=(n,e,r)=>{if(n){if(F_(Ei,n))return n;be(r).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Ei))}`)}};function Xo(){}function fi(n,e,r){return!e||Ei[n]>Ei[r]?Xo:e[n].bind(e)}const rS={error:Xo,warn:Xo,info:Xo,debug:Xo};let Lf=new WeakMap;function be(n){var e;const r=n.logger,i=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!r)return rS;const a=Lf.get(r);if(a&&a[0]===i)return a[1];const c={error:fi("error",r,i),warn:fi("warn",r,i),info:fi("info",r,i),debug:fi("debug",r,i)};return Lf.set(r,[i,c]),c}const Rn=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class no{constructor(e,r,i){this.iterator=e,this.controller=r,this.client=i}static fromSSEResponse(e,r,i){let a=!1;const c=i?be(i):console;function f(){return Rt(this,arguments,function*(){var g,h,y,_;if(a)throw new Et("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var C=!0,N=Pt(iS(e,r)),k;k=yield re(N.next()),g=k.done,!g;C=!0){_=k.value,C=!1;const M=_;if(!E)if(M.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield re(JSON.parse(M.data))}catch(F){throw c.error("Could not parse message into JSON:",M.data),c.error("From chunk:",M.raw),F}}}catch(M){h={error:M}}finally{try{!C&&!g&&(y=N.return)&&(yield re(y.call(N)))}finally{if(h)throw h.error}}E=!0}catch(M){if(Vl(M))return yield re(void 0);throw M}finally{E||r.abort()}})}return new no(f,r,i)}static fromReadableStream(e,r,i){let a=!1;function c(){return Rt(this,arguments,function*(){var g,h,y,_;const E=new Ai,C=_p(e);try{for(var N=!0,k=Pt(C),M;M=yield re(k.next()),g=M.done,!g;N=!0){_=M.value,N=!1;const F=_;for(const q of E.decode(F))yield yield re(q)}}catch(F){h={error:F}}finally{try{!N&&!g&&(y=k.return)&&(yield re(y.call(k)))}finally{if(h)throw h.error}}for(const F of E.flush())yield yield re(F)})}function f(){return Rt(this,arguments,function*(){var g,h,y,_;if(a)throw new Et("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var C=!0,N=Pt(c()),k;k=yield re(N.next()),g=k.done,!g;C=!0){_=k.value,C=!1;const M=_;E||M&&(yield yield re(JSON.parse(M)))}}catch(M){h={error:M}}finally{try{!C&&!g&&(y=N.return)&&(yield re(y.call(N)))}finally{if(h)throw h.error}}E=!0}catch(M){if(Vl(M))return yield re(void 0);throw M}finally{E||r.abort()}})}return new no(f,r,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],i=this.iterator(),a=c=>({next:()=>{if(c.length===0){const f=i.next();e.push(f),r.push(f)}return c.shift()}});return[new no(()=>a(e),this.controller,this.client),new no(()=>a(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return Ep({async start(){r=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:c}=await r.next();if(c)return i.close();const f=bl(JSON.stringify(a)+`
`);i.enqueue(f)}catch(a){i.error(a)}},async cancel(){var i;await((i=r.return)===null||i===void 0?void 0:i.call(r))}})}}function iS(n,e){return Rt(this,arguments,function*(){var i,a,c,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Et("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Et("Attempted to iterate over a response with no body");const m=new lS,g=new Ai,h=_p(n.body);try{for(var y=!0,_=Pt(sS(h)),E;E=yield re(_.next()),i=E.done,!i;y=!0){f=E.value,y=!1;const C=f;for(const N of g.decode(C)){const k=m.decode(N);k&&(yield yield re(k))}}}catch(C){a={error:C}}finally{try{!y&&!i&&(c=_.return)&&(yield re(c.call(_)))}finally{if(a)throw a.error}}for(const C of g.flush()){const N=m.decode(C);N&&(yield yield re(N))}})}function sS(n){return Rt(this,arguments,function*(){var r,i,a,c;let f=new Uint8Array;try{for(var m=!0,g=Pt(n),h;h=yield re(g.next()),r=h.done,!r;m=!0){c=h.value,m=!1;const y=c;if(y==null)continue;const _=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?bl(y):y;let E=new Uint8Array(f.length+_.length);E.set(f),E.set(_,f.length),f=E;let C;for(;(C=oS(f))!==-1;)yield yield re(f.slice(0,C)),f=f.slice(C)}}catch(y){i={error:y}}finally{try{!m&&!r&&(a=g.return)&&(yield re(a.call(g)))}finally{if(i)throw i.error}}f.length>0&&(yield yield re(f))})}class lS{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,i,a]=aS(e,":");return a.startsWith(" ")&&(a=a.substring(1)),r==="event"?this.event=a:r==="data"&&this.data.push(a),null}}function aS(n,e){const r=n.indexOf(e);return r!==-1?[n.substring(0,r),e,n.substring(r+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uS(n,e){const{response:r,requestLogID:i,retryOfRequestLogID:a,startTime:c}=e,f=await(async()=>{var m;if(e.options.stream)return be(n).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,n):no.fromSSEResponse(r,e.controller,n);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const g=r.headers.get("content-type"),h=(m=g==null?void 0:g.split(";")[0])===null||m===void 0?void 0:m.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await r.json():await r.text()})();return be(n).debug(`[${i}] response parsed`,Rn({retryOfRequestLogID:a,url:r.url,status:r.status,body:f,durationMs:Date.now()-c})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jl extends Promise{constructor(e,r,i=uS){super(a=>{a(null)}),this.responsePromise=r,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new jl(this.client,this.responsePromise,async(r,i)=>e(await this.parseResponse(r,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rp=Symbol("brand.privateNullableHeaders");function*cS(n){if(!n)return;if(Rp in n){const{values:i,nulls:a}=n;yield*i.entries();for(const c of a)yield[c,null];return}let e=!1,r;n instanceof Headers?r=n.entries():Pf(n)?r=n:(e=!0,r=Object.entries(n??{}));for(let i of r){const a=i[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const c=Pf(i[1])?i[1]:[i[1]];let f=!1;for(const m of c)m!==void 0&&(e&&!f&&(f=!0,yield[a,null]),yield[a,m])}}const Rl=n=>{const e=new Headers,r=new Set;for(const i of n){const a=new Set;for(const[c,f]of cS(i)){const m=c.toLowerCase();a.has(m)||(e.delete(c),a.add(m)),f===null?(e.delete(c),r.add(m)):(e.append(c,f),r.delete(m))}}return{[Rp]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pl=n=>{var e,r,i,a,c,f;if(typeof globalThis.process<"u")return(i=(r=(e=Fh)===null||e===void 0?void 0:e[n])===null||r===void 0?void 0:r.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(f=(c=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||c===void 0?void 0:c.call(a,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pp;class Ri{constructor(e){var r,i,a,c,f,m,g,h=e===void 0?{}:e,{baseURL:y=Pl("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:_=(r=Pl("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:E="v1beta"}=h,C=yi(h,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:_,apiVersion:E},C),{baseURL:y||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(i=N.timeout)!==null&&i!==void 0?i:Ri.DEFAULT_TIMEOUT,this.logger=(a=N.logger)!==null&&a!==void 0?a:console;const k="warn";this.logLevel=k,this.logLevel=(f=(c=Df(N.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Df(Pl("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:k,this.fetchOptions=N.fetchOptions,this.maxRetries=(m=N.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(g=N.fetch)!==null&&g!==void 0?g:$_(),this.encoder=K_,this._options=N,this.apiKey=_,this.apiVersion=E}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Rl([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([r,i])=>typeof i<"u").map(([r,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(r)}=`;throw new Et(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${M_()}`}makeStatusError(e,r,i,a){return je.generate(e,r,i,a)}buildURL(e,r,i){const a=!this.baseURLOverridden()&&i||this.baseURL,c=k_(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return U_(f)||(r=Object.assign(Object.assign({},f),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(c.search=this.stringifyQuery(r)),c.toString()}async prepareOptions(e){}async prepareRequest(e,{url:r,options:i}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,i){return this.request(Promise.resolve(i).then(a=>Object.assign({method:e,path:r},a)))}request(e,r=null){return new jl(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,i){var a,c,f;const m=await e,g=(a=m.maxRetries)!==null&&a!==void 0?a:this.maxRetries;r==null&&(r=g),await this.prepareOptions(m);const{req:h,url:y,timeout:_}=await this.buildRequest(m,{retryCount:g-r});await this.prepareRequest(h,{url:y,options:m});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=i===void 0?"":`, retryOf: ${i}`,N=Date.now();if(be(this).debug(`[${E}] sending request`,Rn({retryOfRequestLogID:i,method:m.method,url:y,options:m,headers:h.headers})),!((c=m.signal)===null||c===void 0)&&c.aborted)throw new Hl;const k=new AbortController,M=await this.fetchWithTimeout(y,h,_,k).catch(Gl),F=Date.now();if(M instanceof globalThis.Error){const H=`retrying, ${r} attempts remaining`;if(!((f=m.signal)===null||f===void 0)&&f.aborted)throw new Hl;const J=Vl(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(r)return be(this).info(`[${E}] connection ${J?"timed out":"failed"} - ${H}`),be(this).debug(`[${E}] connection ${J?"timed out":"failed"} (${H})`,Rn({retryOfRequestLogID:i,url:y,durationMs:F-N,message:M.message})),this.retryRequest(m,r,i??E);throw be(this).info(`[${E}] connection ${J?"timed out":"failed"} - error; no more retries left`),be(this).debug(`[${E}] connection ${J?"timed out":"failed"} (error; no more retries left)`,Rn({retryOfRequestLogID:i,url:y,durationMs:F-N,message:M.message})),J?new cp:new wi({cause:M})}const q=`[${E}${C}] ${h.method} ${y} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${F-N}ms`;if(!M.ok){const H=await this.shouldRetry(M);if(r&&H){const Z=`retrying, ${r} attempts remaining`;return await W_(M.body),be(this).info(`${q} - ${Z}`),be(this).debug(`[${E}] response error (${Z})`,Rn({retryOfRequestLogID:i,url:M.url,status:M.status,headers:M.headers,durationMs:F-N})),this.retryRequest(m,r,i??E,M.headers)}const J=H?"error; no more retries left":"error; not retryable";be(this).info(`${q} - ${J}`);const b=await M.text().catch(Z=>Gl(Z).message),j=G_(b),X=j?void 0:b;throw be(this).debug(`[${E}] response error (${J})`,Rn({retryOfRequestLogID:i,url:M.url,status:M.status,headers:M.headers,message:X,durationMs:Date.now()-N})),this.makeStatusError(M.status,j,X,M.headers)}return be(this).info(q),be(this).debug(`[${E}] response start`,Rn({retryOfRequestLogID:i,url:M.url,status:M.status,headers:M.headers,durationMs:F-N})),{response:M,options:m,controller:k,requestLogID:E,retryOfRequestLogID:i,startTime:N}}async fetchWithTimeout(e,r,i,a){const c=r||{},{signal:f,method:m}=c,g=yi(c,["signal","method"]);f&&f.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),i),y=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,_=Object.assign(Object.assign(Object.assign({signal:a.signal},y?{duplex:"half"}:{}),{method:"GET"}),g);m&&(_.method=m.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(h)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,i,a){var c;let f;const m=a==null?void 0:a.get("retry-after-ms");if(m){const h=parseFloat(m);Number.isNaN(h)||(f=h)}const g=a==null?void 0:a.get("retry-after");if(g&&!f){const h=parseFloat(g);Number.isNaN(h)?f=Date.parse(g)-Date.now():f=h*1e3}if(!(f&&0<=f&&f<60*1e3)){const h=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(r,h)}return await H_(f),this.makeRequest(e,r-1,i)}calculateDefaultRetryTimeoutMillis(e,r){const c=r-e,f=Math.min(.5*Math.pow(2,c),8),m=1-Math.random()*.25;return f*m*1e3}async buildRequest(e,{retryCount:r=0}={}){var i,a,c;const f=Object.assign({},e),{method:m,path:g,query:h,defaultBaseURL:y}=f,_=this.buildURL(g,h,y);"timeout"in f&&V_("timeout",f.timeout),f.timeout=(i=f.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:f}),N=await this.buildHeaders({options:e,method:m,bodyHeaders:E,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:N},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(c=f.fetchOptions)!==null&&c!==void 0?c:{}),url:_,timeout:f.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:i,retryCount:a}){let c={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const f=Rl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),J_()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Rl([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:O_(e)}:this.encoder({body:e,headers:i})}}Ri.DEFAULT_TIMEOUT=6e4;class qe extends Ri{constructor(){super(...arguments),this.interactions=new Ap(this)}}Pp=qe;qe.GeminiNextGenAPIClient=Pp;qe.GeminiNextGenAPIClientError=Et;qe.APIError=je;qe.APIConnectionError=wi;qe.APIConnectionTimeoutError=cp;qe.APIUserAbortError=Hl;qe.NotFoundError=mp;qe.ConflictError=hp;qe.RateLimitError=vp;qe.BadRequestError=dp;qe.AuthenticationError=fp;qe.InternalServerError=yp;qe.PermissionDeniedError=pp;qe.UnprocessableEntityError=gp;qe.toFile=b_;qe.Interactions=Ap;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dS(n,e){const r={},i=l(n,["name"]);return i!=null&&u(r,["_url","name"],i),r}function fS(n,e){const r={},i=l(n,["name"]);return i!=null&&u(r,["_url","name"],i),r}function pS(n,e){const r={},i=l(n,["sdkHttpResponse"]);return i!=null&&u(r,["sdkHttpResponse"],i),r}function mS(n,e){const r={},i=l(n,["sdkHttpResponse"]);return i!=null&&u(r,["sdkHttpResponse"],i),r}function hS(n,e,r){const i={};if(l(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=l(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&u(e,["displayName"],a),l(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=l(n,["epochCount"]);e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","epochCount"],c);const f=l(n,["learningRateMultiplier"]);if(f!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],f),l(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=l(n,["batchSize"]);e!==void 0&&m!=null&&u(e,["tuningTask","hyperparameters","batchSize"],m);const g=l(n,["learningRate"]);if(e!==void 0&&g!=null&&u(e,["tuningTask","hyperparameters","learningRate"],g),l(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function gS(n,e,r){const i={};let a=l(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const C=l(n,["validationDataset"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec"],Uf(C))}else if(a==="PREFERENCE_TUNING"){const C=l(n,["validationDataset"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec"],Uf(C))}const c=l(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&u(e,["tunedModelDisplayName"],c);const f=l(n,["description"]);e!==void 0&&f!=null&&u(e,["description"],f);let m=l(r,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=l(n,["epochCount"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(m==="PREFERENCE_TUNING"){const C=l(n,["epochCount"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let g=l(r,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=l(n,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(g==="PREFERENCE_TUNING"){const C=l(n,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=l(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=l(n,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=l(n,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let y=l(r,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=l(n,["adapterSize"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(y==="PREFERENCE_TUNING"){const C=l(n,["adapterSize"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(l(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=l(n,["labels"]);e!==void 0&&_!=null&&u(e,["labels"],_);const E=l(n,["beta"]);return e!==void 0&&E!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),i}function vS(n,e){const r={},i=l(n,["baseModel"]);i!=null&&u(r,["baseModel"],i);const a=l(n,["preTunedModel"]);a!=null&&u(r,["preTunedModel"],a);const c=l(n,["trainingDataset"]);c!=null&&PS(c);const f=l(n,["config"]);return f!=null&&hS(f,r),r}function yS(n,e){const r={},i=l(n,["baseModel"]);i!=null&&u(r,["baseModel"],i);const a=l(n,["preTunedModel"]);a!=null&&u(r,["preTunedModel"],a);const c=l(n,["trainingDataset"]);c!=null&&NS(c,r,e);const f=l(n,["config"]);return f!=null&&gS(f,r,e),r}function ES(n,e){const r={},i=l(n,["name"]);return i!=null&&u(r,["_url","name"],i),r}function _S(n,e){const r={},i=l(n,["name"]);return i!=null&&u(r,["_url","name"],i),r}function SS(n,e,r){const i={},a=l(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=l(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const f=l(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function TS(n,e,r){const i={},a=l(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=l(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const f=l(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function CS(n,e){const r={},i=l(n,["config"]);return i!=null&&SS(i,r),r}function IS(n,e){const r={},i=l(n,["config"]);return i!=null&&TS(i,r),r}function wS(n,e){const r={},i=l(n,["sdkHttpResponse"]);i!=null&&u(r,["sdkHttpResponse"],i);const a=l(n,["nextPageToken"]);a!=null&&u(r,["nextPageToken"],a);const c=l(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Np(m))),u(r,["tuningJobs"],f)}return r}function AS(n,e){const r={},i=l(n,["sdkHttpResponse"]);i!=null&&u(r,["sdkHttpResponse"],i);const a=l(n,["nextPageToken"]);a!=null&&u(r,["nextPageToken"],a);const c=l(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>zl(m))),u(r,["tuningJobs"],f)}return r}function RS(n,e){const r={},i=l(n,["name"]);i!=null&&u(r,["model"],i);const a=l(n,["name"]);return a!=null&&u(r,["endpoint"],a),r}function PS(n,e){const r={};if(l(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=l(n,["examples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),u(r,["examples","examples"],a)}return r}function NS(n,e,r){const i={};let a=l(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=l(n,["gcsUri"]);e!==void 0&&f!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=l(n,["gcsUri"]);e!==void 0&&f!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=l(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=l(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=l(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(l(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Np(n,e){const r={},i=l(n,["sdkHttpResponse"]);i!=null&&u(r,["sdkHttpResponse"],i);const a=l(n,["name"]);a!=null&&u(r,["name"],a);const c=l(n,["state"]);c!=null&&u(r,["state"],Jf(c));const f=l(n,["createTime"]);f!=null&&u(r,["createTime"],f);const m=l(n,["tuningTask","startTime"]);m!=null&&u(r,["startTime"],m);const g=l(n,["tuningTask","completeTime"]);g!=null&&u(r,["endTime"],g);const h=l(n,["updateTime"]);h!=null&&u(r,["updateTime"],h);const y=l(n,["description"]);y!=null&&u(r,["description"],y);const _=l(n,["baseModel"]);_!=null&&u(r,["baseModel"],_);const E=l(n,["_self"]);return E!=null&&u(r,["tunedModel"],RS(E)),r}function zl(n,e){const r={},i=l(n,["sdkHttpResponse"]);i!=null&&u(r,["sdkHttpResponse"],i);const a=l(n,["name"]);a!=null&&u(r,["name"],a);const c=l(n,["state"]);c!=null&&u(r,["state"],Jf(c));const f=l(n,["createTime"]);f!=null&&u(r,["createTime"],f);const m=l(n,["startTime"]);m!=null&&u(r,["startTime"],m);const g=l(n,["endTime"]);g!=null&&u(r,["endTime"],g);const h=l(n,["updateTime"]);h!=null&&u(r,["updateTime"],h);const y=l(n,["error"]);y!=null&&u(r,["error"],y);const _=l(n,["description"]);_!=null&&u(r,["description"],_);const E=l(n,["baseModel"]);E!=null&&u(r,["baseModel"],E);const C=l(n,["tunedModel"]);C!=null&&u(r,["tunedModel"],C);const N=l(n,["preTunedModel"]);N!=null&&u(r,["preTunedModel"],N);const k=l(n,["supervisedTuningSpec"]);k!=null&&u(r,["supervisedTuningSpec"],k);const M=l(n,["preferenceOptimizationSpec"]);M!=null&&u(r,["preferenceOptimizationSpec"],M);const F=l(n,["tuningDataStats"]);F!=null&&u(r,["tuningDataStats"],F);const q=l(n,["encryptionSpec"]);q!=null&&u(r,["encryptionSpec"],q);const H=l(n,["partnerModelTuningSpec"]);H!=null&&u(r,["partnerModelTuningSpec"],H);const J=l(n,["customBaseModel"]);J!=null&&u(r,["customBaseModel"],J);const b=l(n,["experiment"]);b!=null&&u(r,["experiment"],b);const j=l(n,["labels"]);j!=null&&u(r,["labels"],j);const X=l(n,["outputUri"]);X!=null&&u(r,["outputUri"],X);const de=l(n,["pipelineJob"]);de!=null&&u(r,["pipelineJob"],de);const Z=l(n,["serviceAccount"]);Z!=null&&u(r,["serviceAccount"],Z);const se=l(n,["tunedModelDisplayName"]);se!=null&&u(r,["tunedModelDisplayName"],se);const Ee=l(n,["veoTuningSpec"]);return Ee!=null&&u(r,["veoTuningSpec"],Ee),r}function MS(n,e){const r={},i=l(n,["sdkHttpResponse"]);i!=null&&u(r,["sdkHttpResponse"],i);const a=l(n,["name"]);a!=null&&u(r,["name"],a);const c=l(n,["metadata"]);c!=null&&u(r,["metadata"],c);const f=l(n,["done"]);f!=null&&u(r,["done"],f);const m=l(n,["error"]);return m!=null&&u(r,["error"],m),r}function Uf(n,e){const r={},i=l(n,["gcsUri"]);i!=null&&u(r,["validationDatasetUri"],i);const a=l(n,["vertexDatasetResource"]);return a!=null&&u(r,["validationDatasetUri"],a),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xS extends $t{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Pn(Jt.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var i;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const a={tunedModelName:r.baseModel};!((i=r.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(a.checkpointId=r.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},r),{preTunedModel:a});return c.baseModel=void 0,await this.tuneInternal(c)}else{const a=Object.assign({},r);return await this.tuneInternal(a)}else{const a=Object.assign({},r),c=await this.tuneMldevInternal(a);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:Ml.JOB_STATE_QUEUED}}}}async getInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=_S(e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>zl(y))}else{const h=ES(e);return m=B("{name}",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>Np(y))}}async listInternal(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=IS(e);return m=B("tuningJobs",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=AS(y),E=new lf;return Object.assign(E,_),E})}else{const h=CS(e);return m=B("tunedModels",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=wS(y),E=new lf;return Object.assign(E,_),E})}}async cancel(e){var r,i,a,c;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=fS(e);return m=B("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=mS(y),E=new af;return Object.assign(E,_),E})}else{const h=dS(e);return m=B("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const _=pS(y),E=new af;return Object.assign(E,_),E})}}async tuneInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const m=yS(e,e);return c=B("tuningJobs",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>zl(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=vS(e);return c=B("tunedModels",m._url),f=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>MS(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kS{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DS=1024*1024*8,LS=3,US=1e3,FS=2,_i="x-goog-upload-status";async function VS(n,e,r){var i;const a=await Mp(n,e,r),c=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[_i])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function GS(n,e,r){var i;const a=await Mp(n,e,r),c=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[_i])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=Vf(c),m=new Wl;return Object.assign(m,f),m}async function Mp(n,e,r){var i,a;let c=0,f=0,m=new xl(new Response),g="upload";for(c=n.size;f<c;){const h=Math.min(DS,c-f),y=n.slice(f,f+h);f+h>=c&&(g+=", finalize");let _=0,E=US;for(;_<LS&&(m=await r.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(f),"Content-Length":String(h)}}}),!(!((i=m==null?void 0:m.headers)===null||i===void 0)&&i[_i]));)_++,await BS(E),E=E*FS;if(f+=h,((a=m==null?void 0:m.headers)===null||a===void 0?void 0:a[_i])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function HS(n){return{size:n.size,type:n.type}}function BS(n){return new Promise(e=>setTimeout(e,n))}class qS{async upload(e,r,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VS(e,r,i)}async uploadToFileSearchStore(e,r,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GS(e,r,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HS(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zS{create(e,r,i){return new JS(e,r,i)}}class JS{constructor(e,r,i){this.url=e,this.headers=r,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ff="x-goog-api-key";class $S{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(Ff)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ff,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OS="gl-node/";class WS{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new qe({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=r.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const i=Bh(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new $S(this.apiKey);this.apiClient=new HE({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:OS+"web",uploader:new qS,downloader:new kS}),this.models=new r_(this.apiClient),this.live=new bE(this.apiClient,a,new zS),this.batches=new hv(this.apiClient),this.chats=new Xv(this.models,this.apiClient),this.caches=new Kv(this.apiClient),this.files=new sy(this.apiClient),this.operations=new i_(this.apiClient),this.authTokens=new S_(this.apiClient),this.tunings=new xS(this.apiClient),this.fileSearchStores=new N_(this.apiClient)}}const KS=`
  :root {
    --bg-color: #F5F5F7;
    --text-primary: #1d1d1f;
    --text-secondary: #86868b;
    --accent-blue: #0071e3;
    --card-bg: #ffffff;
    --border-color: #d2d2d7;
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.04);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased;
    line-height: 1.5;
    padding: 40px 20px;
  }

  .container {
    max-width: 800px;
    margin: 0 auto;
  }

  .header {
    text-align: center;
    margin-bottom: 40px;
  }

  .header h1 {
    font-size: 32px;
    font-weight: 600;
    letter-spacing: -0.02em;
    margin-bottom: 8px;
  }

  .header p {
    color: var(--text-secondary);
    font-size: 17px;
  }

  /* Dropzone */
  .dropzone {
    background: var(--card-bg);
    border: 2px dashed var(--border-color);
    border-radius: 12px;
    padding: 60px 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-bottom: 40px;
  }

  .dropzone:hover, .dropzone.active {
    border-color: var(--accent-blue);
    background-color: rgba(0, 113, 227, 0.02);
  }

  .dropzone-icon {
    font-size: 48px;
    color: var(--accent-blue);
    margin-bottom: 16px;
    display: block;
  }

  .dropzone-text {
    font-size: 19px;
    font-weight: 500;
    margin-bottom: 8px;
  }

  .dropzone-subtext {
    color: var(--text-secondary);
    font-size: 14px;
  }

  /* Results */
  .results-grid {
    display: grid;
    gap: 24px;
  }

  .guest-card {
    background: var(--card-bg);
    border-radius: 16px;
    padding: 24px;
    box-shadow: var(--shadow-md);
    transition: transform 0.2s ease;
  }

  .guest-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 1px solid #f0f0f0;
  }

  .guest-name {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
  }

  .guest-conf {
    font-family: "SF Mono", SFMono-Regular, ui-monospace, monospace;
    font-size: 13px;
    color: var(--text-secondary);
    margin-top: 4px;
  }

  .badge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .badge-blue { background: rgba(0, 113, 227, 0.1); color: var(--accent-blue); }
  .badge-purple { background: rgba(175, 82, 222, 0.1); color: #af52de; }
  .badge-green { background: rgba(52, 199, 89, 0.1); color: #34c759; }

  .details-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }

  .detail-item {
    display: flex;
    flex-direction: column;
  }

  .detail-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-secondary);
    margin-bottom: 4px;
    font-weight: 600;
  }

  .detail-value {
    font-size: 15px;
    color: var(--text-primary);
  }

  /* Loading Spinner */
  .spinner-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px;
  }

  .spinner {
    width: 32px;
    height: 32px;
    border: 3px solid rgba(0, 113, 227, 0.1);
    border-radius: 50%;
    border-top-color: var(--accent-blue);
    animation: spin 1s linear infinite;
    margin-bottom: 16px;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  .loading-text {
    color: var(--text-secondary);
    font-size: 15px;
  }

  .error-message {
    background-color: #fff2f2;
    border: 1px solid #ffcccc;
    color: #ff3b30;
    padding: 16px;
    border-radius: 8px;
    text-align: center;
    margin-bottom: 24px;
  }
`,YS=()=>ie.jsxs("div",{className:"spinner-container",children:[ie.jsx("div",{className:"spinner"}),ie.jsx("div",{className:"loading-text",children:"Analyzing Arrivals Report..."})]}),QS=({guest:n})=>{let e="badge-blue";return n.identifiedBy==="Previous Stays"&&(e="badge-green"),n.identifiedBy==="Both"&&(e="badge-purple"),ie.jsxs("div",{className:"guest-card",children:[ie.jsxs("div",{className:"guest-card-header",children:[ie.jsxs("div",{children:[ie.jsx("div",{className:"guest-name",children:n.guestName}),ie.jsxs("div",{className:"guest-conf",children:["#",n.confirmationNumber]})]}),ie.jsx("span",{className:`badge ${e}`,children:n.identifiedBy})]}),ie.jsxs("div",{className:"details-grid",children:[ie.jsxs("div",{className:"detail-item",children:[ie.jsx("span",{className:"detail-label",children:"Prev. Stays"}),ie.jsx("span",{className:"detail-value",children:n.numberOfPreviousStays})]}),ie.jsxs("div",{className:"detail-item",children:[ie.jsx("span",{className:"detail-label",children:"Accompanying"}),ie.jsx("span",{className:"detail-value",children:n.accompanyingGuests})]}),ie.jsxs("div",{className:"detail-item",children:[ie.jsx("span",{className:"detail-label",children:"Fixed Charge"}),ie.jsx("span",{className:"detail-value",children:n.fixedChargeDescription})]}),ie.jsxs("div",{className:"detail-item",children:[ie.jsx("span",{className:"detail-label",children:"Amount"}),ie.jsx("span",{className:"detail-value",children:n.fixedChargeAmount})]})]})]})},XS=()=>{const[n,e]=An.useState(!1),[r,i]=An.useState(!1),[a,c]=An.useState(null),[f,m]=An.useState(null),g=An.useRef(null),h=async C=>{i(!0),m(null),c(null);try{const N=await new Promise((b,j)=>{const X=new FileReader;X.onloadend=()=>{const de=X.result.split(",")[1];b(de)},X.onerror=j,X.readAsDataURL(C)}),k=new WS({apiKey:void 0}),M={type:$e.ARRAY,items:{type:$e.OBJECT,properties:{guestName:{type:$e.STRING},confirmationNumber:{type:$e.STRING},identifiedBy:{type:$e.STRING,enum:["Fixed Charge","Previous Stays","Both"]},numberOfPreviousStays:{type:$e.STRING},fixedChargeDescription:{type:$e.STRING},fixedChargeAmount:{type:$e.STRING},accompanyingGuests:{type:$e.STRING}},required:["guestName","confirmationNumber","identifiedBy","numberOfPreviousStays","fixedChargeDescription","fixedChargeAmount","accompanyingGuests"]}},H=(await k.models.generateContent({model:"gemini-2.5-flash",contents:[{parts:[{text:`
        You are an intelligent document-analysis assistant.
        Your task is to identify all returning guests from the provided "Castle Hot Springs Arrivals Detailed" PDF.
        
        PRIMARY GOAL
        Identify guests who are returning guests using either:
        1) A Fixed Charge that explicitly indicates a return guest (e.g., "Return Guest", "Return Guest Credit").
        2) A Previous Stays / Number of Stays value of 1 or greater.

        If either is true, the guest is a Returning Guest.

        DATA TO EXTRACT (For each returning guest):
        - Primary Guest Name (Preserve exact spelling, Last, First)
        - Confirmation Number
        - Returning Guest Identified By: "Fixed Charge", "Previous Stays", or "Both"
        - Number of Previous Stays: Numeric value or "N/A"
        - Fixed Charge Description: Description text or "None". 
          **IMPORTANT RULE: If the description is "1185 Return Guest Thank", extract it as "Return Guest Credit".**
        - Fixed Charge Amount: Amount or "N/A". 
          **IMPORTANT RULE: Always extract as a positive number (e.g. convert -100.00 to 100.00). Remove any negative signs.**
        - Accompanying Guest(s): Full name(s) or "None"

        INTERPRETATION RULES:
        - Do not infer missing data.
        - Treat each reservation independently.
        - If "Prev. Stays" is blank/missing, assume 0/N/A unless Fixed Charge is present.
      `},{inlineData:{mimeType:C.type,data:N}}]}],config:{responseMimeType:"application/json",responseSchema:M}})).text;if(!H)throw new Error("No data returned from AI");const J=JSON.parse(H);c(J)}catch(N){console.error(N),m("Failed to analyze the file. Please ensure it is a valid PDF and try again.")}finally{i(!1)}},y=An.useCallback(C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?e(!0):C.type==="dragleave"&&e(!1)},[]),_=An.useCallback(C=>{if(C.preventDefault(),C.stopPropagation(),e(!1),C.dataTransfer.files&&C.dataTransfer.files[0]){const N=C.dataTransfer.files[0];N.type==="application/pdf"?h(N):m("Please upload a valid PDF file.")}},[]),E=C=>{C.target.files&&C.target.files[0]&&h(C.target.files[0])};return ie.jsxs(ie.Fragment,{children:[ie.jsx("style",{children:KS}),ie.jsxs("div",{className:"container",children:[ie.jsxs("header",{className:"header",children:[ie.jsx("h1",{children:"Return Guest Analyser"}),ie.jsx("p",{children:"Identify returning guests automatically."})]}),!a&&!r&&ie.jsxs("div",{className:`dropzone ${n?"active":""}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:_,onClick:()=>{var C;return(C=g.current)==null?void 0:C.click()},children:[ie.jsx("input",{ref:g,type:"file",accept:".pdf",style:{display:"none"},onChange:E}),ie.jsx("span",{className:"dropzone-icon",children:""}),ie.jsx("div",{className:"dropzone-text",children:"Drag & drop Arrivals PDF"}),ie.jsx("div",{className:"dropzone-subtext",children:"or click to browse"})]}),f&&ie.jsx("div",{className:"error-message",children:f}),r&&ie.jsx(YS,{}),a&&ie.jsxs("div",{className:"results-grid",children:[ie.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[ie.jsxs("h2",{style:{fontSize:"20px",fontWeight:600},children:["Returning Guests Found (",a.length,")"]}),ie.jsx("button",{onClick:()=>c(null),style:{background:"none",border:"none",color:"var(--accent-blue)",cursor:"pointer",fontSize:"15px"},children:"Analyze Another"})]}),a.length===0?ie.jsx("div",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"40px"},children:"No returning guests identified in this report."}):a.map((C,N)=>ie.jsx(QS,{guest:C},N))]})]})]})},ZS=Uh.createRoot(document.getElementById("root"));ZS.render(ie.jsx(XS,{}));
